<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>示例演示</title>
    <meta name="renderer" content="webkit">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!--jquery引用-->
    <script src="js/jquery-3.1.1.min.js"></script>
    <!-- 注意：项目正式环境请勿引用该地址 -->
    <script src="js/layui/layui.js"></script>
    <!-- 注意：项目正式环境请勿引用该地址 -->
    <link href="js/layui/css/layui.css" rel="stylesheet">
    <!-- import basic style files mui-player.min.css -->
    <link rel="stylesheet" type="text/css" href="js/mui-player/mui-player.min.css"/>

    <!-- import basic script mui-player.min.js -->
    <script type="text/javascript" src="js/mui-player/mui-player.min.js"></script>
</head>
<body>

<fieldset class="layui-elem-field layui-field-title" style="margin-top: 20px;">
    <legend id="tanleName">表名</legend>
</fieldset>
<form class="layui-form layui-form-pane" id="formList" action="">

    <div class="layui-form-item" id="videoDiv">
    </div>
</form>
<fieldset class="layui-elem-field layui-field-title" style="margin-top: 20px;">
    <legend id="videoSrc">本地地址</legend>
</fieldset>
<script>
    let formData, cols, mp;
    layui.use(['form', 'util', 'laydate'], function () {
        var form = layui.form;
        var layer = layui.layer;
        var util = layui.util;
        var laydate = layui.laydate;

        if (sessionStorage.formData) {
            formData = JSON.parse(sessionStorage.formData);
        }
        if (sessionStorage.cols) {
            cols = JSON.parse(sessionStorage.cols);
        }
        console.log('[信息]接受到的表单信息', cols, formData)
        $("#tanleName").text(formData.name);
        var videoSrc = getVideoSrc(formData.video)
        console.log('[信息]视频地址', formData.name, videoSrc)
        $("#videoDiv").html("<video id='video' src = '" + videoSrc + "'" +
            "width=\"99%\" height=\"99%\" controls autoplay></video>")
        // mp = new MuiPlayer({
        //     container: '#videoDiv',
        //     title: formData.name,
        //     src: videoSrc,
        // })
        $("#videoSrc").html("<a href='" + videoSrc + "' target='_blank'>" + formData.video + "</a>");
    });

    /**
     * 变更地址
     * @param video
     * @returns {string}
     */
    function getVideoSrc(video) {
        var name = video.substring(video.lastIndexOf('\\') + 1, video.length);
        // return "https://www.anlinxi.top:5003/faker/data/video/" + name;
        return "http://192.168.123.223/faker/data/video/" + name;
    }

</script>

</body>
</html>