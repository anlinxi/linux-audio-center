{"version":3,"sources":["webpack:///./src/components/common/comments.vue","webpack:///./src/components/common/reply-comment.vue","webpack:///src/components/common/reply-comment.vue","webpack:///./src/components/common/reply-comment.vue?249b","webpack:///./src/components/common/reply-comment.vue?d04f","webpack:///src/components/common/comments.vue","webpack:///./src/components/common/comments.vue?81c0","webpack:///./src/components/common/comments.vue?6b9f","webpack:///./src/views/album/index.vue?3de4","webpack:///./src/components/common/reply-comment.vue?84ee","webpack:///./src/components/common/comments.vue?7d15","webpack:///./src/views/album/index.vue","webpack:///src/views/album/index.vue","webpack:///./src/views/album/index.vue?6323","webpack:///./src/views/album/index.vue?a37d"],"names":["render","_vm","this","_c","_self","staticClass","_v","_s","total","userInfo","nickname","attrs","avatarUrl","slot","_e","msg","directives","name","rawName","value","expression","domProps","on","$event","target","composing","subComment","length","maxLen","comments","_l","item","index","key","commentId","path","query","id","user","userId","content","beReplied","replyItem","beRepliedCommentId","$utils","formatMsgTime","time","delComment","class","liked","likeComment","likedCount","replyComment","isHot","isShowReply","replyMsg","currentChange","isEmpty","_m","staticRenderFns","params","subReplyComment","components","props","data","computed","methods","$emit","watch","substring","component","type","Number","default","String","curId","limit","offset","before","hotComments","currentPage","replyCommentId","replyIndex","mapGetters","mounted","getComment","mapMutations","getSongComment","getMvComment","getAlbumComment","getVideoComment","res","$http","commentSong","msgHandler","commentMv","albumComment","commentVideo","code","$msg","error","map","t","comment","success","isLogin","commentHandler","setLoginDialog","$msgBox","confirm","confirmButtonText","cancelButtonText","center","then","catch","commentLike","cid","page","newVal","oldVal","details","picUrl","artists","author","k","formartDate","publishTime","company","description","isShowDesc","showAllDesc","size","playAllSongs","dynamic","isSub","subAlbum","songList","ref","albumId","hotAlbums","Comments","$route","_initialize","setPlayStatus","setPlayList","setPlayIndex","album","_formatSongs","songs","getArtistAlbum","albumDynamic","artistAlbum","playAll","list","albumSub","ret","license","privilege","cp","push","formatSongInfo","getAlbum","getAlbumDynamic","mapActions","newId","oldId"],"mappings":"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","file":"js/chunk-1697451e.97ef9d1d.js","sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"comments\"},[_c('div',{staticClass:\"comment_hd\"},[_c('h2',[_vm._v(\"评论\"),_c('em',[_vm._v(\"共\"+_vm._s(_vm.total)+\"条评论\")])]),(_vm.userInfo)?_c('div',{staticClass:\"userInfo\"},[_c('span',[_vm._v(_vm._s(_vm.userInfo.nickname))]),_c('el-image',{staticClass:\"avatar\",attrs:{\"src\":_vm.userInfo.avatarUrl}},[_c('div',{staticClass:\"image-slot\",attrs:{\"slot\":\"placeholder\"},slot:\"placeholder\"},[_c('i',{staticClass:\"iconfont icon-placeholder\"})])])],1):_vm._e()]),_c('el-form',{staticClass:\"comment_box\"},[_c('div',{staticClass:\"comment_textarea\"},[_c('div',{staticClass:\"pre\"},[_vm._v(_vm._s(_vm.msg))]),_c('textarea',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.msg),expression:\"msg\"}],staticClass:\"J_inpBox inp-paragraph\",attrs:{\"name\":\"leave_msg\",\"id\":\"leave_msg\",\"placeholder\":\"期待你的神评论……\"},domProps:{\"value\":(_vm.msg)},on:{\"input\":function($event){if($event.target.composing)return;_vm.msg=$event.target.value}}})]),_c('div',{staticClass:\"comment_box_footer\"},[_c('el-button',{attrs:{\"type\":\"primary\",\"size\":\"mini\"},on:{\"click\":_vm.subComment}},[_vm._v(\"评论\")]),_c('span',{staticClass:\"comment_limit\"},[_c('em',{staticClass:\"num\"},[_vm._v(_vm._s(_vm.msg.length))]),_vm._v(\"/\"+_vm._s(_vm.maxLen))])],1)]),_c('div',{staticClass:\"comment_area\"},[(_vm.comments.length)?[_vm._l((_vm.comments),function(item,index){return _c('div',{key:item.commentId + index + '',staticClass:\"comment_item\"},[_c('router-link',{staticClass:\"comment_avatar\",attrs:{\"to\":{ path: '/user', query: { id: item.user.userId }}}},[_c('el-image',{attrs:{\"src\":item.user.avatarUrl + '?param=120y120'}},[_c('div',{staticClass:\"image-slot\",attrs:{\"slot\":\"placeholder\"},slot:\"placeholder\"},[_c('i',{staticClass:\"iconfont icon-placeholder\"})])])],1),_c('div',{staticClass:\"comment_info\"},[_c('router-link',{attrs:{\"to\":{ path: '/user', query: { id: item.user.userId }}}},[_vm._v(_vm._s(item.user.nickname))]),_c('div',{staticClass:\"comment_content\"},[_vm._v(\" \"+_vm._s(item.content)+\" \")]),_vm._l((item.beReplied),function(replyItem){return _c('div',{key:replyItem.beRepliedCommentId,staticClass:\"comment_reply\"},[_c('router-link',{attrs:{\"to\":{ path: '/user', query: { id: replyItem.user.userId }}}},[_vm._v(_vm._s(replyItem.user.nickname))]),_vm._v(\": \"+_vm._s(replyItem.content)+\" \")],1)}),_c('div',{staticClass:\"comment_footer\"},[_c('div',{staticClass:\"comment_time\"},[_vm._v(_vm._s(_vm.$utils.formatMsgTime(item.time)))]),_c('div',{staticClass:\"comment_oper\"},[(_vm.userInfo && _vm.userInfo.userId === item.user.userId)?_c('em',{staticClass:\"comment_del\",on:{\"click\":function($event){return _vm.delComment(item)}}},[_c('i',{staticClass:\"iconfont icon-del\"})]):_vm._e(),_c('span',{class:[ item.liked ? 'active' : ''],on:{\"click\":function($event){return _vm.likeComment(item)}}},[_c('i',{staticClass:\"iconfont icon-praise\"}),_vm._v(\"(\"+_vm._s(item.likedCount)+\")\")]),_c('span',{staticClass:\"replyComment\",on:{\"click\":function($event){return _vm.replyComment(item, index)}}},[_c('i',{staticClass:\"iconfont icon-comment\"})])])]),(item.isHot)?_c('div',{staticClass:\"isHot\"},[_c('i',{staticClass:\"iconfont icon-choicest\"})]):_vm._e(),_c('transition',{attrs:{\"name\":\"fade\",\"mode\":\"out-in\"}},[(_vm.isShowReply(item, index))?_c('replyComment',{attrs:{\"params\":item},on:{\"replyMsg\":_vm.replyMsg}}):_vm._e()],1)],2)],1)}),_c('div',{staticClass:\"pagination\"},[_c('el-pagination',{attrs:{\"background\":\"\",\"layout\":\"prev, pager, next\",\"total\":this.total},on:{\"current-change\":_vm.currentChange}})],1)]:_c('div',{staticClass:\"comments_status\"},[(!_vm.isEmpty)?_c('div',{staticClass:\"loading\"},[_vm._v(\"评论加载中...\")]):_c('div',{staticClass:\"empty\"},[_vm._m(0),_c('p',[_vm._v(\"暂无留言\")])])])],2)],1)\n}\nvar staticRenderFns = [function (){var _vm=this,_c=_vm._self._c;return _c('p',[_c('i',{staticClass:\"iconfont icon-empty-main\"})])\n}]\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"reply-comment\"},[_c('h3',[_vm._v(\"我回复@\"+_vm._s(_vm.params.user.nickname)+\":\")]),_c('div',{staticClass:\"comment_textarea\"},[_c('div',{staticClass:\"pre\"},[_vm._v(_vm._s(_vm.msg))]),_c('textarea',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.msg),expression:\"msg\"}],staticClass:\"J_inpBox inp-paragraph\",attrs:{\"name\":\"leave_msg\",\"id\":\"leave_msg\",\"placeholder\":\"期待你的神评论……\"},domProps:{\"value\":(_vm.msg)},on:{\"input\":function($event){if($event.target.composing)return;_vm.msg=$event.target.value}}})]),_c('div',{staticClass:\"comment_box_footer\"},[_c('span',{staticClass:\"comment_limit\"},[_c('em',{staticClass:\"num\"},[_vm._v(_vm._s(_vm.msg.length))]),_vm._v(\"/\"+_vm._s(_vm.maxLen))]),_c('el-button',{attrs:{\"type\":\"primary\",\"size\":\"mini\",\"round\":\"\"},on:{\"click\":_vm.subReplyComment}},[_vm._v(\"评论\")])],1)])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <div class='reply-comment'>\r\n        <h3>我回复@{{params.user.nickname}}:</h3>\r\n        <div class=\"comment_textarea\">\r\n            <div class=\"pre\">{{msg}}</div>\r\n            <textarea class=\"J_inpBox inp-paragraph\" name=\"leave_msg\" id=\"leave_msg\" placeholder=\"期待你的神评论……\" v-model=\"msg\"></textarea>\r\n        </div>\r\n        <div class=\"comment_box_footer\">\r\n            <span class=\"comment_limit\"><em class=\"num\">{{msg.length}}</em>/{{maxLen}}</span>\r\n            <el-button type=\"primary\" size=\"mini\" round @click=\"subReplyComment\">评论</el-button>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n    name: 'replyComment',\r\n    components: {},\r\n    props: ['params'],\r\n    data () {\r\n        // 这里存放数据\r\n        return {\r\n            msg: '',\r\n            maxLen: 140\r\n        }\r\n    },\r\n    // 监听属性 类似于data概念\r\n    computed: {},\r\n    // 方法集合\r\n    methods: {\r\n        subReplyComment () {\r\n            this.$emit('replyMsg', this.msg)\r\n        }\r\n    },\r\n    watch: {\r\n        msg () {\r\n            this.msg = this.maxLen >= this.msg ? this.msg : this.msg.substring(0, this.maxLen)\r\n        }\r\n    }\r\n}\r\n</script>\r\n<style scoped lang=\"less\">\r\n.reply-comment {\r\n    padding: 10px 15px;\r\n    background: #efefef;\r\n    border-radius: 4px;\r\n\r\n    h3 {\r\n        line-height: 14px;\r\n        padding-bottom: 10px;\r\n        font-size: 14px;\r\n        font-weight: normal;\r\n        color: #999;\r\n    }\r\n}\r\n.comment_textarea {\r\n    position: relative;\r\n    border: 1px solid #e9e9e9;\r\n    border-radius: 4px;\r\n    background: #fff;\r\n}\r\n\r\n.pre {\r\n    visibility: hidden;\r\n}\r\n\r\n.inp-paragraph {\r\n    position: absolute;\r\n    top: 0;\r\n    left: 0;\r\n    height: calc(100% - 20px);\r\n    resize: none;\r\n    width: auto;\r\n    padding: 0;\r\n    border: 0;\r\n    margin: 0;\r\n    font-family: inherit;\r\n    border-radius: 0;\r\n    box-shadow: none;\r\n    overflow: hidden;\r\n}\r\n\r\n.inp-paragraph, .pre {\r\n    width: calc(100% - 30px);\r\n    padding: 10px 15px;\r\n    line-height: 24px;\r\n    min-height: 24px;\r\n    font-size: 14px;\r\n    color: #333;\r\n    border-radius: 4px;\r\n    white-space: pre-wrap;\r\n    word-wrap: break-word\r\n}\r\n.comment_box_footer {\r\n    padding: 15px 0 0;\r\n    text-align: right;\r\n}\r\n\r\n.comment_limit {\r\n    display: inline-block;\r\n    line-height: 28px;\r\n    padding: 0 20px;\r\n    font-size: 14px;\r\n    color: #666;\r\n\r\n    em {\r\n        font-style: normal;\r\n    }\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/_thread-loader@2.1.3@thread-loader/dist/cjs.js!../../../node_modules/_babel-loader@8.3.0@babel-loader/lib/index.js!../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/_vue-loader@15.10.1@vue-loader/lib/index.js??vue-loader-options!./reply-comment.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/_thread-loader@2.1.3@thread-loader/dist/cjs.js!../../../node_modules/_babel-loader@8.3.0@babel-loader/lib/index.js!../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/_vue-loader@15.10.1@vue-loader/lib/index.js??vue-loader-options!./reply-comment.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./reply-comment.vue?vue&type=template&id=6a6b203a&scoped=true&\"\nimport script from \"./reply-comment.vue?vue&type=script&lang=js&\"\nexport * from \"./reply-comment.vue?vue&type=script&lang=js&\"\nimport style0 from \"./reply-comment.vue?vue&type=style&index=0&id=6a6b203a&prod&scoped=true&lang=less&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/_vue-loader@15.10.1@vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"6a6b203a\",\n  null\n  \n)\n\nexport default component.exports","<template>\r\n    <div class='comments'>\r\n        <div class=\"comment_hd\">\r\n            <h2>评论<em>共{{total}}条评论</em></h2>\r\n            <div class=\"userInfo\" v-if=\"userInfo\">\r\n                <span>{{userInfo.nickname}}</span>\r\n                <el-image :src=\"userInfo.avatarUrl\" class=\"avatar\">\r\n                    <div slot=\"placeholder\" class=\"image-slot\">\r\n                        <i class=\"iconfont icon-placeholder\"></i>\r\n                    </div>\r\n                </el-image>\r\n            </div>\r\n        </div>\r\n        <el-form class=\"comment_box\">\r\n            <div class=\"comment_textarea\">\r\n                <div class=\"pre\">{{msg}}</div>\r\n                <textarea class=\"J_inpBox inp-paragraph\" name=\"leave_msg\" id=\"leave_msg\" placeholder=\"期待你的神评论……\" v-model=\"msg\"></textarea>\r\n            </div>\r\n            <div class=\"comment_box_footer\">\r\n                <el-button type=\"primary\" size=\"mini\" @click=\"subComment\">评论</el-button>\r\n                <span class=\"comment_limit\"><em class=\"num\">{{msg.length}}</em>/{{maxLen}}</span>\r\n            </div>\r\n        </el-form>\r\n        <div class=\"comment_area\">\r\n            <template v-if=\"comments.length\">\r\n                <div class=\"comment_item\" v-for=\"(item, index) in comments\" :key=\"item.commentId + index + ''\">\r\n                    <router-link :to=\"{ path: '/user', query: { id: item.user.userId }}\" class=\"comment_avatar\">\r\n                        <el-image :src=\"item.user.avatarUrl + '?param=120y120'\">\r\n                            <div slot=\"placeholder\" class=\"image-slot\">\r\n                                <i class=\"iconfont icon-placeholder\"></i>\r\n                            </div>\r\n                        </el-image>\r\n                    </router-link>\r\n                    <div class=\"comment_info\">\r\n                        <router-link :to=\"{ path: '/user', query: { id: item.user.userId }}\">{{ item.user.nickname }}</router-link>\r\n                        <div class=\"comment_content\">\r\n                            {{ item.content }}\r\n                        </div>\r\n                        <div class=\"comment_reply\" v-for=\"replyItem in item.beReplied\" :key=\"replyItem.beRepliedCommentId\">\r\n                            <router-link :to=\"{ path: '/user', query: { id: replyItem.user.userId }}\">{{ replyItem.user.nickname }}</router-link>: {{ replyItem.content }}\r\n                        </div>\r\n                        <div class=\"comment_footer\">\r\n                            <div class=\"comment_time\">{{$utils.formatMsgTime(item.time)}}</div>\r\n                            <div class=\"comment_oper\">\r\n                                <em class=\"comment_del\" v-if=\"userInfo && userInfo.userId === item.user.userId\" @click=\"delComment(item)\"><i class=\"iconfont icon-del\"></i></em>\r\n                                <span :class=\"[ item.liked ? 'active' : '']\" @click=\"likeComment(item)\"><i class=\"iconfont icon-praise\"></i>({{item.likedCount}})</span>\r\n                                <span class=\"replyComment\" @click=\"replyComment(item, index)\"><i class=\"iconfont icon-comment\"></i></span>\r\n                            </div>\r\n                        </div>\r\n                        <div class=\"isHot\" v-if=\"item.isHot\">\r\n                            <i class=\"iconfont icon-choicest\"></i>\r\n                        </div>\r\n                        <transition name=\"fade\" mode=\"out-in\">\r\n                            <replyComment :params=\"item\" v-if=\"isShowReply(item, index)\" @replyMsg=\"replyMsg\"></replyComment>\r\n                        </transition>\r\n                    </div>\r\n                </div>\r\n                <div class=\"pagination\">\r\n                    <el-pagination\r\n                        background\r\n                        @current-change=\"currentChange\"\r\n                        layout=\"prev, pager, next\"\r\n                        :total=\"this.total\">\r\n                    </el-pagination>\r\n                </div>\r\n            </template>\r\n            <div v-else class=\"comments_status\">\r\n                <div class=\"loading\" v-if=\"!isEmpty\">评论加载中...</div>\r\n                <div class=\"empty\" v-else>\r\n                    <p><i class=\"iconfont icon-empty-main\"></i></p>\r\n                    <p>暂无留言</p>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport { mapGetters, mapMutations } from 'vuex'\r\nimport replyComment from '@components/common/reply-comment'\r\nexport default {\r\n    name: 'Comments',\r\n    components: {\r\n        replyComment\r\n    },\r\n    props: {\r\n        // 0: 歌曲 1: mv 2: 歌单 3: 专辑  4: 电台 5: 视频 6: 动态\r\n        type: {\r\n            type: Number,\r\n            default: 0\r\n        },\r\n        id: {\r\n            type: String,\r\n            default: '0'\r\n        }\r\n    },\r\n    data () {\r\n        // 这里存放数据\r\n        return {\r\n            msg: '',\r\n            maxLen: 140,\r\n            curId: this.id,\r\n            limit: 20,\r\n            offset: 0,\r\n            before: 0,\r\n            hotComments: [],\r\n            comments: [],\r\n            total: 0,\r\n            currentPage: 0,\r\n            isEmpty: false,\r\n            replyCommentId: 0,\r\n            replyIndex: -1\r\n        }\r\n    },\r\n    // 监听属性 类似于data概念\r\n    computed: {\r\n        ...mapGetters(['isLogin', 'userInfo']),\r\n        isShowReply () {\r\n            return function (item, index) {\r\n                return item.commentId === this.replyCommentId && this.replyIndex === index\r\n            }\r\n        }\r\n    },\r\n    mounted () {\r\n        this.getComment()\r\n    },\r\n    // 方法集合\r\n    methods: {\r\n        ...mapMutations(['setLoginDialog']),\r\n        // 获取页面评论\r\n        getComment () {\r\n            switch (this.type) {\r\n                case 0:\r\n                    this.getSongComment()\r\n                break\r\n                case 1:\r\n                    this.getMvComment()\r\n                break\r\n                case 3:\r\n                    this.getAlbumComment()\r\n                break\r\n                case 5:\r\n                    this.getVideoComment()\r\n                break\r\n            }\r\n        },\r\n        async getSongComment () {\r\n            const { data: res } = await this.$http.commentSong({ id: this.curId, limit: this.limit, offset: this.offset, before: this.before })\r\n\r\n            this.msgHandler(res)\r\n        },\r\n        async getMvComment () {\r\n            const { data: res } = await this.$http.commentMv({ id: this.curId, limit: this.limit, offset: this.offset, before: this.before })\r\n\r\n            this.msgHandler(res)\r\n        },\r\n        async getAlbumComment () {\r\n            const { data: res } = await this.$http.albumComment({ id: this.curId, limit: this.limit, offset: this.offset, before: this.before })\r\n\r\n            this.msgHandler(res)\r\n        },\r\n        async getVideoComment () {\r\n            const { data: res } = await this.$http.commentVideo({ id: this.curId, limit: this.limit, offset: this.offset, before: this.before })\r\n\r\n            this.msgHandler(res)\r\n        },\r\n        msgHandler (res) {\r\n            if (res.code !== 200) {\r\n                return this.$msg.error('数据请求失败')\r\n            }\r\n            this.total = res.total\r\n            this.hotComments = res.hotComments || []\r\n            this.hotComments.map(item => {\r\n                item.isHot = true\r\n                return item\r\n            })\r\n            this.comments = [...this.hotComments, ...res.comments]\r\n            // 当前评论是否为空\r\n            this.isEmpty = this.before === 0 && !this.comments.length\r\n        },\r\n        // 发布/删除/回复评论\r\n        async commentHandler (t, content, commentId) {\r\n            const params = {\r\n                t: t, // 0删除 1发送 2回复\r\n                type: this.type, // 0: 歌曲 1: mv 2: 歌单 3: 专辑  4: 电台 5: 视频 6: 动态\r\n                id: this.curId, // 对应资源id\r\n                content: content, // 发送的内容/对应内容的id\r\n                commentId: commentId // 回复的评论id\r\n            }\r\n            const { data: res } = await this.$http.comment(params)\r\n\r\n            if (res.code !== 200) {\r\n                return this.$msg.error('数据请求失败')\r\n            }\r\n            this.msg = ''\r\n            this.getComment()\r\n            if (t === 0) {\r\n                this.$msg.success('删除评论成功！')\r\n            } else if (t === 1) {\r\n                this.$msg.success('评论成功！')\r\n            } else if (t === 2) {\r\n                this.$msg.success('回复评论成功！')\r\n                this.replyCommentId = 0\r\n                this.replyIndex = -1\r\n            }\r\n        },\r\n        // 发布评论\r\n        subComment () {\r\n            if (!this.isLogin) {\r\n                this.setLoginDialog(true)\r\n                return\r\n            }\r\n            this.commentHandler(1, this.msg)\r\n        },\r\n        // 删除评论\r\n        delComment (item) {\r\n            this.$msgBox.confirm('确定删除评论？', '提示', {\r\n                    confirmButtonText: '确定',\r\n                    cancelButtonText: '取消',\r\n                    center: true\r\n                }).then(() => {\r\n                    this.commentHandler(0, '', item.commentId)\r\n                }).catch(() => {\r\n                })\r\n        },\r\n        // 回复评论\r\n        replyComment (item, index) {\r\n            if (!this.isLogin) {\r\n                this.setLoginDialog(true)\r\n                return\r\n            }\r\n            this.replyCommentId = (this.replyCommentId === item.commentId && this.replyIndex === index) ? 0 : item.commentId\r\n            this.replyIndex = index\r\n        },\r\n        replyMsg (msg) {\r\n            if (!this.isLogin) {\r\n                this.setLoginDialog(true)\r\n                return\r\n            }\r\n            this.commentHandler(2, msg, this.replyCommentId)\r\n        },\r\n        // 给评论点赞\r\n        async likeComment (item) {\r\n            if (!this.isLogin) {\r\n                this.setLoginDialog(true)\r\n                return\r\n            }\r\n\r\n            const { data: res } = await this.$http.commentLike({ id: this.curId, cid: item.commentId, t: Number(!item.liked), type: this.type })\r\n\r\n            if (res.code !== 200) {\r\n                return this.$msg.error('数据请求失败')\r\n            }\r\n            this.getComment()\r\n        },\r\n        // 留言分页\r\n        currentChange (page) {\r\n            this.offset = (page - 1) * this.limit\r\n            this.getComment()\r\n        }\r\n    },\r\n    watch: {\r\n        id (newVal, oldVal) {\r\n            this.curId = newVal\r\n            this.offset = 0\r\n            this.getComment()\r\n        },\r\n        msg () {\r\n            this.msg = this.maxLen >= this.msg ? this.msg : this.msg.substring(0, this.maxLen)\r\n        }\r\n    }\r\n}\r\n</script>\r\n<style scoped lang=\"less\">\r\n.comments {\r\n    padding-top: 30px;\r\n}\r\n\r\n.comment_hd {\r\n    display: flex;\r\n    align-items: center;\r\n    height: 60px;\r\n    font-size: 0;\r\n\r\n    h2 {\r\n        flex: 1;\r\n        font-size: 24px;\r\n        line-height: 24px;\r\n        font-weight: normal;\r\n\r\n        em {\r\n            padding-left: 20px;\r\n            font-size: 14px;\r\n            line-height: 14px;\r\n            font-style: normal;\r\n            color: #999;\r\n        }\r\n    }\r\n\r\n    .userInfo {\r\n        .avatar {\r\n            width: 30px;\r\n            height: 30px;\r\n            border-radius: 4px;\r\n            vertical-align: top;\r\n        }\r\n\r\n        span {\r\n            display: inline-block;\r\n            padding: 0 20px;\r\n            line-height: 30px;\r\n            font-size: 14px;\r\n            color: #666;\r\n        }\r\n    }\r\n}\r\n\r\n.comment_box {\r\n\r\n    .comment_textarea {\r\n        position: relative;\r\n        border: 1px solid #e9e9e9;\r\n        border-radius: 4px;\r\n        background: #fff;\r\n    }\r\n\r\n    .pre {\r\n        visibility: hidden;\r\n    }\r\n\r\n    .inp-paragraph {\r\n        position: absolute;\r\n        top: 0;\r\n        left: 0;\r\n        height: calc(100% - 20px);\r\n        resize: none;\r\n        width: auto;\r\n        padding: 0;\r\n        border: 0;\r\n        margin: 0;\r\n        font-family: inherit;\r\n        border-radius: 0;\r\n        box-shadow: none;\r\n        overflow: hidden;\r\n    }\r\n\r\n    .inp-paragraph, .pre {\r\n        width: calc(100% - 30px);\r\n        padding: 10px 15px;\r\n        line-height: 24px;\r\n        min-height: 90px;\r\n        font-size: 14px;\r\n        color: #333;\r\n        border-radius: 4px;\r\n        white-space: pre-wrap;\r\n        word-wrap: break-word\r\n    }\r\n\r\n    .comment_box_footer {\r\n        display: flex;\r\n        padding: 15px 0 50px;\r\n        justify-content: space-between;\r\n    }\r\n\r\n    .comment_limit {\r\n        display: inline-block;\r\n        line-height: 28px;\r\n        padding: 0 0 0 20px;\r\n        font-size: 14px;\r\n        color: #666;\r\n\r\n        em {\r\n            font-style: normal;\r\n        }\r\n    }\r\n}\r\n\r\n.comments_status {\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: center;\r\n    min-height: 300px;\r\n\r\n    .loading {\r\n        font-size: 14px;\r\n        line-height: 24px;\r\n        color: #999;\r\n    }\r\n\r\n    .empty {\r\n        text-align: center;\r\n\r\n        p {\r\n            font-size: 14px;\r\n            line-height: 24px;\r\n            color: #999;\r\n        }\r\n\r\n        .icon-empty-main {\r\n            line-height: 140px;\r\n            font-size: 100px;\r\n            color: #bbb;\r\n            opacity: .8;\r\n        }\r\n    }\r\n}\r\n\r\n.comment_item {\r\n    position: relative;\r\n    display: flex;\r\n    padding: 15px 0;\r\n    border-bottom: 1px solid #f2f2f2;\r\n\r\n    .comment_avatar {\r\n        display: in;\r\n        width: 40px;\r\n        height: 40px;\r\n        border-radius: 100%;\r\n        overflow: hidden;\r\n    }\r\n\r\n    .comment_info {\r\n        flex: 1;\r\n        padding-left: 20px;\r\n\r\n        a {\r\n            display: inline-block;\r\n            padding-bottom: 10px;\r\n            line-height: 14px;\r\n            color: #999;\r\n\r\n            &:hover {\r\n                color: @color-theme;\r\n            }\r\n        }\r\n    }\r\n\r\n    .comment_content {\r\n        line-height: 24px;\r\n    }\r\n\r\n    .comment_reply {\r\n        padding: 10px;\r\n        line-height: 28px;\r\n        margin: 5px 0;\r\n        border-radius: 4px;\r\n        color: #666;\r\n        background: #f2f2f2;\r\n\r\n        a {\r\n            display: inline-block;\r\n            line-height: 28px;\r\n            padding: 0;\r\n        }\r\n    }\r\n\r\n    .comment_footer {\r\n        display: flex;\r\n        color: #999;\r\n\r\n        .comment_time {\r\n            display: inline-block;\r\n            line-height: 28px;\r\n        }\r\n\r\n        .comment_oper {\r\n            flex: 1;\r\n            text-align: right;\r\n\r\n            span {\r\n                display: inline-block;\r\n                margin-left: 15px;\r\n                line-height: 28px;\r\n                cursor: pointer;\r\n\r\n                &.active, &.active .iconfont  {\r\n                    color: @color-theme;\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    .isHot {\r\n        position: absolute;\r\n        right: 0;\r\n        top: -8px;\r\n        z-index: 1;\r\n        // transform: rotate(45deg);\r\n\r\n        .icon-choicest {\r\n            font-size: 60px;\r\n            color: @color-theme;\r\n            opacity: .8;\r\n        }\r\n    }\r\n\r\n    .comment_del {\r\n        cursor: pointer;\r\n        display: none;\r\n    }\r\n\r\n    &:hover {\r\n        .comment_del {\r\n            display: inline-block;\r\n        }\r\n    }\r\n\r\n    &:last-child {\r\n        border: none;\r\n    }\r\n}\r\n\r\n.pagination {\r\n    padding: 30px 0;\r\n    text-align: center;\r\n}\r\n\r\n.fade-enter-active, .fade-leave-active {\r\n    transition: opacity .3s;\r\n}\r\n.fade-enter, .fade-leave-to /* .fade-leave-active below version 2.1.8 */ {\r\n    opacity: 0;\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/_thread-loader@2.1.3@thread-loader/dist/cjs.js!../../../node_modules/_babel-loader@8.3.0@babel-loader/lib/index.js!../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/_vue-loader@15.10.1@vue-loader/lib/index.js??vue-loader-options!./comments.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/_thread-loader@2.1.3@thread-loader/dist/cjs.js!../../../node_modules/_babel-loader@8.3.0@babel-loader/lib/index.js!../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/_vue-loader@15.10.1@vue-loader/lib/index.js??vue-loader-options!./comments.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./comments.vue?vue&type=template&id=bf18895a&scoped=true&\"\nimport script from \"./comments.vue?vue&type=script&lang=js&\"\nexport * from \"./comments.vue?vue&type=script&lang=js&\"\nimport style0 from \"./comments.vue?vue&type=style&index=0&id=bf18895a&prod&scoped=true&lang=less&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/_vue-loader@15.10.1@vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"bf18895a\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../node_modules/_mini-css-extract-plugin@0.9.0@mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../node_modules/_css-loader@3.6.0@css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../../node_modules/_vue-loader@15.10.1@vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/_postcss-loader@3.0.0@postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../node_modules/_less-loader@7.3.0@less-loader/dist/cjs.js??ref--11-oneOf-1-3!../../../node_modules/_style-resources-loader@1.5.0@style-resources-loader/lib/index.js??ref--11-oneOf-1-4!../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/_vue-loader@15.10.1@vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=7241a2ad&prod&scoped=true&lang=less&\"","export * from \"-!../../../node_modules/_mini-css-extract-plugin@0.9.0@mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../node_modules/_css-loader@3.6.0@css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../../node_modules/_vue-loader@15.10.1@vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/_postcss-loader@3.0.0@postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../node_modules/_less-loader@7.3.0@less-loader/dist/cjs.js??ref--11-oneOf-1-3!../../../node_modules/_style-resources-loader@1.5.0@style-resources-loader/lib/index.js??ref--11-oneOf-1-4!../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/_vue-loader@15.10.1@vue-loader/lib/index.js??vue-loader-options!./reply-comment.vue?vue&type=style&index=0&id=6a6b203a&prod&scoped=true&lang=less&\"","export * from \"-!../../../node_modules/_mini-css-extract-plugin@0.9.0@mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../node_modules/_css-loader@3.6.0@css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../../node_modules/_vue-loader@15.10.1@vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/_postcss-loader@3.0.0@postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../node_modules/_less-loader@7.3.0@less-loader/dist/cjs.js??ref--11-oneOf-1-3!../../../node_modules/_style-resources-loader@1.5.0@style-resources-loader/lib/index.js??ref--11-oneOf-1-4!../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/_vue-loader@15.10.1@vue-loader/lib/index.js??vue-loader-options!./comments.vue?vue&type=style&index=0&id=bf18895a&prod&scoped=true&lang=less&\"","var render = function render(){var _vm=this,_c=_vm._self._c;return (_vm.details)?_c('div',{staticClass:\"album\"},[_c('div',{staticClass:\"w1200\"},[_c('div',{staticClass:\"album-cover\"},[_c('div',{staticClass:\"album-img\"},[_c('el-image',{attrs:{\"src\":_vm.details.picUrl}},[_c('div',{staticClass:\"image-slot\",attrs:{\"slot\":\"placeholder\"},slot:\"placeholder\"},[_c('i',{staticClass:\"iconfont icon-placeholder\"})])])],1),_c('div',{staticClass:\"album-info\"},[_c('div',{staticClass:\"album-title\"},[_vm._v(\" \"+_vm._s(_vm.details.name)+\" \"),_c('span',[_vm._v(_vm._s('#' + _vm.details.type))])]),_c('div',{staticClass:\"album-singer\"},[_vm._v(\"歌手：\"),_vm._l((_vm.details.artists),function(author,k){return _c('router-link',{key:author.name,staticClass:\"song_name\",attrs:{\"to\":{ path: '/singer', query: { id: author.id }}}},[_vm._v(_vm._s(k !== 0 ? ' / ' + author.name : author.name))])})],2),_c('div',{staticClass:\"album-time\"},[_vm._v(\"发行时间：\"+_vm._s(_vm.$utils.formartDate(_vm.details.publishTime, 'yyyy-MM-dd')))]),_c('div',{staticClass:\"album-company\"},[_vm._v(\"发行公司：\"+_vm._s(_vm.details.company))]),(_vm.details.description)?_c('div',{staticClass:\"album-desc\"},[_c('h5',[_vm._v(\"歌单简介\"),(_vm.isShowDesc)?_c('em',{staticClass:\"desc-close\",on:{\"click\":function($event){_vm.isShowDesc = false}}},[_c('i',{staticClass:\"iconfont icon-closed\"})]):_vm._e()]),_c('p',{on:{\"click\":_vm.showAllDesc}},[_vm._v(_vm._s(_vm.details.description))]),(_vm.isShowDesc)?_c('pre',{staticClass:\"album-desc-all\"},[_vm._v(\"                        \"+_vm._s(_vm.details.description)+\"\\n                    \")]):_vm._e()]):_vm._e()])]),_c('div',{staticClass:\"detail-container\"},[_c('div',{staticClass:\"detail-main\"},[_c('div',{staticClass:\"song-header\"},[_c('h4',[_vm._v(\"包含歌曲列表 \"),_c('em',[_vm._v(_vm._s(_vm.details.size + '首歌'))])]),_c('span',{staticClass:\"play-all\",on:{\"click\":_vm.playAllSongs}},[_c('i',{staticClass:\"iconfont icon-audio-play\"}),_vm._v(\" 播放全部\")]),_c('span',{class:['collect', _vm.dynamic.isSub ? 'active' : ''],on:{\"click\":_vm.subAlbum}},[_c('i',{class:['iconfont', 'icon-collect' + (_vm.dynamic.isSub ? '-active' : '')]}),_vm._v(\" \"+_vm._s(_vm.dynamic.isSub ? '已收藏' : '收藏'))])]),_c('song-list',{attrs:{\"songList\":_vm.songList,\"stripe\":true}}),_c('div',{ref:\"comment\",staticClass:\"album-comments\"},[_c('Comments',{attrs:{\"type\":_vm.type,\"id\":_vm.albumId}})],1)],1),_c('div',{staticClass:\"detail-aside\"},[_c('h3',{staticClass:\"aside-title\"},[_vm._v(_vm._s(_vm.details.artists[0].name)+\"的其他专辑\"),_c('router-link',{staticClass:\"album-more\",attrs:{\"to\":{ path: '/singer', query: { id: _vm.details.artists[0].id, type: 'album' }}}},[_vm._v(\"全部>>\")])],1),_c('div',{staticClass:\"aside-main aside-album-main\"},_vm._l((_vm.hotAlbums),function(item){return _c('router-link',{key:item.id,staticClass:\"aside-album-item\",attrs:{\"to\":{ path: '/album', query: { id: item.id }}}},[_c('el-image',{attrs:{\"src\":item.picUrl}},[_c('div',{staticClass:\"image-slot\",attrs:{\"slot\":\"placeholder\"},slot:\"placeholder\"},[_c('i',{staticClass:\"iconfont icon-placeholder\"})])]),_c('div',{staticClass:\"aside-album-info\"},[_c('div',{staticClass:\"aside-album-name\"},[_vm._v(_vm._s(item.name))]),_c('div',{staticClass:\"aside-album-time\"},[_vm._v(\" \"+_vm._s(_vm.$utils.formartDate(_vm.details.publishTime, 'yyyy-MM-dd'))+\" \")])])],1)}),1)])])])]):_vm._e()\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <div class='album' v-if=\"details\">\r\n        <div class=\"w1200\">\r\n            <div class=\"album-cover\">\r\n                <div class=\"album-img\">\r\n                    <el-image :src=\"details.picUrl\">\r\n                        <div slot=\"placeholder\" class=\"image-slot\">\r\n                            <i class=\"iconfont icon-placeholder\"></i>\r\n                        </div>\r\n                    </el-image>\r\n                </div>\r\n                <div class=\"album-info\">\r\n                    <div class=\"album-title\">\r\n                        {{details.name}}\r\n                        <span>{{'#' + details.type}}</span>\r\n                    </div>\r\n                    <div class=\"album-singer\">歌手：<router-link :to=\"{ path: '/singer', query: { id: author.id }}\" class=\"song_name\" v-for=\"(author, k) in details.artists\" :key=\"author.name\">{{ k !== 0 ? ' / ' + author.name : author.name }}</router-link></div>\r\n                    <div class=\"album-time\">发行时间：{{$utils.formartDate(details.publishTime, 'yyyy-MM-dd')}}</div>\r\n                    <div class=\"album-company\">发行公司：{{details.company}}</div>\r\n                    <div class=\"album-desc\" v-if=\"details.description\">\r\n                        <h5>歌单简介<em class=\"desc-close\" v-if=\"isShowDesc\" @click=\"isShowDesc = false\"><i class=\"iconfont icon-closed\"></i></em></h5>\r\n                        <p  @click=\"showAllDesc\">{{details.description}}</p>\r\n                        <pre class=\"album-desc-all\" v-if=\"isShowDesc\">\r\n                            {{details.description}}\r\n                        </pre>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div class=\"detail-container\">\r\n                <div class=\"detail-main\">\r\n                    <div class=\"song-header\">\r\n                        <h4>包含歌曲列表 <em>{{details.size + '首歌'}}</em></h4>\r\n                        <span class=\"play-all\" @click=\"playAllSongs\"><i class=\"iconfont icon-audio-play\"></i> 播放全部</span>\r\n                        <span :class=\"['collect', dynamic.isSub ? 'active' : '']\" @click=\"subAlbum\"><i :class=\"['iconfont', 'icon-collect' + (dynamic.isSub ? '-active' : '')]\"></i> {{ dynamic.isSub ? '已收藏' : '收藏'}}</span>\r\n                    </div>\r\n                    <song-list :songList=\"songList\" :stripe=\"true\"></song-list>\r\n                    <div class=\"album-comments\" ref=comment>\r\n                        <Comments :type=\"type\" :id=\"albumId\"></Comments>\r\n                    </div>\r\n                </div>\r\n                <div class=\"detail-aside\">\r\n                    <h3 class=\"aside-title\">{{details.artists[0].name}}的其他专辑<router-link :to=\"{ path: '/singer', query: { id: details.artists[0].id, type: 'album' }}\" class=\"album-more\">全部>></router-link></h3>\r\n                    <div class=\"aside-main aside-album-main\">\r\n                        <router-link class=\"aside-album-item\" :to=\"{ path: '/album', query: { id: item.id }}\" v-for=\"item in hotAlbums\" :key=\"item.id\">\r\n                            <el-image :src=\"item.picUrl\">\r\n                                <div slot=\"placeholder\" class=\"image-slot\">\r\n                                    <i class=\"iconfont icon-placeholder\"></i>\r\n                                </div>\r\n                            </el-image>\r\n                            <div class=\"aside-album-info\">\r\n                                <div class=\"aside-album-name\">{{item.name}}</div>\r\n                                <div class=\"aside-album-time\">\r\n                                    {{$utils.formartDate(details.publishTime, 'yyyy-MM-dd')}}\r\n                                </div>\r\n                            </div>\r\n                        </router-link>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport { mapMutations, mapActions } from 'vuex'\r\nimport { formatSongInfo } from '@utils/song'\r\nimport songList from '@components/common/song-list'\r\nimport Comments from '@components/common/comments.vue'\r\nexport default {\r\n    name: 'albumDetail',\r\n    components: {\r\n        songList,\r\n        Comments\r\n    },\r\n    mounted () {\r\n        this.albumId = this.$route.query.id\r\n        this._initialize()\r\n    },\r\n    data () {\r\n        // 这里存放数据\r\n        return {\r\n            // 歌单详情\r\n            albumId: '',\r\n            details: null,\r\n            songList: [],\r\n            dynamic: {},\r\n            hotAlbums: [],\r\n            comments: [],\r\n            type: 3, // 0: 歌曲 1: mv 2: 歌单 3: 专辑  4: 电台 5: 视频 6: 动态\r\n            isShowDesc: false\r\n        }\r\n    },\r\n    // 监听属性 类似于data概念\r\n    computed: {},\r\n    // 方法集合\r\n    methods: {\r\n        ...mapMutations({\r\n            setPlayStatus: 'SET_PLAYSTATUS',\r\n            setPlayList: 'SET_PLAYLIST',\r\n            setPlayIndex: 'SET_PLAYINDEX'\r\n        }),\r\n        // 相关歌单推荐\r\n        async getAlbum (params) {\r\n            const { data: res } = await this.$http.album(params)\r\n\r\n            if (res.code !== 200) {\r\n                return this.$msg.error('数据请求失败')\r\n            }\r\n\r\n            this.details = res.album\r\n            this.songList = this._formatSongs(res.songs)\r\n            this.getArtistAlbum()\r\n        },\r\n        async getAlbumDynamic (params) {\r\n            const { data: res } = await this.$http.albumDynamic(params)\r\n\r\n            if (res.code !== 200) {\r\n                return this.$msg.error('数据请求失败')\r\n            }\r\n            this.dynamic = res\r\n        },\r\n        async getArtistAlbum () {\r\n            const { data: res } = await this.$http.artistAlbum({ id: this.details.artists[0].id, limit: 5 })\r\n\r\n            if (res.code !== 200) {\r\n                return this.$msg.error('数据请求失败')\r\n            }\r\n            this.hotAlbums = res.hotAlbums\r\n        },\r\n        // 专辑简介查看更多\r\n        showAllDesc () {\r\n            if (this.details.description.length > 120) {\r\n                this.isShowDesc = !this.isShowDesc\r\n            }\r\n        },\r\n        playAllSongs () {\r\n            this.playAll({\r\n                list: this.songList\r\n            })\r\n        },\r\n        async subAlbum () {\r\n            const { data: res } = await this.$http.albumSub({ id: this.albumId, t: Number(!this.dynamic.isSub) })\r\n\r\n            if (res.code !== 200) {\r\n                return this.$msg.error('数据请求失败')\r\n            }\r\n            this.dynamic.isSub = Number(!this.dynamic.isSub)\r\n        },\r\n        // 处理歌曲\r\n        _formatSongs (list) {\r\n            const ret = []\r\n            list.map((item, index) => {\r\n                if (item.id) {\r\n                    // 是否有版权播放\r\n                    item.license = !list[index].privilege.cp\r\n                    ret.push(formatSongInfo(item))\r\n                }\r\n            })\r\n            return ret\r\n        },\r\n        _initialize () {\r\n            this.getAlbum({ id: this.albumId })\r\n            this.getAlbumDynamic({ id: this.albumId })\r\n        },\r\n        ...mapActions(['playAll'])\r\n    },\r\n    watch: {\r\n        $route (newId, oldId) {\r\n            this.albumId = this.$route.query.id\r\n            if (this.albumId) {\r\n                this._initialize()\r\n            }\r\n        }\r\n    }\r\n}\r\n</script>\r\n<style scoped lang=\"less\">\r\n.detail-container {\r\n    display: flex;\r\n    flex-direction: row;\r\n    flex: 1;\r\n    flex-basis: auto;\r\n    box-sizing: border-box;\r\n}\r\n.detail-main {\r\n    flex: 1;\r\n    padding-bottom: 100px;\r\n    overflow: hidden;\r\n}\r\n.detail-aside {\r\n    width: 300px;\r\n    padding-left: 20px;\r\n\r\n    .aside-title {\r\n        position: relative;\r\n        font-size: 16px;\r\n        line-height: 24px;\r\n\r\n        .album-more {\r\n            display: inline-block;\r\n            position: absolute;\r\n            right: 0;\r\n            top: 0;\r\n            font-weight: normal;\r\n            font-size: 12px;\r\n            color: #666;\r\n        }\r\n\r\n        &::before {\r\n            content: '';\r\n            display: inline-block;\r\n            width: 4px;\r\n            height: 18px;\r\n            margin: 3px 5px 0 0;\r\n            border-radius: 2px;\r\n            background: @color-theme;\r\n            vertical-align: top;\r\n        }\r\n    }\r\n}\r\n.album-cover {\r\n    display: flex;\r\n    padding: 40px 0;\r\n}\r\n.album-img {\r\n    position: relative;\r\n    width: 260px;\r\n    height: 260px;\r\n\r\n    .el-image {\r\n        z-index: 2;\r\n    }\r\n\r\n    &::after {\r\n        display: inline-block;\r\n        content: '';\r\n        position: absolute;\r\n        top: 0;\r\n        right: -40px;\r\n        width: 100%;\r\n        height: 100%;\r\n        background: url('../../assets/disc.png') no-repeat;\r\n        background-size: contain;\r\n        transition: all 0.4s linear;\r\n    }\r\n}\r\n.album-info {\r\n    flex: 1;\r\n    padding-left: 70px;\r\n\r\n    .album-title {\r\n        padding-bottom: 20px;\r\n        font-size: 24px;\r\n        font-weight: bold;\r\n\r\n        span {\r\n            display: inline-block;\r\n            font-size: 14px;\r\n            font-weight: normal;\r\n            color: @color-theme;\r\n        }\r\n    }\r\n    .album-singer, .album-time, .album-company {\r\n        line-height: 22px;\r\n        font-size: 14px;\r\n        color: #999;\r\n    }\r\n\r\n    .album-desc {\r\n        position: relative;\r\n\r\n        h5 {\r\n            padding: 30px 0 5px;\r\n            line-height: 20px;\r\n            font-size: 14px;\r\n            color: #333;\r\n        }\r\n\r\n        .desc-close {\r\n            position: absolute;\r\n            top: 30px;\r\n            right: 0;\r\n            cursor: pointer;\r\n        }\r\n\r\n        p {\r\n            display: -webkit-box;\r\n            line-height: 22px;\r\n            font-size: 14px;\r\n            color: #999;\r\n            overflow: hidden;\r\n            text-overflow: ellipsis;\r\n            white-space: pre-line;\r\n            -webkit-line-clamp: 4;\r\n            -webkit-box-orient: vertical;\r\n            word-break: break-all;\r\n            cursor: pointer;\r\n        }\r\n\r\n        .album-desc-all {\r\n            position: absolute;\r\n            top: 70px;\r\n            left: 10px;\r\n            z-index: 1;\r\n            width: calc(~'100% - 20px');\r\n            padding: 10px;\r\n            margin: -10px;\r\n            max-height: 250px;\r\n            line-height: 22px;\r\n            font-size: 14px;\r\n            white-space: pre-line;\r\n            font-family: inherit;\r\n            color: #999;\r\n            background: #fff;\r\n            overflow-y: scroll;\r\n            box-shadow: 0 2px 10px 0 rgba(52, 52, 52, 0.1);\r\n        }\r\n    }\r\n}\r\n.song-header {\r\n    display: flex;\r\n    padding: 0 0 10px;\r\n\r\n    h4 {\r\n        flex: 1;\r\n        font-size: 20px;\r\n        line-height: 40px;\r\n\r\n        em {\r\n            display: inline-block;\r\n            padding-left: 10px;\r\n            font-size: 12px;\r\n            line-height: 14px;\r\n            font-style: normal;\r\n            font-weight: normal;\r\n            color: #666;\r\n            vertical-align: baseline;\r\n        }\r\n    }\r\n\r\n    span {\r\n        display: flex;\r\n        line-height: 16px;\r\n        align-items: center;\r\n        justify-content: center;\r\n        border-radius: 50px;\r\n        padding: 7px 20px;\r\n        cursor: pointer;\r\n        margin: 5px 0 5px 15px;\r\n        transition: all .4s;\r\n        background: #f0f0f0;\r\n        color: #333;\r\n\r\n        i {\r\n            margin-right: 3px;\r\n        }\r\n    }\r\n\r\n    .play-all {\r\n        color: #fff;\r\n        background: @color-theme;\r\n\r\n        i {\r\n            color: #fff;\r\n        }\r\n    }\r\n\r\n    .collect.active, .collect.active i {\r\n        color: @color-theme;\r\n    }\r\n}\r\n.aside-album-item {\r\n    display: flex;\r\n    padding: 10px 0;\r\n\r\n    .el-image {\r\n        width: 60px;\r\n        height: 60px;\r\n        border-radius: 4px;\r\n        overflow: hidden;\r\n    }\r\n\r\n    .aside-album-info {\r\n        flex: 1;\r\n        padding-left: 10px;\r\n    }\r\n\r\n    .aside-album-name {\r\n        width: 100%;\r\n        height: 20px;\r\n        line-height: 20px;\r\n        font-size: 14px;\r\n        overflow: hidden;\r\n        text-overflow: ellipsis;\r\n        display: -webkit-box;\r\n        -webkit-line-clamp: 1;\r\n        -webkit-box-orient: vertical;\r\n        word-break: break-all;\r\n        cursor: pointer;\r\n    }\r\n\r\n    .aside-album-time {\r\n        height: 20px;\r\n        line-height: 20px;\r\n        margin-top: 20px;\r\n        font-size: 12px;\r\n        color: #999;\r\n    }\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/_thread-loader@2.1.3@thread-loader/dist/cjs.js!../../../node_modules/_babel-loader@8.3.0@babel-loader/lib/index.js!../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/_vue-loader@15.10.1@vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/_thread-loader@2.1.3@thread-loader/dist/cjs.js!../../../node_modules/_babel-loader@8.3.0@babel-loader/lib/index.js!../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/_vue-loader@15.10.1@vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=7241a2ad&scoped=true&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=7241a2ad&prod&scoped=true&lang=less&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/_vue-loader@15.10.1@vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"7241a2ad\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}