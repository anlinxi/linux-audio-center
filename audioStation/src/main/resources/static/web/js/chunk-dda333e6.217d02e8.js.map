{"version":3,"sources":["webpack:///./src/components/common/playlist.vue?c9c1","webpack:///./src/views/playlist/index.vue","webpack:///./src/components/common/playlist.vue","webpack:///src/components/common/playlist.vue","webpack:///./src/components/common/playlist.vue?6ac6","webpack:///./src/components/common/playlist.vue?5302","webpack:///src/views/playlist/index.vue","webpack:///./src/views/playlist/index.vue?312e","webpack:///./src/views/playlist/index.vue?bd33","webpack:///./src/components/common/play-list.vue","webpack:///src/components/common/play-list.vue","webpack:///./src/components/common/play-list.vue?17a7","webpack:///./src/components/common/play-list.vue?c40a","webpack:///./src/components/common/play-list.vue?5a12","webpack:///./src/views/playlist/index.vue?ef91"],"names":["render","_vm","this","_c","_self","staticClass","_l","categories","item","index","key","_v","_s","name","children","slice","sub","class","curType","on","$event","selectType","attrs","length","moreTxt","slot","_e","allList","closed","params","order","selectOrder","staticRenderFns","directives","rawName","value","loadMore","expression","list","isLoading","components","playList","Loading","created","getPlayList","props","type","Object","default","isScroll","Boolean","data","busy","computed","methods","res","$http","code","$msg","error","offset","playlists","total","watch","handler","newVal","oldVal","cat","deep","component","PlayList","$route","query","getCatlist","limit","catlist","k","filter","subItem","category","Number","push","all","getMoreTxt","$router","path","itemInfo","find","indexOf","assign","id","coverImgUrl","$utils","formartNum","playCount","tags","tag"],"mappings":"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","file":"js/chunk-dda333e6.217d02e8.js","sourcesContent":["export * from \"-!../../../node_modules/_mini-css-extract-plugin@0.9.0@mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../node_modules/_css-loader@3.6.0@css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../../node_modules/_vue-loader@15.10.1@vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/_postcss-loader@3.0.0@postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../node_modules/_less-loader@7.3.0@less-loader/dist/cjs.js??ref--11-oneOf-1-3!../../../node_modules/_style-resources-loader@1.5.0@style-resources-loader/lib/index.js??ref--11-oneOf-1-4!../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/_vue-loader@15.10.1@vue-loader/lib/index.js??vue-loader-options!./playlist.vue?vue&type=style&index=0&id=2a784c70&prod&scoped=true&lang=less&\"","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"playlist\"},[_c('div',{staticClass:\"w1200\"},[_c('div',{staticClass:\"filter\"},_vm._l((_vm.categories),function(item,index){return _c('div',{key:index,staticClass:\"filter-item\"},[_c('div',{staticClass:\"filter-title\"},[_vm._v(_vm._s(item.name))]),_c('div',{staticClass:\"filter-box\"},[_vm._l((item.children.slice(0, 8)),function(sub){return _c('span',{key:sub.name,class:['item-box', _vm.curType === sub.name ? 'active' : '']},[_c('em',{on:{\"click\":function($event){return _vm.selectType(sub)}}},[_vm._v(_vm._s(sub.name))])])}),_c('el-popover',{attrs:{\"trigger\":\"click\"}},[(item.children.length > 9)?_c('span',{class:['item-box', 'filter-more', _vm.moreTxt[index] ? 'active' : ''],attrs:{\"slot\":\"reference\"},slot:\"reference\"},[_c('em',[_vm._v(_vm._s(_vm.moreTxt[index] ? _vm.curType : '更多')),_c('i',{staticClass:\"iconfont icon-arrow\"})])]):_vm._e(),_c('div',{staticClass:\"filter-drop\"},_vm._l((item.children.slice(9)),function(sub){return _c('span',{key:sub.name,class:['item-box', _vm.curType === sub.name ? 'active' : '']},[_c('em',{on:{\"click\":function($event){return _vm.selectType(sub, index)}}},[_vm._v(_vm._s(sub.name))])])}),0)])],2)])}),0),_c('div',{staticClass:\"list-container\"},[_c('div',{staticClass:\"list-head\"},[_c('h2',[_vm._v(_vm._s(_vm.curType)+\" \"),(_vm.curType !== _vm.allList.name)?_c('em',{staticClass:\"filter-close\",on:{\"click\":_vm.closed}},[_c('i',{staticClass:\"iconfont icon-closed\"})]):_vm._e()]),_c('div',{staticClass:\"type\"},[_c('span',{class:_vm.params.order === 'hot' ? 'active' : '',on:{\"click\":function($event){return _vm.selectOrder('hot')}}},[_vm._v(\"热门\")]),_c('span',{class:_vm.params.order === 'new' ? 'active' : '',on:{\"click\":function($event){return _vm.selectOrder('new')}}},[_vm._v(\"最新\")])])]),_c('PlayList',{attrs:{\"params\":_vm.params,\"isScroll\":true}})],1)])])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{directives:[{name:\"infinite-scroll\",rawName:\"v-infinite-scroll\",value:(_vm.loadMore),expression:\"loadMore\"}],staticClass:\"wrapper infinite-list\",attrs:{\"infinite-scroll-disabled\":\"busy\",\"infinite-scroll-distance\":\"50\"}},[_c('play-list',{attrs:{\"playList\":_vm.list}}),(_vm.isLoading)?[_c('Loading')]:_vm._e()],2)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <div class='wrapper infinite-list' v-infinite-scroll=\"loadMore\" infinite-scroll-disabled=\"busy\" infinite-scroll-distance=\"50\">\r\n        <play-list :playList=\"list\"></play-list>\r\n        <template v-if=\"isLoading\">\r\n            <Loading />\r\n        </template>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport playList from '@components/common/play-list'\r\nimport Loading from '@components/common/loading'\r\nexport default {\r\n    name: 'PalyList',\r\n    components: {\r\n        playList,\r\n        Loading\r\n    },\r\n    created () {\r\n        this.getPlayList(this.params)\r\n    },\r\n    props: {\r\n        params: {\r\n            type: Object,\r\n            default: () => {}\r\n        },\r\n        // 是否有滚动条\r\n        isScroll: {\r\n            type: Boolean,\r\n            default: false\r\n        }\r\n    },\r\n    data () {\r\n        // 这里存放数据\r\n        return {\r\n            list: [],\r\n            isLoading: true,\r\n            busy: true\r\n        }\r\n    },\r\n    // 监听属性 类似于data概念\r\n    computed: {},\r\n    // 方法集合\r\n    methods: {\r\n        async getPlayList (params) {\r\n            const { data: res } = await this.$http.playList(params)\r\n\r\n            if (res.code !== 200) {\r\n                return this.$msg.error('数据请求失败')\r\n            }\r\n\r\n            this.list = this.params.offset !== 0 ? [...this.list, ...res.playlists] : res.playlists\r\n            this.busy = this.list.length >= res.total\r\n            this.isLoading = !this.busy\r\n        },\r\n        loadMore () {\r\n            if (this.isScroll) {\r\n                this.busy = true\r\n                this.params.offset = this.list.length\r\n            }\r\n        }\r\n    },\r\n    watch: {\r\n        params: {\r\n            handler (newVal, oldVal) {\r\n                if (newVal.cat !== oldVal.cat) {\r\n                    this.list = []\r\n                }\r\n                this.getPlayList(newVal)\r\n            },\r\n            deep: true // 深度监听\r\n        }\r\n    }\r\n}\r\n</script>\r\n<style scoped lang=\"less\">\r\n.wrapper {\r\n    min-height: 500px;\r\n}\r\n.item {\r\n    width: 18%;\r\n    padding: 20px 2% 30px 0;\r\n    margin-right: -22px;\r\n\r\n    .faceImg {\r\n        display: block;\r\n        position: relative;\r\n        height: 216px;\r\n\r\n        &::after, &::before {\r\n            content: \"\";\r\n            width: 100%;\r\n            height: 100%;\r\n            background-color: #d9d9d9;\r\n            position: absolute;\r\n            top: 0;\r\n        }\r\n\r\n        &::before {\r\n            border: 1px solid #d6d6d6;\r\n            right: -4px;\r\n            -webkit-transform: scale(.85);\r\n            -ms-transform: scale(.85);\r\n            transform: scale(.85);\r\n            -webkit-transform-origin: 100% 50%;\r\n            -ms-transform-origin: 100% 50%;\r\n            transform-origin: 100% 50%;\r\n            z-index: 2;\r\n            border-radius: 2px;\r\n            transition: all .4s linear;\r\n        }\r\n\r\n        &::after {\r\n            border: 1px solid #c4c4c4;\r\n            right: -8px;\r\n            -webkit-transform: scale(.73);\r\n            -ms-transform: scale(.73);\r\n            transform: scale(.73);\r\n            -webkit-transform-origin: 100% 50%;\r\n            -ms-transform-origin: 100% 50%;\r\n            transform-origin: 100% 50%;\r\n            z-index: 1;\r\n            border-radius: 2px;\r\n            opacity: .5;\r\n            transition: all .4s linear .1s;\r\n        }\r\n    }\r\n\r\n    .el-image {\r\n        width: 100%;\r\n        height: 100%;\r\n        z-index: 3;\r\n        border-radius: 4px;\r\n    }\r\n\r\n    .playCount {\r\n        position: absolute;\r\n        top: 0;\r\n        right: 0;\r\n        z-index: 4;\r\n        font-size: 12px;\r\n        display: block;\r\n        width: 45%;\r\n        text-align: center;\r\n        color: #fff;\r\n        line-height: 30px;\r\n        border-radius: 0 4px 0 0;\r\n        /* Permalink - use to edit and share this gradient: https://colorzilla.com/gradient-editor/#000000+0,000000+100&0+0,0.5+97 */\r\n        background: -moz-linear-gradient(left,  rgba(0,0,0,0) 0%, rgba(0,0,0,0.5) 97%, rgba(0,0,0,0.5) 100%); /* FF3.6-15 */\r\n        background: -webkit-linear-gradient(left,  rgba(0,0,0,0) 0%,rgba(0,0,0,0.5) 97%,rgba(0,0,0,0.5) 100%); /* Chrome10-25,Safari5.1-6 */\r\n        background: linear-gradient(to right,  rgba(0,0,0,0) 0%,rgba(0,0,0,0.5) 97%,rgba(0,0,0,0.5) 100%); /* W3C, IE10+, FF16+, Chrome26+, Opera12+, Safari7+ */\r\n        filter: progid:DXImageTransform.Microsoft.gradient( startColorstr='#00000000', endColorstr='#80000000',GradientType=1 ); /* IE6-9 */\r\n\r\n        .icon-playnum {\r\n            color: #fff;\r\n        }\r\n\r\n        em {\r\n            display: inline-block;\r\n            padding-left: 5px;\r\n            font-style: normal;\r\n        }\r\n    }\r\n\r\n    &:hover {\r\n        .faceImg {\r\n            position: relative;\r\n\r\n            &::after, &::before {\r\n                background: #ff960080\r\n            }\r\n\r\n            &::before {\r\n                right: -6px;\r\n            }\r\n\r\n            &::after {\r\n                right: -12px;\r\n            }\r\n        }\r\n\r\n        .info_name {\r\n            color: #000;\r\n        }\r\n    }\r\n}\r\n\r\n.info_name {\r\n    display: block;\r\n    font-size: 16px;\r\n    line-height: 22px;\r\n    margin-top: 15px;\r\n    font-weight: 400;\r\n    overflow: hidden;\r\n    text-overflow: ellipsis;\r\n    display: -webkit-box;\r\n    -webkit-line-clamp: 2;\r\n    -webkit-box-orient: vertical;\r\n    word-break: break-all;\r\n}\r\n\r\n.tags {\r\n    padding: 5px 0;\r\n    .tag {\r\n        font-size: 12px;\r\n        color: @color-theme;\r\n    }\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/_thread-loader@2.1.3@thread-loader/dist/cjs.js!../../../node_modules/_babel-loader@8.3.0@babel-loader/lib/index.js!../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/_vue-loader@15.10.1@vue-loader/lib/index.js??vue-loader-options!./playlist.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/_thread-loader@2.1.3@thread-loader/dist/cjs.js!../../../node_modules/_babel-loader@8.3.0@babel-loader/lib/index.js!../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/_vue-loader@15.10.1@vue-loader/lib/index.js??vue-loader-options!./playlist.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./playlist.vue?vue&type=template&id=2a784c70&scoped=true&\"\nimport script from \"./playlist.vue?vue&type=script&lang=js&\"\nexport * from \"./playlist.vue?vue&type=script&lang=js&\"\nimport style0 from \"./playlist.vue?vue&type=style&index=0&id=2a784c70&prod&scoped=true&lang=less&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/_vue-loader@15.10.1@vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"2a784c70\",\n  null\n  \n)\n\nexport default component.exports","<template>\r\n    <div class='playlist'>\r\n        <div class=\"w1200\">\r\n            <div class=\"filter\">\r\n                <div class=\"filter-item\" v-for=\"(item, index) in categories\" :key=\"index\">\r\n                    <div class=\"filter-title\">{{ item.name }}</div>\r\n                    <div class=\"filter-box\">\r\n                        <span :class=\"['item-box', curType === sub.name ? 'active' : '']\" v-for=\"sub in item.children.slice(0, 8)\" :key=\"sub.name\"><em @click=\"selectType(sub)\">{{ sub.name }}</em></span>\r\n                        <el-popover trigger=\"click\">\r\n                            <span :class=\"['item-box', 'filter-more', moreTxt[index] ? 'active' : '']\" slot=\"reference\" v-if=\"item.children.length > 9\"><em>{{ moreTxt[index] ? curType : '更多'}}<i class=\"iconfont icon-arrow\"></i></em></span>\r\n                            <div class=\"filter-drop\">\r\n                                <span :class=\"['item-box', curType === sub.name ? 'active' : '']\" v-for=\"sub in item.children.slice(9)\" :key=\"sub.name\"><em @click=\"selectType(sub, index)\">{{ sub.name }}</em></span>\r\n                            </div>\r\n                        </el-popover>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div class=\"list-container\">\r\n                <div class=\"list-head\">\r\n                    <h2>{{curType}} <em v-if=\"curType !== allList.name\" class=\"filter-close\" @click=\"closed\"><i class=\"iconfont icon-closed\"></i></em></h2>\r\n                    <div class=\"type\">\r\n                        <span :class=\"params.order === 'hot' ? 'active' : ''\" @click=\"selectOrder('hot')\">热门</span>\r\n                        <span :class=\"params.order === 'new' ? 'active' : ''\" @click=\"selectOrder('new')\">最新</span>\r\n                    </div>\r\n                </div>\r\n                <PlayList :params=\"params\" :isScroll=\"true\"></PlayList>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport PlayList from '@components/common/playlist.vue'\r\nexport default {\r\n    name: 'PlayListWrap',\r\n    components: {\r\n        PlayList\r\n    },\r\n    created () {\r\n        this.params.cat = this.$route.query.cat\r\n        this.getCatlist()\r\n    },\r\n    data () {\r\n        // 这里存放数据\r\n        return {\r\n            sub: [],\r\n            categories: [],\r\n            curType: '',\r\n            moreTxt: {},\r\n            allList: {},\r\n            params: {\r\n                order: 'hot',\r\n                cat: '',\r\n                limit: 50,\r\n                offset: 0\r\n            }\r\n        }\r\n    },\r\n    // 监听属性 类似于data概念\r\n    computed: {\r\n    },\r\n    // 方法集合\r\n    methods: {\r\n        async getCatlist () {\r\n            const { data: res } = await this.$http.catlist()\r\n            this.sub = res.sub\r\n\r\n            if (res.code !== 200) {\r\n                return this.$msg.error('数据请求失败')\r\n            }\r\n\r\n            for (const k in res.categories) {\r\n                const params = { name: res.categories[k] }\r\n\r\n                params.children = this.sub.filter(subItem => { return subItem.category === Number(k) })\r\n                this.categories.push(params)\r\n            }\r\n\r\n            this.curType = this.$route.query.cat ? this.$route.query.cat : res.all.name\r\n            this.allList = res.all\r\n            this.getMoreTxt()\r\n        },\r\n        selectType (item) {\r\n            this.$router.push({ path: 'playlist', query: { cat: item.name, order: this.params.order } })\r\n        },\r\n        closed () {\r\n            this.$router.push({ path: 'playlist' })\r\n        },\r\n        selectOrder (type) {\r\n            this.$router.push({ path: 'playlist', query: { cat: this.params.cat, order: type } })\r\n        },\r\n        getMoreTxt () {\r\n            // 查询当前显示的歌单分类详情，如：全部歌单、华语\r\n            const itemInfo = this.sub.find(subItem => { return subItem.name === this.curType })\r\n            this.moreTxt = {}\r\n            if (itemInfo) {\r\n                // 若有歌单分类，且分类歌单的索引在更多里面，则渲染moreText数据\r\n                const index = this.categories[itemInfo.category].children.indexOf(itemInfo)\r\n                index >= 8 && (this.moreTxt[itemInfo.category] = itemInfo)\r\n            }\r\n        }\r\n    },\r\n    watch: {\r\n        '$route' (newVal, oldVal) {\r\n            const { cat, order } = newVal.query\r\n\r\n            this.curType = cat || this.allList.name\r\n            this.params = Object.assign({}, { order: 'hot', cat: '', limit: 50, offset: 0 }, { cat: cat || '', order: order || 'hot' })\r\n            this.getMoreTxt()\r\n        }\r\n    }\r\n}\r\n</script>\r\n<style scoped lang=\"less\">\r\n.filter {\r\n    display: flex;\r\n    padding: 40px 0;\r\n}\r\n.filter-item {\r\n    flex: 2;\r\n    border-left: 1px solid #f5f5f5;\r\n    padding-left: 35px;\r\n\r\n    .filter-title {\r\n        font-weight: bold;\r\n        margin-bottom: 5px;\r\n    }\r\n\r\n    .filter-box {\r\n        font-size: 0;\r\n    }\r\n\r\n    .item-box {\r\n        display: inline-block;\r\n        width: calc(100% / 3);\r\n        vertical-align: top;\r\n\r\n        em {\r\n            display: inline-block;\r\n            font-style: normal;\r\n            font-size: 14px;\r\n            line-height: 26px;\r\n            margin-top: 4px;\r\n            cursor: pointer;\r\n        }\r\n\r\n        &.active {\r\n\r\n            em {\r\n                padding: 0 6px 0 5px;\r\n                margin: 4px -5px 0;\r\n                color: #fff;\r\n                font-style: normal;\r\n                background: @color-theme;\r\n            }\r\n        }\r\n    }\r\n\r\n    .filter-more {\r\n        width: 50px;\r\n\r\n        &.active {\r\n\r\n            em {\r\n                width: 40px;\r\n                overflow: hidden;\r\n                height: 26px;\r\n                text-overflow: ellipsis;\r\n                white-space: nowrap;\r\n                vertical-align: top;\r\n            }\r\n        }\r\n    }\r\n\r\n    &:first-child {\r\n        flex: 1;\r\n        border: 0;\r\n        padding-left: 0;\r\n\r\n        .item-box {\r\n            width: 50%;\r\n        }\r\n    }\r\n}\r\n.filter-drop {\r\n\r\n    .item-box {\r\n        display: inline-block;\r\n        line-height: 26px;\r\n        padding: 0 15px;\r\n        font-size: 14px;\r\n\r\n        em {\r\n            display: inline-block;\r\n            font-style: normal;\r\n            cursor: pointer;\r\n        }\r\n\r\n        &.active {\r\n\r\n            em {\r\n                padding: 0 5px;\r\n                margin: 0 -5px;\r\n                color: #fff;\r\n                font-style: normal;\r\n                background: @color-theme;\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\n.list-head {\r\n    display: flex;\r\n    padding: 15px 0;\r\n\r\n    h2 {\r\n        font-size: 24px;\r\n        line-height: 30px;\r\n    }\r\n\r\n    .filter-close {\r\n        display: inline-block;\r\n        line-height: 16px;\r\n        vertical-align: top;\r\n        cursor: pointer;\r\n    }\r\n\r\n    .type {\r\n        flex: 1;\r\n        padding: 5px 40px;\r\n\r\n        span {\r\n            position: relative;\r\n            display: inline-block;\r\n            height: 20px;\r\n            line-height: 20px;\r\n            margin-right: 34px;\r\n            font-weight: 300;\r\n            color: #333;\r\n            cursor: pointer;\r\n\r\n            &.active {\r\n                font-weight: 600;\r\n                color: #000;\r\n\r\n                &::after {\r\n                    position: absolute;\r\n                    content: \"\";\r\n                    left: 0;\r\n                    bottom: 1px;\r\n                    width: 100%;\r\n                    height: 6px;\r\n                    background: @color-theme;\r\n                    z-index: -1;\r\n                }\r\n            }\r\n        }\r\n    }\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/_thread-loader@2.1.3@thread-loader/dist/cjs.js!../../../node_modules/_babel-loader@8.3.0@babel-loader/lib/index.js!../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/_vue-loader@15.10.1@vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/_thread-loader@2.1.3@thread-loader/dist/cjs.js!../../../node_modules/_babel-loader@8.3.0@babel-loader/lib/index.js!../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/_vue-loader@15.10.1@vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=787903de&scoped=true&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=787903de&prod&scoped=true&lang=less&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/_vue-loader@15.10.1@vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"787903de\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"playlist\"},_vm._l((_vm.playList),function(item){return _c('div',{key:item.id,staticClass:\"item\"},[_c('router-link',{staticClass:\"faceImg\",attrs:{\"to\":{ path: 'playlist/detail', query: { id: item.id }}}},[_c('el-image',{attrs:{\"src\":item.coverImgUrl,\"lazy\":\"\"}},[_c('div',{staticClass:\"image-slot\",attrs:{\"slot\":\"placeholder\"},slot:\"placeholder\"},[_c('i',{staticClass:\"iconfont icon-placeholder\"})])]),_c('span',{staticClass:\"playCount\"},[_c('i',{staticClass:\"iconfont icon-playnum\"}),_c('em',[_vm._v(_vm._s(_vm.$utils.formartNum(item.playCount)))])])],1),_c('div',{staticClass:\"info\"},[_c('router-link',{staticClass:\"info_name\",attrs:{\"to\":{ path: 'playlist/detail', query: { id: item.id }}}},[_vm._v(_vm._s(item.name)+\" \")]),_c('div',{staticClass:\"tags\"},_vm._l((item.tags),function(tag,index){return _c('router-link',{key:index,staticClass:\"tag\",attrs:{\"to\":{ path: '/playlist', query: { cat: tag }}}},[_vm._v(\"#\"+_vm._s(tag)+\" \")])}),1)],1)],1)}),0)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <div class='playlist'>\r\n        <div class=\"item\" v-for=\"item in playList\" :key=\"item.id\">\r\n            <router-link :to=\"{ path: 'playlist/detail', query: { id: item.id }}\" class=\"faceImg\">\r\n                <el-image :src=\"item.coverImgUrl\" lazy>\r\n                    <div slot=\"placeholder\" class=\"image-slot\">\r\n                        <i class=\"iconfont icon-placeholder\"></i>\r\n                    </div>\r\n                </el-image>\r\n                <span class=\"playCount\"><i class=\"iconfont icon-playnum\"></i><em>{{$utils.formartNum(item.playCount)}}</em></span>\r\n            </router-link>\r\n            <div class=\"info\">\r\n                <router-link :to=\"{ path: 'playlist/detail', query: { id: item.id }}\" class=\"info_name\">{{item.name}} </router-link>\r\n                <div class=\"tags\">\r\n                    <router-link :to=\"{ path: '/playlist', query: { cat: tag }}\" class=\"tag\" v-for=\"(tag, index) in item.tags\" :key=\"index\">#{{tag}} </router-link>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n    components: {},\r\n    props: ['playList'],\r\n    data () {\r\n        // 这里存放数据\r\n        return {\r\n        }\r\n    },\r\n    // 监听属性 类似于data概念\r\n    computed: {},\r\n    // 方法集合\r\n    methods: {\r\n    }\r\n}\r\n</script>\r\n<style scoped lang=\"less\">\r\n.playlist {\r\n    display: flex;\r\n    flex-wrap: wrap;\r\n    justify-content: space-between;\r\n    font-size: 0;\r\n}\r\n.item {\r\n    width: 18%;\r\n    padding: 20px 2% 30px 0;\r\n    margin-right: -22px;\r\n\r\n    .faceImg {\r\n        display: block;\r\n        position: relative;\r\n        height: 216px;\r\n\r\n        &::after, &::before {\r\n            content: \"\";\r\n            width: 100%;\r\n            height: 100%;\r\n            background-color: #d9d9d9;\r\n            position: absolute;\r\n            top: 0;\r\n        }\r\n\r\n        &::before {\r\n            border: 1px solid #d6d6d6;\r\n            right: -4px;\r\n            -webkit-transform: scale(.85);\r\n            -ms-transform: scale(.85);\r\n            transform: scale(.85);\r\n            -webkit-transform-origin: 100% 50%;\r\n            -ms-transform-origin: 100% 50%;\r\n            transform-origin: 100% 50%;\r\n            z-index: 2;\r\n            border-radius: 2px;\r\n            transition: all .4s linear;\r\n        }\r\n\r\n        &::after {\r\n            border: 1px solid #c4c4c4;\r\n            right: -8px;\r\n            -webkit-transform: scale(.73);\r\n            -ms-transform: scale(.73);\r\n            transform: scale(.73);\r\n            -webkit-transform-origin: 100% 50%;\r\n            -ms-transform-origin: 100% 50%;\r\n            transform-origin: 100% 50%;\r\n            z-index: 1;\r\n            border-radius: 2px;\r\n            opacity: .5;\r\n            transition: all .4s linear .1s;\r\n        }\r\n    }\r\n\r\n    .el-image {\r\n        width: 100%;\r\n        height: 100%;\r\n        z-index: 3;\r\n        border-radius: 4px;\r\n    }\r\n\r\n    .playCount {\r\n        position: absolute;\r\n        top: 0;\r\n        right: 0;\r\n        z-index: 4;\r\n        font-size: 12px;\r\n        display: block;\r\n        width: 45%;\r\n        text-align: center;\r\n        color: #fff;\r\n        line-height: 30px;\r\n        border-radius: 0 4px 0 0;\r\n        /* Permalink - use to edit and share this gradient: https://colorzilla.com/gradient-editor/#000000+0,000000+100&0+0,0.5+97 */\r\n        background: -moz-linear-gradient(left,  rgba(0,0,0,0) 0%, rgba(0,0,0,0.5) 97%, rgba(0,0,0,0.5) 100%); /* FF3.6-15 */\r\n        background: -webkit-linear-gradient(left,  rgba(0,0,0,0) 0%,rgba(0,0,0,0.5) 97%,rgba(0,0,0,0.5) 100%); /* Chrome10-25,Safari5.1-6 */\r\n        background: linear-gradient(to right,  rgba(0,0,0,0) 0%,rgba(0,0,0,0.5) 97%,rgba(0,0,0,0.5) 100%); /* W3C, IE10+, FF16+, Chrome26+, Opera12+, Safari7+ */\r\n        filter: progid:DXImageTransform.Microsoft.gradient( startColorstr='#00000000', endColorstr='#80000000',GradientType=1 ); /* IE6-9 */\r\n\r\n        .icon-playnum {\r\n            color: #fff;\r\n        }\r\n\r\n        em {\r\n            display: inline-block;\r\n            padding-left: 5px;\r\n            font-style: normal;\r\n        }\r\n    }\r\n\r\n    &:hover {\r\n        .faceImg {\r\n            position: relative;\r\n\r\n            &::after, &::before {\r\n                background: #ff960080\r\n            }\r\n\r\n            &::before {\r\n                right: -6px;\r\n            }\r\n\r\n            &::after {\r\n                right: -12px;\r\n            }\r\n        }\r\n\r\n        .info_name {\r\n            color: #000;\r\n        }\r\n    }\r\n\r\n    .info_name {\r\n        display: block;\r\n        font-size: 16px;\r\n        line-height: 22px;\r\n        margin-top: 15px;\r\n        font-weight: 400;\r\n        overflow: hidden;\r\n        text-overflow: ellipsis;\r\n        display: -webkit-box;\r\n        -webkit-line-clamp: 2;\r\n        -webkit-box-orient: vertical;\r\n        word-break: break-all;\r\n    }\r\n\r\n    .tags {\r\n        padding: 5px 0;\r\n        .tag {\r\n            font-size: 12px;\r\n            color: @color-theme;\r\n        }\r\n    }\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/_thread-loader@2.1.3@thread-loader/dist/cjs.js!../../../node_modules/_babel-loader@8.3.0@babel-loader/lib/index.js!../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/_vue-loader@15.10.1@vue-loader/lib/index.js??vue-loader-options!./play-list.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/_thread-loader@2.1.3@thread-loader/dist/cjs.js!../../../node_modules/_babel-loader@8.3.0@babel-loader/lib/index.js!../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/_vue-loader@15.10.1@vue-loader/lib/index.js??vue-loader-options!./play-list.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./play-list.vue?vue&type=template&id=47488a48&scoped=true&\"\nimport script from \"./play-list.vue?vue&type=script&lang=js&\"\nexport * from \"./play-list.vue?vue&type=script&lang=js&\"\nimport style0 from \"./play-list.vue?vue&type=style&index=0&id=47488a48&prod&scoped=true&lang=less&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/_vue-loader@15.10.1@vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"47488a48\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../node_modules/_mini-css-extract-plugin@0.9.0@mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../node_modules/_css-loader@3.6.0@css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../../node_modules/_vue-loader@15.10.1@vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/_postcss-loader@3.0.0@postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../node_modules/_less-loader@7.3.0@less-loader/dist/cjs.js??ref--11-oneOf-1-3!../../../node_modules/_style-resources-loader@1.5.0@style-resources-loader/lib/index.js??ref--11-oneOf-1-4!../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/_vue-loader@15.10.1@vue-loader/lib/index.js??vue-loader-options!./play-list.vue?vue&type=style&index=0&id=47488a48&prod&scoped=true&lang=less&\"","export * from \"-!../../../node_modules/_mini-css-extract-plugin@0.9.0@mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../node_modules/_css-loader@3.6.0@css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../../node_modules/_vue-loader@15.10.1@vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/_postcss-loader@3.0.0@postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../node_modules/_less-loader@7.3.0@less-loader/dist/cjs.js??ref--11-oneOf-1-3!../../../node_modules/_style-resources-loader@1.5.0@style-resources-loader/lib/index.js??ref--11-oneOf-1-4!../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/_vue-loader@15.10.1@vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=787903de&prod&scoped=true&lang=less&\""],"sourceRoot":""}