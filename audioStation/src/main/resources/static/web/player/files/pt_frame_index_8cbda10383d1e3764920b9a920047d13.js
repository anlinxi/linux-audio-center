(function(){var c0x=NEJ.P,bd0x=NEJ.O,fH2x=NEJ.R,a9j=c0x("nej.e"),h0x=c0x("nej.v"),P0x=c0x("nej.ut"),EI9z;if(!!P0x.bhv6p)return;P0x.bhv6p=NEJ.C();EI9z=P0x.bhv6p.M0x(P0x.cP1x);EI9z.cy0x=function(){this.lH3x={onchange:this.gt2x.f0x(this),ondragend:this.gt2x.eN1x(this,!0)};this.cC1x()};EI9z.bo0x=function(e0x){this.bp0x(e0x);this.lH3x.view=a9j.A0x(e0x.track);this.lH3x.body=a9j.A0x(e0x.slide);this.lH3x.mbar=this.lH3x.view;this.xt7m(e0x.range);this.bY0x([[this.lH3x.view,"mousedown",this.ceX4b.f0x(this)]]);this.jo3x=P0x.vD6x.B0x(this.lH3x)};EI9z.bC0x=function(){this.bH0x();this.jo3x.V0x();delete this.jo3x;delete this.is2x;delete this.lH3x.view;delete this.lH3x.body;delete this.lH3x.mbar};EI9z.gt2x=function(d0x,gm2x){var bCy0x=d0x.left/this.is2x.x[1],bCs0x=d0x.top/this.is2x.y[1],bCo0x=this.is2x.x,bCm0x=this.is2x.y;this.z0x("onchange",{stopped:!!gm2x,x:{rate:bCy0x,value:bCy0x*(bCo0x[1]-bCo0x[0])},y:{rate:bCs0x,value:bCs0x*(bCm0x[1]-bCm0x[0])}})};EI9z.ceX4b=function(d0x){var bn0x=a9j.it2x(this.lH3x.view),bCl0x={x:h0x.kb3x(d0x),y:h0x.mU4Y(d0x)},dA1x={x:Math.floor(this.lH3x.body.offsetWidth/2),y:Math.floor(this.lH3x.body.offsetHeight/2)};this.jo3x.gY2x({top:bCl0x.y-bn0x.y-dA1x.y,left:bCl0x.x-bn0x.x-dA1x.x})};EI9z.xt7m=function(dp1x){var sB6v;if(!!this.is2x){var oN4R=this.jo3x.bkI7B();sB6v={x:oN4R.left/this.is2x.x[1],y:oN4R.top/this.is2x.y[1]}}dp1x=dp1x||bd0x;var cdA4E=(dp1x.x||fH2x)[1]||this.lH3x.view.clientWidth-this.lH3x.body.offsetWidth,ccU4Y=(dp1x.y||fH2x)[1]||this.lH3x.view.clientHeight-this.lH3x.body.offsetHeight;this.is2x={x:dp1x.x||[0,cdA4E],y:dp1x.y||[0,ccU4Y]};if(!!sB6v)this.gY2x(sB6v);return this};EI9z.gY2x=function(sB6v){sB6v=sB6v||bd0x;this.jo3x.gY2x({top:this.is2x.y[1]*(sB6v.y||0),left:this.is2x.x[1]*(sB6v.x||0)})}})();
(function(){var P0x=NEJ.P("nej.ut"),bCi0x;if(!!P0x.OE4I)return;P0x.OE4I=NEJ.C();bCi0x=P0x.OE4I.M0x(P0x.bhv6p);bCi0x.cy0x=function(){this.cC1x();this.lH3x.direction=2}})();
(function(){var c0x=NEJ.P,a9j=c0x("nej.e"),h0x=c0x("nej.v"),P0x=c0x("nej.p"),bG0x=c0x("nej.ui"),cj0x=c0x("nej.ut"),y0x=c0x("nm.w"),b0x,L0x;y0x.Aw8o=NEJ.C();b0x=y0x.Aw8o.M0x(bG0x.ep1x);L0x=y0x.Aw8o.ct0x;b0x.cy0x=function(){this.cC1x()};b0x.bo0x=function(e0x){this.bp0x(e0x);this.o0x=a9j.A0x(e0x.content);this.nb4f=a9j.A0x(e0x.slide);this.jF3x=a9j.A0x(e0x.track);this.bBF0x=e0x.speed;this.bBB0x=this.o0x.scrollHeight-this.o0x.clientHeight;a9j.bc0x(this.nb4f,"height",(this.o0x.clientHeight/this.o0x.scrollHeight*parseInt(a9j.dk1x(this.jF3x,"height"))||0)+"px");if(this.o0x.scrollHeight<=this.o0x.clientHeight)a9j.bc0x(this.nb4f,"display","none");else a9j.bc0x(this.nb4f,"display","block");this.xe7X=cj0x.OE4I.B0x({slide:this.nb4f,track:this.jF3x,onchange:this.bBD0x.f0x(this)});if(P0x.dB1x.browser!="firefox")this.bY0x([[this.o0x,"mousewheel",this.HW2x.f0x(this)]]);else{this.o0x.addEventListener("DOMMouseScroll",this.HW2x.f0x(this),false)}};b0x.bC0x=function(){this.bH0x();this.xe7X.V0x();delete this.o0x;delete this.nb4f;delete this.jF3x;delete this.is2x;delete this.bBF0x};b0x.bBD0x=function(d0x){this.o0x.scrollTop=parseInt(this.bBB0x*d0x.y.rate)};b0x.HW2x=function(d0x){h0x.cn0x(d0x);this.bBB0x=this.o0x.scrollHeight-this.o0x.clientHeight;var dA1x=0,Pj4n,ck0x,gr2x;ck0x=parseInt(this.jF3x.clientHeight)-parseInt(a9j.dk1x(this.nb4f,"height"));dA1x=d0x.wheelDelta?d0x.wheelDelta/120:-d0x.detail/3;Pj4n=parseInt(a9j.dk1x(this.nb4f,"top"))-dA1x*this.bBF0x;if(Pj4n<0)Pj4n=0;if(Pj4n>ck0x)Pj4n=ck0x;a9j.bc0x(this.nb4f,"top",Pj4n+"px");gr2x=parseInt(a9j.dk1x(this.nb4f,"top"));this.xe7X.z0x("onchange",{y:{rate:gr2x/ck0x}})};b0x.qX5c=function(){this.bBB0x=this.o0x.scrollHeight-this.o0x.clientHeight;this.xe7X.gY2x({x:0,y:0});a9j.bc0x(this.nb4f,"height",this.o0x.clientHeight/this.o0x.scrollHeight*parseInt(this.jF3x.clientHeight)+"px");this.xe7X.xt7m({x:[],y:[0,this.jF3x.clientHeight-parseInt(a9j.dk1x(this.nb4f,"height"))]});if(this.o0x.scrollHeight<=this.o0x.clientHeight)a9j.bc0x(this.nb4f,"display","none");else a9j.bc0x(this.nb4f,"display","block")};b0x.gY2x=function(dP1x){this.xe7X.gY2x(dP1x)};b0x.Pi4m=function(bBr0x){var cbE4I=parseInt(a9j.dk1x(this.nb4f,"height"));var cbG4K=parseInt(a9j.dk1x(this.jF3x,"height"));var xP7I=cbG4K-cbE4I;var gr2x=parseInt(xP7I*bBr0x)+"px";a9j.bc0x(this.nb4f,"top",gr2x)};b0x.bBL0x=function(){if(this.o0x.scrollHeight<=this.o0x.clientHeight)return;var bBr0x=this.o0x.scrollTop/(this.o0x.scrollHeight-this.o0x.clientHeight);this.Pi4m(bBr0x)};b0x.cQw0x=function(){if(this.xe7X)this.xe7X.xt7m()}})();
(function(){var c0x=NEJ.P,a9j=c0x("nej.e"),u0x=c0x("nej.j"),bd0x=c0x("nej.o"),j0x=c0x("nej.u"),h0x=c0x("nej.v"),bG0x=c0x("nej.ui"),p0x=c0x("nm.d"),l0x=c0x("nm.x"),n0x=c0x("nm.l"),b0x,L0x;n0x.bTP2x=NEJ.C();b0x=n0x.bTP2x.M0x(n0x.ef1x,!0);b0x.cy0x=function(){this.cC1x()};b0x.bW0x=function(){this.cg0x();var k0x=a9j.C0x(this.o0x,"j-flag");this.FF9w=k0x[0];this.bqa8S=k0x[1];this.bAP9G=k0x[2];h0x.s0x(k0x[3],"click",this.bqb8T.f0x(this))};b0x.ce0x=function(){this.cd0x="ntp-alert"};b0x.bo0x=function(e0x){e0x.parent=e0x.parent||document.body;this.bp0x(e0x);a9j.bc0x(this.FF9w,"display","");if(e0x.type=="noicon"){a9j.bc0x(this.FF9w,"display","none")}else if(e0x.type=="success"){a9j.fm2x(this.FF9w,"u-icn-88","u-icn-89")}else{a9j.fm2x(this.FF9w,"u-icn-89","u-icn-88")}this.bqa8S.innerHTML=e0x.mesg||"";if(e0x.mesg2){a9j.x0x(this.bAP9G,"f-hide");this.bAP9G.innerHTML=e0x.mesg2||""}else{a9j.w0x(this.bAP9G,"f-hide")}};b0x.bC0x=function(){this.bH0x()};b0x.bqb8T=function(d0x){this.z0x("onnotice");this.br0x()};n0x.dW1x=function(e0x){if(this.zK7D){this.zK7D.V0x();delete this.zK7D}this.zK7D=n0x.bTP2x.B0x(e0x);this.zK7D.I0x()}})();
(function(){var c0x=NEJ.P,bd0x=NEJ.O,bs0x=NEJ.F,h0x=c0x("nej.v"),j0x=c0x("nej.u"),G0x=c0x("nej.ut"),p0x=c0x("nm.d"),l0x=c0x("nm.x"),n0x=c0x("nm.l"),J0x="RADIO_LATEST_MAP",b0x,L0x;p0x.fp2x({"radio_crt-list":{url:"/api/djradio/get/byuser",format:function(Q0x,e0x){var k0x=Q0x.djRadios;return{total:k0x.length||0,list:k0x}}},"radio_sub-list":{url:"/api/djradio/get/subed",format:function(Q0x,e0x){var k0x=Q0x.djRadios;e0x.data.time=Q0x.time;if(Q0x.hasMore){if(k0x.length<e0x.limit)k0x.length=e0x.limit}return{total:Q0x.count||0,hasMore:Q0x.hasMore,list:k0x}}},"radio_sub-add":{url:"/api/djradio/subscribe/v1",filter:function(e0x){e0x.data={radioId:e0x.id};if(e0x.ext&&e0x.ext.data&&e0x.ext.data.token){e0x.data.token=e0x.ext.data.token}},format:function(Q0x,e0x){if(this.bFt0x("firstSub")){n0x.dW1x({title:"订阅成功",type:"noicon",mesg:"可以在“我的音乐-我的电台”收到节目更新"})}else{n0x.bb0x.I0x({tip:"订阅成功"})}var dI1x=this.eQ1x(e0x.id)||e0x.ext.data;dI1x.subCount+=1;dI1x.subed=true;return dI1x},finaly:function(d0x,e0x){h0x.z0x(p0x.pQ5V,"listchange",d0x);h0x.z0x(p0x.pQ5V,"itemchange",{attr:"subCount",data:d0x.data})},onmessage:function(ca0x,m0x){if(ca0x==315){n0x.bb0x.I0x({tip:"根据对方设置，你没有该操作权限",type:2})}else if(ca0x==250){n0x.bb0x.I0x({tip:"操作失败，账号存在异常",type:2})}else if(ca0x==251||ca0x==404||ca0x==400||ca0x==502){n0x.bb0x.I0x({tip:m0x.message||m0x.msg||m0x.ext&&m0x.ext.msg||"订阅失败",type:2})}}},"radio_sub-del":{url:"/api/djradio/unsub",filter:function(e0x){e0x.data={id:e0x.id}},format:function(Q0x,e0x){n0x.bb0x.I0x({tip:"取消订阅成功"});var dI1x=this.eQ1x(e0x.id)||e0x.ext.data;dI1x.subCount-=1;dI1x.subed=false;return dI1x},finaly:function(d0x,e0x){h0x.z0x(p0x.pQ5V,"listchange",d0x);h0x.z0x(p0x.pQ5V,"itemchange",{attr:"subCount",data:d0x.data})}}});p0x.pQ5V=NEJ.C();b0x=p0x.pQ5V.M0x(p0x.hJ2x);b0x.cKH9y=function(df1x,bz0x){var bD0x=this.Hj9a(J0x,{});bD0x[df1x.radio.id]={id:df1x.id,name:df1x.name,time:bz0x||0};this.yO7H(J0x,bD0x)};b0x.cKJ9A=function(E0x){return this.Hj9a(J0x,{})[E0x]};b0x.bFn0x=function(dI1x){var cB1x={key:"radio_sub",ext:{}};if(j0x.mv4z(dI1x)){cB1x.id=dI1x.id;cB1x.ext.data=dI1x}else{cB1x.id=dI1x}return cB1x};b0x.om4q=function(dI1x){if(l0x.gR2x())this.jC3x(this.bFn0x(dI1x))};b0x.bFl0x=function(dI1x){l0x.hk2x({btnok:"确定",btncc:"取消",message:"确定取消订阅？",action:function(D0x){if(D0x=="ok"){this.LR3x(this.bFn0x(dI1x))}}.f0x(this)})};b0x.bFt0x=function(){var us6m="RADIO_UPGRADE_TIP";return function(t0x){var i0x=this.Hj9a(us6m,{});if(i0x[t0x]){return false}else{i0x[t0x]=true;this.yO7H(us6m,i0x);return true}}}();G0x.fP2x.B0x({element:p0x.pQ5V,event:["listchange","itemchange"]})})();
(function(){var c0x=NEJ.P,bd0x=NEJ.O,bs0x=NEJ.F,h0x=c0x("nej.v"),G0x=c0x("nej.ut"),j0x=c0x("nej.u"),u0x=c0x("nej.j"),l0x=c0x("nm.x"),p0x=c0x("nm.d"),y0x=c0x("nm.w"),b0x;var QUEUE_KEY="track-queue";var PlayMode={SINGLE_CYCLE:2,LIST_LOOP:4,RANDOM:5};y0x.uA6u=NEJ.C();b0x=y0x.uA6u.M0x(G0x.cP1x);b0x.bo0x=function(e0x){this.bp0x(e0x);this.by0x=y0x.go2x.fU2x();this.jX3x=[];this.Bt8l=[];this.oi4m=l0x.bxO9F();this.fz2x=0;this.bY0x([[y0x.go2x,"playaction",this.yS7L.f0x(this)]]);this.jP3x=p0x.hQ2x.B0x();this.yy7r=p0x.pQ5V.B0x();this.cGt8l()};b0x.bC0x=function(){this.bH0x();delete this.jX3x;delete this.Bt8l;delete this.oi4m};b0x.bfu8m=function(){u0x.yG7z(QUEUE_KEY,this.jX3x)};b0x.cHB8t=function(){var vd6X=[PlayMode.SINGLE_CYCLE,PlayMode.LIST_LOOP,PlayMode.RANDOM];return function(){var eR1x,r0x=j0x.dx1x(vd6X,this.oi4m.mode);eR1x=r0x<0?PlayMode.LIST_LOOP:vd6X[(r0x+1)%3];this.oi4m.mode=eR1x;if(this.Te5j()){this.bxa9R()}l0x.Jj2x(this.oi4m);return this.oi4m.mode}}();b0x.cIM9D=function(){return this.oi4m.mode};b0x.oE4I=l0x.IW2x(function(){this.zd7W(this.bFf0x(+1),"ui")},800);b0x.Ae8W=l0x.IW2x(function(){this.zd7W(this.bFf0x(-1),"ui")},800);b0x.qI5N=function(){return this.jX3x[this.fz2x]};b0x.cJr9i=function(jw3x,vW6Q,gv2x){if(!jw3x||!jw3x.length)return;var bD0x={},qD5I=jw3x[0];if(!vW6Q){j0x.bg0x(this.jX3x,function(bi0x){bD0x[bi0x.id]=bi0x});j0x.bg0x(jw3x,function(bi0x){if(bD0x[bi0x.id]){if(qD5I.id==bi0x.id){qD5I=bD0x[bi0x.id]}}else{this.jX3x.push(bi0x)}},this)}else{this.jX3x=jw3x}if(this.Te5j()){this.bxa9R()}if(gv2x){this.zd7W(j0x.dx1x(this.jX3x,qD5I));this.by0x.ey1x()}this.bfu8m();h0x.z0x(y0x.uA6u,"queuechange",{cmd:gv2x?"play":"addto"})};b0x.mh4l=function(os4w){var r0x=j0x.dx1x(this.jX3x,function(bi0x){return bi0x.id==os4w});if(r0x!=-1){var cKz9q=r0x==this.fz2x&&this.jX3x.length>1,cKR9I=r0x==this.jX3x.length-1,bi0x=this.jX3x[r0x];this.jX3x.splice(r0x,1);if(this.Te5j()){this.Bt8l.splice(j0x.dx1x(this.Bt8l,bi0x),1)}if(cKz9q){if(cKR9I){this.zd7W(r0x-1)}else{this.zd7W(r0x)}}else if(r0x<this.fz2x){this.fz2x--}this.bfu8m();h0x.z0x(y0x.uA6u,"queuechange",{cmd:"delete"})}};b0x.rd5i=function(){this.jX3x=[];this.Bt8l=[];this.oi4m.index=this.fz2x=0;l0x.Jj2x(this.oi4m);this.bfu8m();h0x.z0x(y0x.uA6u,"queuechange",{cmd:"clear"})};b0x.qI5N=function(){return this.jX3x[this.fz2x]};b0x.bFk0x=function(){return this.jX3x};b0x.lY3x=function(){return this.jX3x.length};b0x.bwQ9H=function(E0x){var r0x=j0x.dx1x(this.jX3x,function(bi0x){return E0x==bi0x.id});if(r0x>=0){return this.jX3x[r0x]}};b0x.cKO9F=function(E0x){var r0x=j0x.dx1x(this.jX3x,function(bi0x){return E0x==bi0x.id});if(r0x>=0){this.zd7W(r0x);this.by0x.ey1x()}};b0x.cGt8l=function(){this.jX3x=u0x.xa7T(QUEUE_KEY)||[];this.fz2x=this.oi4m.index||0;if(this.jX3x.length&&this.Te5j()){this.bxa9R()}this.by0x.ber8j(this.qI5N(),true)};b0x.bFf0x=function(dA1x){if(this.Te5j()){var gz2x=this.qI5N(),r0x=inRange(j0x.dx1x(this.Bt8l,gz2x)+dA1x,this.Bt8l.length);return j0x.dx1x(this.jX3x,this.Bt8l[r0x])}else{return inRange(this.fz2x+dA1x,this.jX3x.length)}function inRange(r0x,bt0x){return r0x<0?bt0x-1:r0x>=bt0x?0:r0x}};b0x.bxa9R=function(){var k0x=this.jX3x.slice(0);this.Bt8l=[];while(k0x.length){var r0x=j0x.Dn8f(0,k0x.length-1);this.Bt8l.push(k0x[r0x]);k0x.splice(r0x,1)}};b0x.zd7W=function(r0x,t0x){if(!this.jX3x.length)return;var ie2x,lx3x=this.qI5N(),Un5s=this.by0x.bel8d();this.fz2x=r0x;this.oi4m.index=this.fz2x;ie2x=this.jX3x[this.fz2x];l0x.Jj2x(this.oi4m);h0x.z0x(y0x.uA6u,"playchange",{old:lx3x,"new":ie2x,type:t0x});this.by0x.ber8j(this.qI5N());if(ie2x&&ie2x.program)this.yy7r.cKH9y(ie2x.program,0);this.cKK9B(lx3x,ie2x,Un5s,t0x)};b0x.cKK9B=function(lx3x,ie2x,Un5s,bFp0x){if(!lx3x||!ie2x)return;if(Un5s>3){if(lx3x.program){this.jP3x.beo8g(lx3x.program.id,Un5s,lx3x.source,bFp0x||"interrupt","dj")}else{this.jP3x.beo8g(lx3x.id,Un5s,lx3x.source,bFp0x||"interrupt")}}var query=window.location.href.split("?")[1]||"";if(ie2x.program){this.jP3x.eL1x("startplay",{id:ie2x.program.id,type:"dj",content:query})}else{this.jP3x.eL1x("startplay",{id:ie2x.id,type:"song",content:query})}};b0x.Te5j=function(){return this.oi4m.mode==PlayMode.RANDOM};b0x.yS7L=function(d0x){if(d0x.action=="ended"){if(this.oi4m.mode==PlayMode.SINGLE_CYCLE){this.zd7W(this.fz2x,"playend")}else{this.oE4I()}}};G0x.fP2x.B0x({element:y0x.uA6u,event:["queuechange","playchange"]})})();
(function(){var c0x=NEJ.P,a9j=c0x("nej.e"),h0x=c0x("nej.v"),j0x=c0x("nej.u"),dq1x=c0x("nej.p"),u0x=c0x("nej.j"),X0x=c0x("nej.ui"),G0x=c0x("nej.ut"),p0x=c0x("nm.d"),n0x=c0x("nm.l"),l0x=c0x("nm.x"),dV1x=c0x("nm.u"),y0x=c0x("nm.w"),N0x=c0x("nm.m.f"),b0x,L0x;N0x.bFq0x=NEJ.C();b0x=N0x.bFq0x.M0x(X0x.ep1x);b0x.cy0x=function(){this.cC1x();this.gG2x=y0x.uA6u.fU2x();h0x.s0x(y0x.uA6u,"queuechange",this.xV7O.f0x(this));h0x.s0x(y0x.uA6u,"playchange",this.hN2x.f0x(this))};b0x.ce0x=function(){this.cd0x="m-player-panel"};b0x.bW0x=function(){this.cg0x();var k0x=a9j.C0x(this.o0x,"j-flag");this.bfj8b=k0x[0];this.ka3x=k0x[1];this.Ve5j=k0x[2];this.bO0x=k0x[3];this.Vh5m=k0x[4];this.js3x=y0x.Aw8o.B0x({track:this.Vh5m,slide:a9j.dj1x(this.Vh5m)[0],content:this.bO0x,speed:4});this.cf0x={nask:k0x[5],nmenu:k0x[6],nlist:k0x[7],nscroll:k0x[8]};h0x.s0x(this.o0x,"click",this.bN0x.f0x(this));h0x.s0x(this.Ve5j,"load",this.qV5a.f0x(this))};b0x.bo0x=function(e0x){this.bp0x(e0x);this.ra5f=y0x.bfc8U.B0x(this.cf0x);this.hN2x({"new":this.gG2x.qI5N()});this.js3x.qX5c();var k0x=a9j.C0x(this.bO0x,"z-sel");if(k0x.length){var bn0x=a9j.it2x(k0x[0],this.bO0x);this.bO0x.scrollTop=this.bO0x.scrollTop+(bn0x.y-(this.bO0x.scrollTop+112));this.js3x.bBL0x()}};b0x.bC0x=function(){this.z0x("onclose");if(this.ra5f){this.ra5f.V0x();delete this.ra5f}this.bH0x()};b0x.xV7O=function(d0x){a9j.dm1x(this.bO0x,"m-player-queue",{queue:this.gG2x.bFk0x(),current:this.gG2x.qI5N()},{dur2time:l0x.lQ3x,getArtistName:l0x.tx6r});this.bfj8b.innerText=this.gG2x.lY3x();if(d0x&&d0x.cmd=="delete")return;var k0x=a9j.C0x(this.bO0x,"z-sel");if(k0x.length){var bn0x=a9j.it2x(k0x[0],this.bO0x);this.bO0x.scrollTop=Math.max(Math.min(bn0x.y,this.bO0x.scrollTop),bn0x.y-224);this.js3x.bBL0x()}};b0x.bN0x=function(d0x){var g0x,E0x,bFw0x;g0x=h0x.ba0x(d0x,"a:href");if(g0x&&g0x.tagName.toLocaleLowerCase()=="a"&&/^http/.test(g0x.href)){return}h0x.uk6e(d0x);g0x=h0x.ba0x(d0x,"d:action");E0x=a9j.v0x(g0x,"id");switch(a9j.v0x(g0x,"action")){case"likeall":var kQ3x=this.gG2x.bFk0x();if(kQ3x&&kQ3x.length){var k0x=[];j0x.bg0x(kQ3x,function(q0x){if(!q0x.program)k0x.push(q0x)});window.subscribe(k0x,!1);this.V0x()}break;case"delete":this.gG2x.mh4l(E0x);h0x.bh0x(d0x);break;case"like":var bi0x=this.gG2x.bwQ9H(E0x);window.subscribe(bi0x,false);h0x.bh0x(d0x);this.V0x();break;case"share":bi0x=this.gG2x.bwQ9H(E0x);!bi0x.program?l0x.lB3x({rid:bi0x.id,type:18,purl:bi0x.album.picUrl,name:bi0x.name,author:l0x.zA7t(bi0x.artists)}):l0x.lB3x({rid:bi0x.program.id,type:17,purl:bi0x.program.coverUrl,name:bi0x.program.name,author:(bi0x.program.radio||[]).name});h0x.bh0x(d0x);this.V0x();break;case"download":bi0x=this.gG2x.bwQ9H(E0x);if(bi0x.program){l0x.Lk3x({type:17,id:bi0x.program.id})}else{bFw0x=l0x.tb6V(bi0x);if(bFw0x==1e3){l0x.iQ3x("因版权方要求，该歌曲不支持下载")}else{l0x.Lk3x({type:18,id:bi0x.id})}}this.V0x();break;case"play":this.gG2x.cKO9F(E0x);break;case"clear":this.gG2x.rd5i();break;case"close":this.V0x();break}};b0x.hN2x=function(d0x){var It2x=d0x["new"];if(It2x){this.ra5f&&this.ra5f.cKC9t(It2x);if(It2x.program){this.Ve5j.src=It2x.program.blurCoverUrl;this.ka3x.innerText=It2x.program.name}else{var bwE9v,Kq3x;j0x.bg0x(["pic_str","pic","picId_str","picId","picStr"],function(J0x){var q0x=(It2x.album||{})[J0x];if(j0x.fS2x(q0x)){bwE9v=bwE9v||q0x}else{Kq3x=Kq3x||q0x}});this.Ve5j.src="//music.163.com/api/img/blur/"+(bwE9v||Kq3x);this.ka3x.innerText=It2x.name}}this.xV7O()};b0x.qV5a=function(d0x){var ck0x=this.Ve5j.clientHeight,cKA9r=this.bO0x.parentNode.clientHeight;a9j.bc0x(this.Ve5j,"top",(cKA9r-ck0x)/2+"px")}})();
(function(){var c0x=NEJ.P,bd0x=NEJ.O,bs0x=NEJ.F,dq1x=c0x("nej.p"),P0x=c0x("nej.ut"),b0x;if(!!P0x.bwS9J)return;P0x.bwS9J=NEJ.C();b0x=P0x.bwS9J.M0x(P0x.cP1x);b0x.bo0x=function(e0x){this.bp0x(e0x);this.baV7O=e0x.to||bd0x;this.Sg4k=e0x.from||{};this.cfp4t=Math.max(0,parseInt(e0x.delay)||0)};b0x.bC0x=function(){this.bH0x();this.bh0x();if(!!this.Sh4l){window.clearTimeout(this.Sh4l);delete this.Sh4l}delete this.baV7O;delete this.Sg4k};b0x.bWp3x=function(bz0x){if(!this.Sg4k)return;if((""+bz0x).indexOf(".")>=0||dq1x.dB1x.browser==="safari")bz0x=+(new Date);if(this.bWo3x(bz0x)){this.bh0x();return}this.dJ1x=requestAnimationFrame(this.bWp3x.f0x(this))};b0x.bWo3x=bs0x;b0x.ey1x=function(){var cgc4g=function(){this.Sh4l=window.clearTimeout(this.Sh4l);this.Sg4k.time=+(new Date);this.dJ1x=requestAnimationFrame(this.bWp3x.f0x(this))};return function(){this.Sh4l=window.setTimeout(cgc4g.f0x(this),this.cfp4t);return this}}();b0x.bh0x=function(){this.dJ1x=cancelRequestAnimationFrame(this.dJ1x);this.z0x("onstop");return this}})();
(function(){var c0x=NEJ.P,bd0x=NEJ.O,j0x=c0x("nej.u"),P0x=c0x("nej.ut"),b0x,L0x;if(!!P0x.IT2x)return;P0x.IT2x=NEJ.C();b0x=P0x.IT2x.M0x(P0x.bwS9J);L0x=P0x.IT2x.ct0x;b0x.bo0x=function(e0x){this.bp0x(e0x);this.baU7N=e0x.duration||200;this.cgd4h=1/(200*this.baU7N);this.cge4i(e0x.timing);this.cgg4k()};b0x.bC0x=function(){this.bH0x();delete this.KP3x;delete this.bxl9c};b0x.cge4i=function(){var he2x=/^cubic\-bezier\((.*?)\)$/i,kY3x=/\s*,\s*/i,bWj3x={linear:[0,0,1,1],ease:[.25,.1,.25,1],easein:[.42,0,1,1],easeout:[0,0,.58,1],easeinout:[0,0,.58,1]};var cgh4l=function(D0x,r0x,k0x){k0x[r0x]=parseFloat(D0x)};return function(baR7K){baR7K=(baR7K||"").toLowerCase();this.KP3x=bWj3x[baR7K];if(he2x.test(baR7K)){this.KP3x=RegExp.$1.split(kY3x);j0x.bg0x(this.KP3x,cgh4l)}if(!!this.KP3x)return;this.KP3x=bWj3x.ease}}();b0x.cgg4k=function(){var KR3x=this.KP3x,bxs9j=3*KR3x[0],bWg3x=3*(KR3x[2]-KR3x[0])-bxs9j,cgo4s=1-bxs9j-bWg3x,bxw9n=3*KR3x[1],bWe3x=3*(KR3x[3]-KR3x[1])-bxw9n,cgr4v=1-bxw9n-bWe3x;this.bxl9c={ax:cgo4s,ay:cgr4v,bx:bWg3x,by:bWe3x,cx:bxs9j,cy:bxw9n}};b0x.cgw4A=function(){var bVT3x=function(bz0x,qH5M){return((qH5M.ax*bz0x+qH5M.bx)*bz0x+qH5M.cx)*bz0x};var cgG4K=function(bz0x,qH5M){return((qH5M.ay*bz0x+qH5M.by)*bz0x+qH5M.cy)*bz0x};var cgK4O=function(bz0x,qH5M){return(3*qH5M.ax*bz0x+2*qH5M.bx)*bz0x+qH5M.cx};var cha4e=function(bz0x,bVH3x,qH5M){var t0,t1,t2,x2,d2,i;for(t2=bz0x,i=0;i<8;i++){x2=bVT3x(t2,qH5M)-bz0x;if(Math.abs(x2)<bVH3x)return t2;d2=cgK4O(t2,qH5M);if(Math.abs(d2)<1e-6)break;t2=t2-x2/d2}t0=0;t1=1;t2=bz0x;if(t2<t0)return t0;if(t2>t1)return t1;while(t0<t1){x2=bVT3x(t2,qH5M);if(Math.abs(x2-bz0x)<bVH3x)return t2;if(bz0x>x2)t0=t2;else t1=t2;t2=(t1-t0)*.5+t0}return t2};return function(dA1x){return cgG4K(cha4e(dA1x/this.baU7N,this.cgd4h,this.bxl9c),this.bxl9c)}}();b0x.bWo3x=function(bz0x){var dA1x=bz0x-this.Sg4k.time,Ad8V=this.cgw4A(dA1x),bn0x=j0x.LO3x(this.Sg4k.offset*(1-Ad8V)+this.baV7O.offset*Ad8V,2),oj4n=!1;if(dA1x>=this.baU7N){bn0x=this.baV7O.offset;oj4n=!0}this.z0x("onupdate",{offset:bn0x});return oj4n};b0x.bh0x=function(){this.z0x("onupdate",{offset:this.baV7O.offset});L0x.bh0x.apply(this,arguments);return this}})();
(function(){var c0x=NEJ.P,P0x=c0x("nej.ut"),b0x;if(!!P0x.HS2x)return;P0x.HS2x=NEJ.C();b0x=P0x.HS2x.M0x(P0x.IT2x);b0x.bo0x=function(e0x){e0x=NEJ.X({},e0x);e0x.timing="easein";this.bp0x(e0x)}})();
(function(){var c0x=NEJ.P,a9j=c0x("nej.e"),h0x=c0x("nej.v"),P0x=c0x("nej.ut"),ye7X;P0x.HN2x=NEJ.C();ye7X=P0x.HN2x.M0x(P0x.cP1x);ye7X.bo0x=function(e0x){this.bp0x(e0x);this.ccT4X=!!e0x.reset;this.Xa6U=parseInt(e0x.delta)||0;this.jF3x=a9j.A0x(e0x.track);this.bCg0x=a9j.A0x(e0x.progress);this.bY0x([[e0x.thumb,"mousedown",this.ccN4R.f0x(this)],[document,"mousemove",this.bCe0x.f0x(this)],[document,"mouseup",this.bAp9g.f0x(this)],[this.jF3x,"mousedown",this.bCb0x.f0x(this)]]);var fx2x=e0x.value;if(fx2x==null){fx2x=this.bCg0x.offsetWidth/this.jF3x.offsetWidth}this.gY2x(fx2x)};ye7X.bC0x=function(){if(!!this.ccT4X)this.QR4V(0);this.bH0x()};ye7X.ccN4R=function(d0x){if(!!this.ik2x)return;h0x.bh0x(d0x);this.ik2x=h0x.kb3x(d0x);this.bCa0x=this.jF3x.offsetWidth};ye7X.bCe0x=function(d0x){if(!this.ik2x)return;var bn0x=h0x.kb3x(d0x),dA1x=bn0x-this.ik2x;this.ik2x=bn0x;this.QR4V(this.Gk9b+dA1x/this.bCa0x);this.z0x("onslidechange",{ratio:this.Gk9b})};ye7X.bAp9g=function(d0x){if(!this.ik2x)return;this.bCe0x(d0x);delete this.ik2x;delete this.bCa0x;this.z0x("onslidestop",{ratio:this.Gk9b})};ye7X.bCb0x=function(d0x){var ccI4M=a9j.it2x(this.jF3x).x,ccG4K=h0x.kb3x(d0x);this.QR4V((ccG4K-ccI4M+this.Xa6U)/this.jF3x.offsetWidth);this.z0x("onslidestop",{ratio:this.Gk9b})};ye7X.QR4V=function(fx2x){this.Gk9b=Math.max(0,Math.min(1,fx2x));a9j.bc0x(this.bCg0x,"width",this.Gk9b*100+"%")};ye7X.gY2x=function(fx2x){if(!!this.ik2x)return;this.QR4V(fx2x)};ye7X.bkI7B=function(fx2x){return this.Gk9b}})();
(function(){var c0x=NEJ.P,a9j=c0x("nej.e"),h0x=c0x("nej.v"),j0x=c0x("nej.u"),gJ2x=c0x("nm.ut");gJ2x.cKx9o=function(){var MM3x=function(bx0x,cl0x,pT5Y,qg5l,BQ8I){if(pT5Y<qg5l){var Iy2x=Math.floor((pT5Y+qg5l)/2);MM3x(bx0x,cl0x,pT5Y,Iy2x,BQ8I);MM3x(bx0x,cl0x,Iy2x+1,qg5l,BQ8I);cKo9f(bx0x,cl0x,pT5Y,Iy2x,qg5l,BQ8I)}};var cKo9f=function(bx0x,cl0x,pT5Y,Iy2x,qg5l,BQ8I){var i=pT5Y,j=Iy2x+1,k=pT5Y;while(i<=Iy2x&&j<=qg5l){if(BQ8I(bx0x[i],bx0x[j])<=0){cl0x[k++]=bx0x[i++]}else{cl0x[k++]=bx0x[j++]}}while(i<=Iy2x){cl0x[k++]=bx0x[i++]}while(j<=qg5l){cl0x[k++]=bx0x[j++]}for(i=pT5Y;i<=qg5l;i++){bx0x[i]=cl0x[i]}};var cKj9a=function(ht2x,bwo9f){return ht2x<bwo9f};return function(bx0x,BQ8I){if(!bx0x||bx0x.length==0)return bx0x;BQ8I=BQ8I||cKj9a;MM3x(bx0x,new Array(bx0x.length),0,bx0x.length-1,BQ8I);return bx0x}}();gJ2x.bFI0x=function(){var he2x=/\r\n|\r|\n/,kY3x=/\[(.*?)\]/gi,bAo9f={ar:"artist",ti:"track",al:"album",offset:"offset"},bBE0x=-1;var bAn9e=function(m0x,hZ2x){var bx0x=[];hZ2x=hZ2x.replace(kY3x,function($1,$2){var bz0x=bAm9d.call(this,m0x,$2);if(bz0x!=null){bBE0x=bz0x;bx0x.push({time:bz0x,tag:$2});m0x.scrollable=!0}return""}.f0x(this)).trim();if(!bx0x.length){if(!hZ2x||hZ2x.length==0)return;bx0x.push({time:bBE0x}||{time:-1})}j0x.bg0x(bx0x,function(q0x){q0x.lyric=hZ2x});var xQ7J=m0x.lines;xQ7J.push.apply(xQ7J,bx0x)};var bAm9d=function(m0x,bz0x){var bx0x=bz0x.split(":"),wB7u=bx0x.shift(),J0x=bAo9f[wB7u];if(!!J0x){m0x[J0x]=bx0x.join(":");return null}wB7u=parseInt(wB7u);if(isNaN(wB7u)){return null}else{var bn0x=parseInt(m0x.offset)||0;return wB7u*60+parseFloat(bx0x.join("."))+bn0x/1e3}};var bAh9Y=function(bAg9X,kn3x){return bAg9X.time-kn3x.time};return function(E0x,bq0x){var m0x={id:E0x,lines:[],scrollable:!1,source:bq0x};j0x.bg0x((bq0x||"").trim().split(he2x),bAn9e.f0x(null,m0x));if(m0x.scrollable){gJ2x.cKx9o(m0x.lines,bAh9Y);var r0x;for(var i=0;i<m0x.lines.length;i++){if(!!m0x.lines[i].lyric){r0x=i;break}}m0x.lines.splice(0,r0x)}return m0x}}();gJ2x.bFK0x=function(MD3x,beO8G){var bwk9b=gJ2x.bFI0x(0,MD3x),bwj9a=gJ2x.bFI0x(0,beO8G);if(bwk9b.scrollable&&bwj9a.scrollable){j0x.bg0x(bwk9b.lines,function(q0x){var beM8E=getTranslate(q0x.time);if(beM8E){q0x.lyric=q0x.lyric+"<br>"+beM8E.lyric}})}return bwk9b;function getTranslate(bz0x){var r0x=j0x.dx1x(bwj9a.lines,function(q0x){return q0x.time==bz0x});if(r0x!=-1){return bwj9a.lines[r0x]}}}})();
(function(){var P0x=NEJ.P("nej.ut"),bVG3x;if(!!P0x.uv6p)return;P0x.uv6p=NEJ.C();bVG3x=P0x.uv6p.M0x(P0x.IT2x);bVG3x.bo0x=function(e0x){e0x=NEJ.X({},e0x);e0x.timing="linear";this.bp0x(e0x)}})();
(function(){var c0x=NEJ.P,bd0x=NEJ.O,bs0x=NEJ.F,a9j=c0x("nej.e"),h0x=c0x("nej.v"),u0x=c0x("nej.j"),j0x=c0x("nej.u"),l0x=c0x("nm.x"),n0x=c0x("nm.l"),p0x=c0x("nm.d");var bFQ0x=function(i0x){if(i0x.errorType==6||i0x.errorType==7||i0x.errorType==8){if(!l0x.gR2x())return;l0x.kp3x({txt:"m-report-point",title:"提示",onaction:bFR0x.f0x(this,i0x)})}else{bFR0x(i0x)}};var cJi9Z=function(d0x){var g0x=h0x.ba0x(d0x,"d:action");if(a9j.v0x(g0x,"action")=="feedLyric"){h0x.bh0x(d0x);var ca0x=a9j.v0x(g0x,"code"),i0x={songId:a9j.v0x(g0x,"id"),errorType:ca0x};bFQ0x(i0x)}};var bFR0x=function(i0x,d0x){if(!d0x||d0x.action=="ok"){u0x.be0x("/api/v1/feedback/lyric",{type:"json",method:"post",data:j0x.cr0x(i0x),onload:function(d0x){if(d0x.code==200){n0x.bb0x.I0x({tip:"提交成功"});if(j0x.gT2x(i0x.onok)){i0x.onok()}}else if(d0x.code==-2){l0x.hk2x({title:"提示",message:"您的积分不足",btnok:"赚积分",action:function(U0x){if(U0x=="ok"){location.dispatch2("/store/gain/index")}}})}else{n0x.bb0x.I0x({type:2,tip:"提交失败"})}}})}};l0x.bFT0x=function(g0x){var g0x=g0x||document.body,eT1x=cJi9Z.f0x(this);h0x.s0x(g0x,"click",eT1x);return{destroy:function(){h0x.nT4X(g0x,"click",eT1x)}}};l0x.cLf9W=function(i0x){bFQ0x(i0x)}})();
(function(){var c0x=NEJ.P,a9j=c0x("nej.e"),h0x=c0x("nej.v"),j0x=c0x("nej.u"),u0x=c0x("nej.j"),G0x=c0x("nej.ut"),P0x=c0x("nej.p"),p0x=c0x("nm.d"),l0x=c0x("nm.x"),n0x=c0x("nm.l"),dV1x=c0x("nm.ut"),y0x=c0x("nm.w"),b0x,L0x;var bwg9X={};var bFW0x=function(E0x,lb3x){var Y0x="/api/song/lyric",bv0x={id:E0x,lv:-1,tv:-1};if(bwg9X[E0x]){if(lb3x)lb3x(bwg9X[E0x])}else{u0x.be0x(Y0x,{sync:false,type:"json",query:bv0x,method:"get",onload:function(i0x){bwg9X[E0x]=i0x;lb3x(i0x,E0x)},onerror:function(cc0x){lb3x(cc0x)}})}};y0x.bfc8U=NEJ.C();b0x=y0x.bfc8U.M0x(G0x.cP1x);y0x.bfc8U.cIO9F=bFW0x;b0x.bo0x=function(e0x){this.bp0x(e0x);this.bO0x=e0x.nlist;this.WG5L=e0x.nmenu;this.bFZ0x=e0x.nask;this.vZ6T={track:e0x.nscroll,slide:a9j.dj1x(e0x.nscroll)[0],content:this.bO0x,speed:4};this.bwe9V=this.HW2x.f0x(this);this.bY0x([[e0x.nask,"click",this.cIv9m.f0x(this)],[this.vZ6T.slide,"mousedown",this.bhJ6D.f0x(this)],[document,"mouseup",this.bhH6B.f0x(this)],[y0x.go2x,"playaction",this.yS7L.f0x(this)]]);if(P0x.dB1x.browser!="firefox"){this.bY0x([[this.bO0x,"mousewheel",this.bwe9V]])}else{this.bO0x.addEventListener("DOMMouseScroll",this.bwe9V,false)}this.js3x=y0x.Aw8o.B0x(this.vZ6T);this.bwd9U=l0x.bFT0x(this.bO0x);this.by0x=y0x.go2x.fU2x()};b0x.bC0x=function(){this.bH0x();delete this.Cf8X;delete this.un6h;delete this.beA8s;if(this.bwd9U){this.bwd9U.destroy();delete this.bwd9U}if(P0x.dB1x.browser=="firefox"){this.bO0x.removeEventListener("DOMMouseScroll",this.bwe9V)}a9j.bc0x(this.WG5L,"display","none")};b0x.cIv9m=function(){if(a9j.dk1x(this.WG5L,"display")=="none"){a9j.bc0x(this.WG5L,"display","block")}else{a9j.bc0x(this.WG5L,"display","none")}};b0x.bvO9F=function(){var im2x=0;return function(XH6B){clearTimeout(im2x);this.beA8s=true;if(this.un6h){this.un6h.V0x();delete this.un6h}if(!XH6B){im2x=setTimeout(function(){delete this.beA8s}.f0x(this),3e3)}}}();b0x.HW2x=function(){this.bvO9F()};b0x.bhJ6D=function(){this.bvO9F(true)};b0x.yS7L=function(d0x){if(d0x.action=="timeupdate"){this.bGh0x(d0x.data.time,true)}};b0x.bGh0x=function(bz0x,cIl9c){if(!(this.Cf8X&&this.Cf8X.scrollable)||this.beA8s)return;var i=this.Cf8X.lines.length-1,ii,dA1x,r0x=-1,bGj0x=0,gu2x=0;for(;i>=0;i--){ii=this.Cf8X.lines[i];dA1x=ii.time-bz0x;if(dA1x<0&&(i>0||dA1x<=-2)){r0x=i;break}}for(var j=0,jj;j<this.bvM9D.length;j++){jj=this.bvM9D[j];if(j<r0x){bGj0x+=jj.clientHeight}if(r0x==j){a9j.w0x(jj,"z-sel")}else{a9j.x0x(jj,"z-sel")}}if(r0x<0||a9j.it2x(this.bvM9D[r0x],this.bO0x).y<96){gu2x=0}else{gu2x=bGj0x-96}if(Math.abs(gu2x-this.bO0x.scrollTop)<=4||this.un6h)return;if(cIl9c){var cB1x={from:{offset:this.bO0x.scrollTop},to:{offset:gu2x},duration:500,onupdate:function(d0x){this.bO0x.scrollTop=d0x.offset;this.js3x.Pi4m(this.bO0x.scrollTop/(this.bO0x.scrollHeight-this.bO0x.clientHeight))}.f0x(this),onstop:function(){if(this.un6h){this.un6h.V0x();delete this.un6h}}.f0x(this)};this.un6h=G0x.uv6p.B0x(cB1x);this.un6h.ey1x()}else{this.bO0x.scrollTop=gu2x;this.js3x.Pi4m(this.bO0x.scrollTop/(this.bO0x.scrollHeight-this.bO0x.clientHeight))}};b0x.cKC9t=function(bi0x){this.bew8o=bi0x;delete this.Cf8X;if(bi0x&&!bi0x.program){bFW0x(bi0x.id,this.cIb8T.bind(this));a9j.x0x(this.bFZ0x,"f-hide")}else{a9j.w0x(this.bFZ0x,"f-hide");this.bhA6u({})}};b0x.cIb8T=function(d0x,E0x){if(d0x.code==200){var MD3x=d0x.lrc||{},beM8E=d0x.tlyric||{};if(!MD3x.lyric){this.bhA6u(d0x)}else{this.Cf8X=dV1x.bFK0x(MD3x.lyric,beM8E.lyric);d0x.scrollable=this.Cf8X.scrollable;a9j.dm1x(this.bO0x,"m-lyric-line",{id:this.bew8o.id,lines:this.Cf8X.lines,scrollable:this.Cf8X.scrollable});this.bvM9D=a9j.C0x(this.bO0x,"j-flag")}d0x.songId=this.bew8o.id;a9j.dm1x(this.WG5L,"m-player-lyric-ask",d0x)}else{}if(this.un6h){this.un6h.V0x();delete this.un6h}this.js3x.qX5c();this.bGh0x(this.by0x.bel8d()||0,false)};b0x.bhH6B=function(){if(this.beA8s){this.bvO9F()}};b0x.bhA6u=function(i0x){if(this.bew8o.program){this.bO0x.innerHTML='<div class="nocnt nolyric"><span class="s-fc4">电台节目，无歌词</span></div>'}else if(i0x.nolyric){this.bO0x.innerHTML='<div class="nocnt nolyric"><span class="s-fc4">纯音乐，无歌词</span></div>'}else{this.bO0x.innerHTML='<div class="nocnt nolyric"><span class="s-fc4">暂时没有歌词</span><a data-action="feedLyric" data-code="6"'+"data-id="+this.bew8o.id+' href="#" class="f-tdu">求歌词</a></div>'}this.js3x&&this.js3x.qX5c()}})();
(function(){var c0x=NEJ.P,a9j=c0x("nej.e"),h0x=c0x("nej.v"),j0x=c0x("nej.u"),dq1x=c0x("nej.p"),u0x=c0x("nej.j"),G0x=c0x("nej.ut"),p0x=c0x("nm.d"),n0x=c0x("nm.l"),l0x=c0x("nm.x"),dV1x=c0x("nm.u"),y0x=c0x("nm.w"),N0x=c0x("nm.m.f"),dL1x=c0x("player"),b0x,L0x;N0x.Yh6b=NEJ.C();b0x=N0x.Yh6b.M0x(G0x.cP1x);b0x.cy0x=function(){this.cC1x();this.zI7B=a9j.A0x("g_player");this.lN3x=this.zI7B.parentNode;var k0x=a9j.C0x(this.zI7B,"j-flag");this.hH2x=k0x[0];this.lK3x=k0x[1];this.ka3x=k0x[2];this.Mp3x=k0x[3];this.qr5w=k0x[4];this.hS2x=k0x[5];k0x=a9j.dj1x(k0x[6]);this.Cp8h=k0x[0];this.xl7e=k0x[1];this.bGr0x=k0x[2];this.bfj8b=k0x[3];this.bvE9v=k0x[4];this.bvC9t=a9j.dj1x(this.bfj8b)[0];this.zm7f=l0x.bxO9F();this.zl7e=null;this.ben8f(3e3);this.PP4T();this.cHI8A();this.cHH8z();this.cHG8y();this.bGB0x();this.bvx9o();dL1x.setLike=this.bGD0x.f0x(this);h0x.s0x(this.lN3x,"click",this.bN0x.f0x(this));h0x.s0x(y0x.go2x,"playaction",this.yS7L.f0x(this));h0x.s0x(y0x.uA6u,"queuechange",this.xV7O.f0x(this));h0x.s0x(y0x.uA6u,"playchange",this.hN2x.f0x(this));h0x.s0x(this.lN3x,dq1x.dB1x.browser=="ie"?"mouseleave":"mouseout",this.bGE0x.f0x(this,!1));h0x.s0x(this.lN3x,dq1x.dB1x.browser=="ie"?"mouseenter":"mouseover",this.bGE0x.f0x(this,!0));h0x.s0x(document,"keyup",this.bGF0x.f0x(this));h0x.s0x(window,"iframeclick",this.uR6L.f0x(this));h0x.s0x(document,"click",this.uR6L.f0x(this));h0x.s0x(this.Cp8h,"click",h0x.bh0x.f0x(h0x));dL1x.hotkeys=this.bGF0x.f0x(this);this.bGG0x=j0x.oQ4U()};b0x.bvx9o=function(){var Mh3x=a9j.A0x("g-topbar"),cN1x=this.zI7B.offsetWidth,cHx8p=this.lN3x.offsetWidth;if(!Mh3x)return;a9j.bc0x(this.zI7B,"marginLeft",-(cHx8p-Mh3x.offsetWidth+this.zI7B.offsetWidth)/2+"px")};b0x.bGB0x=function(){if(this.zm7f.lock){a9j.x0x(this.lN3x,"m-playbar-unlock");a9j.w0x(this.lN3x,"m-playbar-lock");window.g_bottomBarHeight=47}else{a9j.w0x(this.lN3x,"m-playbar-unlock");a9j.x0x(this.lN3x,"m-playbar-lock");window.g_bottomBarHeight=0}};b0x.PP4T=function(){var k0x=a9j.dj1x(this.Mp3x);this.PU4Y=k0x[0];this.bei8a=a9j.dj1x(k0x[1])[0];this.Md3x=G0x.HN2x.B0x({track:this.Mp3x,thumb:this.bei8a,progress:k0x[1],onslidestop:function(d0x){this.bGM0x=false;this.by0x.pw5B(this.by0x.bzB9s()*d0x.ratio)}.f0x(this),onslidechange:function(d0x){this.bGM0x=true;this.bvr9i({time:d0x.ratio*this.by0x.bzB9s(),duration:this.by0x.bzB9s()})}.f0x(this)})};b0x.cHH8z=function(){var k0x=a9j.C0x(this.Cp8h,"j-t"),fx2x=k0x[1],zn7g=this.zm7f.volume;if(zn7g==null){zn7g=.8}this.xW7P=G0x.OE4I.B0x({track:k0x[0],slide:k0x[2],onchange:function(d0x){var D0x=1-d0x.y.rate,ck0x=93*D0x;a9j.bc0x(fx2x,"height",ck0x+"px");ck0x>0?a9j.x0x(this.xl7e,"icn-volno"):a9j.w0x(this.xl7e,"icn-volno");this.by0x.nu4y(D0x);this.zm7f.volume=D0x;l0x.Jj2x(this.zm7f)}.f0x(this)});this.xW7P.gY2x({x:0,y:1-zn7g})};b0x.cHI8A=function(){var bv0x=j0x.gX2x(location.hash.slice(1))||{},t0x=bv0x["__media"]||"auto";if(this.zm7f.useFlash){this.zm7f.useFlash=false;l0x.Jj2x(this.zm7f)}this.by0x=y0x.go2x.fU2x({media:t0x});this.gG2x=y0x.uA6u.fU2x();dL1x.addTo=function(jw3x,vW6Q,gv2x){this.gG2x.cJr9i(JSON.parse(JSON.stringify(jw3x)),vW6Q,gv2x)}.f0x(this);dL1x.tipPlay=this.bvq9h.f0x(this);dL1x.getPlaying=function(){return{track:this.gG2x.qI5N(),playing:this.by0x.vw6q()}}.f0x(this);dL1x.pause=this.by0x.fJ2x.f0x(this.by0x);var gz2x=this.gG2x.qI5N();if(gz2x){this.bGP0x(gz2x)}this.bGQ0x(this.gG2x.cIM9D());this.bGR0x();this.cGV8N()};b0x.xV7O=function(){var im2x=0;return function(d0x){if(d0x.cmd=="play"||d0x.cmd=="addto"){this.bvq9h(d0x.cmd=="play"?"已开始播放":"已添加到播放列表")}this.bGR0x()}}();b0x.hN2x=function(d0x){var bi0x=d0x["new"];this.bGP0x(bi0x);if(this.by0x.vw6q()){document.title=decodeURIComponent("%E2%96%B6%20")+bi0x.name}h0x.z0x(window,"playchange",{trackId:bi0x.id,track:bi0x})};b0x.bN0x=function(d0x){var g0x=h0x.ba0x(d0x,"d:action"),U0x=a9j.v0x(g0x,"action"),ph4l=h0x.ba0x(d0x,"a:href");if(ph4l&&ph4l.tagName.toLocaleLowerCase()=="a"&&/^http/.test(ph4l.href)){this.V0x();return}else{h0x.bh0x(d0x)}switch(U0x){case"lock":this.zm7f.lock=!a9j.bE0x(this.lN3x,"m-playbar-lock");l0x.Jj2x(this.zm7f);this.bGB0x();break;case"prev":this.gG2x.Ae8W();break;case"next":this.gG2x.oE4I();break;case"play":this.by0x.ey1x();break;case"pause":this.by0x.fJ2x();break;case"like":var bi0x=this.gG2x.qI5N();if(bi0x){window.subscribe(bi0x,bi0x.program)}!bi0x.program&&this.ug6a&&this.ug6a.V0x();break;case"share":var bi0x=this.gG2x.qI5N();if(bi0x.program&&bi0x.program.auditStatus==1){l0x.iQ3x("由于版权问题，该节目暂时无法分享。")}else{if(bi0x){!bi0x.program?l0x.lB3x({rid:bi0x.id,type:18,purl:bi0x.album.picUrl,name:bi0x.name,author:l0x.zA7t(bi0x.artists)}):l0x.lB3x({rid:bi0x.program.id,type:17,purl:bi0x.program.coverUrl,name:bi0x.program.name,author:(bi0x.program.radio||[]).name})}this.ug6a&&this.ug6a.V0x()}break;case"mode":this.bGQ0x(this.gG2x.cHB8t(),true);break;case"volume":h0x.bh0x(d0x);if(this.Cp8h.style.visibility!="hidden"){a9j.bc0x(this.Cp8h,"visibility","hidden")}else{a9j.bc0x(this.Cp8h,"visibility","visible")}break;case"panel":h0x.bh0x(d0x);if(!this.ug6a){this.ug6a=N0x.bFq0x.B0x({parent:this.lN3x,onclose:function(){delete this.ug6a;this.ben8f()}.f0x(this)})}else{if(this.ug6a){this.ug6a.V0x();delete this.ug6a}}break}};b0x.bvr9i=function(d0x){this.qr5w.innerHTML=l0x.fp2x("<em>{0}</em> / {1}",l0x.lQ3x(d0x.time),l0x.lQ3x(d0x.duration));try{this.zl7e&&this.zl7e.updateTime(d0x.time)}catch(e){}};b0x.bGQ0x=function(eR1x,cR1x){var bD0x={2:{icn:"icn-one",title:"单曲循环"},4:{icn:"icn-loop",title:"循环"},5:{icn:"icn-shuffle",title:"随机"}},bf0x=bD0x[eR1x];a9j.fm2x(this.bGr0x,"icn-one icn-loop icn-shuffle",bf0x.icn);this.bvE9v.innerText=this.bGr0x.title=bf0x.title;clearTimeout(this.cGO8G);if(cR1x){a9j.bc0x(this.bvE9v,"display","");this.cGO8G=setTimeout(function(){a9j.bc0x(this.bvE9v,"display","none")}.f0x(this),2e3)}};b0x.bGD0x=function(df1x){var gz2x=this.gG2x.qI5N();if(gz2x&&gz2x.program&&gz2x.program.id==df1x.id){gz2x.program.liked=df1x.liked;this.hS2x.title="赞";if(df1x.liked){a9j.fm2x(this.hS2x,"icn-zan","icn-yizan")}else{a9j.fm2x(this.hS2x,"icn-yizan","icn-zan")}this.gG2x.bfu8m()}};b0x.bGP0x=function(bi0x){var bw0x;a9j.bc0x(this.PU4Y,"width",0);this.bvr9i(0);this.Md3x.gY2x(0);var windowParent=window.parent?window.parent:window;var GDegradeConfig={degrade:false};try{GDegradeConfig=windowParent["GDegradeConfig"]}catch(e){}if(bi0x){bw0x=this.cGJ8B(bi0x);if(bi0x.program){if(GDegradeConfig.degrade){a9j.fm2x(this.hS2x,"icn-add icn-zan icn-yizan","f-hide")}else{a9j.fm2x(this.hS2x,"icn-add","icn-zan");this.hS2x.title="赞";u0x.la3x(this.rb5g);this.rb5g=u0x.be0x("/api/dj/program/detail",{type:"json",query:{id:bi0x.program.id},onload:function(d0x){if(d0x.code==200){this.bGD0x(d0x.program)}}.f0x(this)})}}else{a9j.fm2x(this.hS2x,"icn-zan icn-yizan f-hide","icn-add");this.hS2x.title="收藏"}this.lK3x.innerHTML=l0x.fp2x('<img src="{0}?param=34y34"><a href="{1}" hidefocus="true" class="mask"></a>',bw0x.cover,bw0x.titleUrl);a9j.dm1x(this.ka3x,"m-player-playinfo",bw0x);this.cGG8y(bi0x);this.bGX0x(bi0x)}};b0x.bGR0x=function(){var k0x=a9j.dj1x(this.bfj8b);k0x[1].innerText=this.gG2x.lY3x()};b0x.cGJ8B=function(bi0x){var m0x={duration:bi0x.duration,cover:"http://s4.music.126.net/style/web2/img/default_album.jpg",source:bi0x.source};if(bi0x.program){m0x.type="program";m0x.name=j0x.dN1x(bi0x.program.name);m0x.cover=bi0x.program.coverUrl;m0x.titleUrl="/program?id="+bi0x.program.id;m0x.artistHtml=l0x.fp2x('<a hidefocus="true" href="/radio?id={0}" title="{1}">{1}</a>',bi0x.program.radio.id,j0x.dN1x(bi0x.program.radio.name))}else{m0x.type="song";m0x.name=j0x.dN1x(bi0x.name);m0x.mvid=bi0x.mvid;if(!bi0x.album){bi0x.album={}}if(bi0x.album.pic&&bi0x.album.picUrl){m0x.cover=bi0x.album.picUrl}m0x.titleUrl="/song?id="+bi0x.id;m0x.artistHtml=l0x.tx6r(bi0x.artists)}return m0x};b0x.cGG8y=function(bi0x){try{var mediaSession=window.navigator.mediaSession;var MediaMetadata=window.MediaMetadata;var cGF8x=(bi0x.artists||[]).map(function(ih2x){return(ih2x||{}).name}).join(" / ");var cGE8w=bi0x.program?(bi0x.program.radio||{}).name:(bi0x.album||{}).name;var ox4B=bi0x.program?bi0x.program.coverUrl||(bi0x.program.radio||{}).picUrl:(bi0x.album||{}).picUrl;mediaSession.metadata=new MediaMetadata({title:bi0x.name,artist:cGF8x,album:cGE8w,artwork:[{src:ox4B+"?param=200y200",sizes:"200x200",type:"image/jpeg"}]})}catch(e){}};b0x.bGX0x=function(bi0x){try{if(!this.zl7e)return;this.zl7e.setData(bi0x);if(bi0x.program)return;y0x.bfc8U.cIO9F(bi0x.id,function(Ma3x){try{var gz2x=this.gG2x.qI5N();if(!gz2x||gz2x.id!=bi0x.id)return;this.zl7e.setData(bi0x,Ma3x)}catch(e){}}.bind(this))}catch(e){}};b0x.yS7L=function(d0x){var i0x=d0x.data;switch(d0x.action){case"play":a9j.w0x(this.hH2x,"pas");a9j.v0x(this.hH2x,"action","pause");u0x.gV2x("playerid",this.bGG0x);var bi0x=this.gG2x.qI5N();if(bi0x){document.title=decodeURIComponent("%E2%96%B6%20")+bi0x.name}h0x.z0x(window,"playstatechange",d0x);try{this.zl7e&&this.zl7e.play()}catch(e){}break;case"pause":a9j.x0x(this.hH2x,"pas");a9j.v0x(this.hH2x,"action","play");document.title=this.cGD8v()||"网易云音乐";try{this.zl7e&&this.zl7e.pause()}catch(e){}break;case"timeupdate":if(this.bGM0x)return;var hM2x=u0x.gV2x("playerid");if(hM2x&&hM2x!==this.bGG0x){this.by0x.fJ2x()}this.Md3x.gY2x(i0x.time/i0x.duration);this.bvr9i(i0x);break;case"progress":a9j.bc0x(this.PU4Y,"width",i0x.loaded*100/i0x.total+"%");break;case"error":this.bvq9h("播放失败");a9j.x0x(this.bei8a,"z-load");break;case"playing":a9j.x0x(this.bei8a,"z-load");break;case"waiting":a9j.w0x(this.bei8a,"z-load");break}};b0x.bvq9h=function(){var im2x=0;return function(dS1x){if(dS1x){this.bvC9t.innerText=dS1x;a9j.bc0x(this.bvC9t,"display","");clearTimeout(im2x);im2x=setTimeout(function(){a9j.bc0x(this.bvC9t,"display","none")}.f0x(this),2e3);this.qR5W(true);this.ben8f(2e3)}}}();b0x.bGE0x=function(OG4K,d0x){if(!this.ug6a){if(OG4K){if(!l0x.Of3x(this.lN3x,d0x.relatedTarget||d0x.fromElement)){this.qR5W(true)}}else{if(!l0x.Of3x(this.lN3x,d0x.relatedTarget||d0x.toElement)){this.ben8f()}}}};b0x.ben8f=function(vk6e){clearTimeout(this.bHc0x);this.bHc0x=setTimeout(function(){if(!this.zm7f.lock){this.qR5W(false)}}.f0x(this),vk6e||500)};b0x.qR5W=function(){var BT8L,bed8V=true;return function(mF4J){clearTimeout(this.bHc0x);if(BT8L||mF4J==bed8V)return;bed8V=mF4J;BT8L=G0x.HS2x.B0x({to:{offset:mF4J?-53:-7},from:{offset:mF4J?-7:-53},onstop:function(){BT8L.V0x();BT8L=null},onupdate:function(d0x){a9j.bc0x(this.lN3x,"top",d0x.offset+"px")}.f0x(this),duration:mF4J?100:350});BT8L.ey1x()}}();b0x.bGF0x=function(d0x){if(d0x.keyCode==80&&!l0x.bMM1x()){this.by0x.vw6q()?this.by0x.fJ2x():this.by0x.ey1x()}else if(d0x.ctrlKey){switch(d0x.keyCode){case 37:this.gG2x.Ae8W();break;case 39:this.gG2x.oE4I();break}}};b0x.cHG8y=function(){var g0x=document.createElement("script");g0x.setAttribute("type","text/javascript");g0x.setAttribute("src","/st/pip/lyric/inject.js");g0x.onload=function(){try{if(!window.PipLyric||!window.PipLyric.support)return;this.zl7e=window.PipLyric(l0x.lR3x.bind(this));var gz2x=this.gG2x.qI5N();if(gz2x)this.bGX0x(gz2x)}catch(e){}g0x.parentNode.removeChild(g0x)}.bind(this);document.head.appendChild(g0x)};b0x.cGV8N=function(){try{var mediaSession=window.navigator.mediaSession;mediaSession.setActionHandler("previoustrack",this.gG2x.Ae8W.bind(this.gG2x));mediaSession.setActionHandler("nexttrack",this.gG2x.oE4I.bind(this.gG2x))}catch(e){}};b0x.uR6L=function(){a9j.bc0x(this.Cp8h,"visibility","hidden");this.ug6a&&this.ug6a.V0x()};b0x.cGD8v=function(){var eV1x=a9j.A0x("g_iframe");if(eV1x){return eV1x.contentWindow.document.title}else{return""}};b0x.I0x=function(){window.g_bottomBarShow=true;a9j.bc0x(this.lN3x,"visibility","visible")};b0x.br0x=function(){window.g_bottomBarShow=false;this.by0x.fJ2x();a9j.bc0x(this.lN3x,"visibility","hidden")}})();
(function(){var c0x=NEJ.P,bd0x=NEJ.O,bs0x=NEJ.F,a9j=c0x("nej.e"),h0x=c0x("nej.v"),u0x=c0x("nej.j"),G0x=c0x("nej.ut"),X0x=c0x("nej.ui"),j0x=c0x("nej.u"),l0x=c0x("nm.x"),p0x=c0x("nm.d"),y0x=c0x("nm.w"),b0x;y0x.Xy6s=NEJ.C();b0x=y0x.Xy6s.M0x(X0x.ep1x);b0x.bo0x=function(e0x){this.bp0x(e0x);if(e0x.txt){this.o0x.innerHTML=a9j.ij2x(e0x.txt)}else if(e0x.html){this.o0x.innerHTML=e0x.html}this.Em9d=e0x.captchaId;var k0x=a9j.C0x(this.o0x,"j-flag");this.fd1x=k0x[0];this.ei1x=k0x[1];this.bY0x([[this.ei1x,"click",this.bpS8K.f0x(this)],[this.fd1x,"keypress",this.caT3x.f0x(this)]]);this.ei1x.src="/captcha?id="+this.Em9d};b0x.bC0x=function(){this.bH0x()};b0x.bpS8K=function(){u0x.be0x("/api/image/captcha/verify/hf",{type:"json",query:{id:this.Em9d,captcha:0},onload:function(m0x){if(m0x.code==200){this.Em9d=m0x.captchaId;this.ei1x.src="/captcha?id="+this.Em9d}}.f0x(this)})};b0x.caT3x=function(d0x){if(d0x.keyCode==13)this.z0x("onaction",d0x)};b0x.IA2x=function(){var m0x={},ca0x=this.fd1x.value;if(!ca0x){m0x.message="请输入验证码"}else{u0x.be0x("/api/image/captcha/verify/hf",{type:"json",sync:true,query:{id:this.Em9d,captcha:ca0x},onload:cbVerify.f0x(this),onerror:cbVerify.f0x(this)})}return m0x;function cbVerify(d0x){if(d0x.code==200){if(d0x.result){m0x.success=true}else{m0x.message="验证码错误";if(d0x.captchaId){this.Em9d=d0x.captchaId;this.ei1x.src="/captcha?id="+this.Em9d}}}else{m0x.message="验证出错"}}};b0x.gl2x=function(){return this.fd1x.value};b0x.Hr9i=function(){return this.Em9d};b0x.w0x=function(jl3x){a9j.w0x(this.fd1x,jl3x)};b0x.x0x=function(jl3x){a9j.x0x(this.fd1x,jl3x)}})();
(function(){var c0x=NEJ.P,bd0x=NEJ.O,h0x=c0x("nej.v"),a9j=c0x("nej.e"),u0x=c0x("nej.j"),n0x=c0x("nm.l"),y0x=c0x("nm.w"),bG0x=c0x("nej.ui"),p0x=c0x("nm.d"),l0x=c0x("nm.x"),b0x,L0x;n0x.bpX8P=NEJ.C();b0x=n0x.bpX8P.M0x(n0x.ef1x);L0x=n0x.bpX8P.ct0x;b0x.bW0x=function(){this.cg0x();var k0x=a9j.C0x(this.o0x,"j-flag");this.fd1x=k0x[0];this.ed1x=k0x[1];h0x.s0x(this.o0x,"click",this.bN0x.f0x(this))};b0x.ce0x=function(){this.cd0x="m-captcha-layer"};b0x.bo0x=function(e0x){e0x.clazz="m-layer-captcha";e0x.parent=e0x.parent||document.body;e0x.title="输入验证码";e0x.draggable=!0;e0x.destroyable=true;e0x.mask=true;this.bp0x(e0x);this.db1x=y0x.Xy6s.B0x({parent:this.fd1x,html:'<input class="u-txt txt f-fl j-flag"/><img class="captcha f-fl j-flag" src=""/>',captchaId:e0x.captchaId})};b0x.bC0x=function(){this.z0x("ondestroy");this.bH0x();if(this.db1x){this.db1x.V0x();delete this.db1x}};b0x.bN0x=function(d0x){var g0x=h0x.ba0x(d0x,"d:action");switch(a9j.v0x(g0x,"action")){case"ok":var bw0x=this.db1x.IA2x();if(!bw0x.success){this.ed1x.innerHTML='<i class="u-icn u-icn-25"></i>'+bw0x.message;a9j.x0x(this.ed1x,"f-hide")}else{a9j.w0x(this.ed1x,"f-hide");this.br0x()}break;case"cc":this.br0x();break}};l0x.bZK3x=function(e0x){n0x.bpX8P.B0x(e0x).I0x()}})();
(function(){var c0x=NEJ.P,a9j=c0x("nej.e"),u0x=c0x("nej.j"),bd0x=c0x("nej.o"),j0x=c0x("nej.u"),h0x=c0x("nej.v"),bG0x=c0x("nej.ui"),p0x=c0x("nm.d"),l0x=c0x("nm.x"),n0x=c0x("nm.l"),b0x,L0x;n0x.rl5q=NEJ.C();b0x=n0x.rl5q.M0x(n0x.ef1x,!0);b0x.cy0x=function(){this.cC1x()};b0x.bW0x=function(){this.cg0x();var k0x=a9j.C0x(this.o0x,"j-flag");this.bqa8S=k0x[0];h0x.s0x(k0x[1],"click",this.bqb8T.f0x(this))};b0x.ce0x=function(){this.cd0x="m-layer-tip"};b0x.bo0x=function(e0x){e0x.parent=e0x.parent||document.body;this.bp0x(e0x);this.bqa8S.innerHTML=e0x.mesg||""};b0x.bC0x=function(){this.bH0x()};b0x.bqb8T=function(d0x){this.z0x("onnotice");this.br0x()};n0x.or4v=function(e0x){if(this.zK7D){this.zK7D.V0x();delete this.zK7D}this.zK7D=n0x.rl5q.B0x(e0x);this.zK7D.I0x()}})();
(function(){var c0x=NEJ.P,bd0x=NEJ.O,bs0x=NEJ.F,h0x=c0x("nej.v"),u0x=c0x("nej.j"),G0x=c0x("nej.ut"),a9j=c0x("nej.e"),j0x=c0x("nej.u"),n0x=c0x("nm.l"),l0x=c0x("nm.x"),p0x=c0x("nm.d"),lt3x=c0x("nm.ctl"),b0x;if(lt3x.bqd8V)return;lt3x.bqd8V=NEJ.C();b0x=lt3x.bqd8V.M0x(G0x.cP1x);var caM3x=location.host=="music.163.com";if(caM3x){var bV0x={host:"s2.music.126.net",scaptcha_server:"captcha.aq.163.com/v1_5",scaptcha_product_key:"nj2vr7swvutssrtbj16kzfentkikkvbf",captchaId:"73a18dc827b24b18ad0783701a75277d"}}else{var bV0x={host:location.host,scaptcha_server:"captcha.aq.163.com/v1_5",scaptcha_product_key:"nj2vr7swvutssrtbj16kzfentkikkvbf",captchaId:"73a18dc827b24b18ad0783701a75277d"}}b0x.bZL3x=function(caK3x){return location.protocol+"//"+bV0x.host+caK3x};b0x.caI3x=function(J0x){return NEJ.Q(bV0x,J0x)};c0x("ctl").env=lt3x.bqd8V.fU2x()})();
(function(){var c0x=NEJ.P,bd0x=NEJ.O,bs0x=NEJ.F,P0x=c0x("nej.p"),a9j=c0x("nej.e"),h0x=c0x("nej.v"),u0x=c0x("nej.j"),G0x=c0x("nej.ut"),j0x=c0x("nej.u"),l0x=c0x("nm.x"),p0x=c0x("nm.d"),y0x=c0x("nm.w"),b0x;if(y0x.bqn8f)return;y0x.bqn8f=NEJ.C();b0x=y0x.bqn8f.M0x(G0x.cP1x);b0x.cy0x=function(){var time=parseInt(+(new Date)/6e4,10);this.bZM3x=[location.protocol+"//cstaticdun.126.net/load.min.js?t="+time];if(P0x.dB1x&&P0x.dB1x.engine=="trident"&&nej.p.dB1x.release-5<0){this.bZM3x.unshift(ctl.env.bZL3x("/static/web2/3rd/scaptcha/ie6support.js"))}this.cC1x()};b0x.bo0x=function(e0x){this.bp0x(e0x);this.db1x="";this.hz2x=e0x.parent;this.mG4K={captchaId:e0x.captchaId,width:e0x.width};this.XI6C(0);this.caF3x()};b0x.bC0x=function(){delete this.bqt8l;delete this.mG4K;delete this.hz2x;delete this.db1x;this.bH0x()};b0x.caF3x=function(){if(this.bqt8l>0)return;this.XI6C(1);this.caB3x()};b0x.caB3x=function(){var bZO3x=this.bZM3x.shift();if(!bZO3x){this.XI6C(2);this.hs2x()}else{u0x.cGy8q(bZO3x,{onloaded:this.cav3x.f0x(this),onerror:this.XI6C.f0x(this,3)})}};b0x.cav3x=function(){if(j0x.gT2x(window.initNECaptcha)){this.XI6C(2);window.initNECaptcha({captchaId:this.mG4K.captchaId,element:this.hz2x,mode:"float",width:this.mG4K.width,onVerify:this.vg6a.f0x(this)},function(instance){this.fa1x=instance}.f0x(this),function(err){console.log("易盾sdk初始化失败",err)}.f0x(this))}};b0x.XI6C=function(bZR3x){this.bqt8l=bZR3x;this.z0x("onloadstatechange",{loadState:bZR3x})};b0x.vg6a=function(err,data){if(err){return}setTimeout(this.cap3x.f0x(this,data),0)};b0x.cap3x=function(d0x){if(d0x.validate){this.db1x=d0x.validate}else{this.db1x=""}this.z0x("onverify",{success:true})};b0x.hs2x=function(){if(this.bqt8l==2){if(this.fa1x&&j0x.gT2x(this.fa1x.refresh)){this.db1x="";this.fa1x.refresh()}}};b0x.KX3x=function(){return this.db1x}})();
(function(){var c0x=NEJ.P,bd0x=NEJ.O,a9j=c0x("nej.e"),h0x=c0x("nej.v"),j0x=c0x("nej.u"),u0x=c0x("nej.j"),p0x=c0x("nm.d"),n0x=c0x("nm.l"),l0x=c0x("nm.x"),y0x=c0x("nm.w"),b0x,L0x;n0x.IH2x=NEJ.C();b0x=n0x.IH2x.M0x(n0x.ef1x);L0x=n0x.IH2x.ct0x;b0x.bo0x=function(e0x){this.bp0x(e0x);this.dw1x=e0x;this.db1x=y0x.bqn8f.B0x({parent:this.KW3x,captchaId:ctl.env.caI3x("captchaId"),width:220,onverify:this.vg6a.f0x(this)})};b0x.bC0x=function(){this.bH0x();if(this.db1x){this.db1x.V0x();delete this.db1x}};b0x.ce0x=function(){this.cd0x="ntp-setnickname"};b0x.bW0x=function(){this.cg0x();var k0x=a9j.C0x(this.o0x,"js-flag");this.fi2x=k0x.shift();a9j.hi2x(this.fi2x,"holder");h0x.s0x(this.fi2x,"focus",this.gQ2x.f0x(this));h0x.s0x(this.fi2x,"keypress",this.GO9F.f0x(this));h0x.s0x(this.fi2x,"keyup",this.bqF8x.f0x(this));this.KW3x=k0x.shift();this.ed1x=k0x.shift();this.cw0x=k0x.shift();h0x.s0x(this.o0x,"click",this.bN0x.f0x(this))};b0x.I0x=function(){L0x.I0x.apply(this,arguments);this.bU0x(false);this.cO1x(false);this.fi2x.value="";this.db1x.hs2x()};b0x.gQ2x=function(){a9j.x0x(this.fi2x,"u-txt-err")};b0x.GO9F=function(d0x){if(d0x.keyCode==13)this.oM4Q()};b0x.bN0x=function(d0x){var H0x=h0x.ba0x(d0x,"d:action");if(!H0x)return;var U0x=a9j.v0x(H0x,"action");switch(U0x){case"ok":this.oM4Q(d0x);break}};b0x.oM4Q=function(d0x){h0x.cn0x(d0x);if(this.cO1x())return;if(!(this.sf5k=this.bbX7Q()))return;var iN3x=this.db1x.KX3x();if(!iN3x.trim())return this.bU0x("请输入验证码","captcha");if(this.dw1x.onok){this.cO1x(true);this.dw1x.onok({nickname:this.sf5k,dragPwd:iN3x})}};b0x.vg6a=function(d0x){if(d0x.success){this.bU0x(false);if(this.fi2x.value.trim()){this.oM4Q()}}else{this.bU0x("验证码错误","captcha")}};b0x.bbX7Q=function(){var jv3x=this.fi2x.value.trim(),oH4L=jv3x.replace(/[^\x00-\xff]/g,"**");if(!jv3x)return this.bU0x("请输入昵称","nickname");if(oH4L.length<4||oH4L.length>30)return this.bU0x("昵称应该是4-30个字，且不包含除-和_以外的特殊字符","nickname");if(!/^[\u4e00-\u9fa5A-Za-z0-9-_]*$/.test(jv3x))return this.bU0x("昵称应该是4-30个字，且不包含除-和_以外的特殊字符","nickname");return jv3x};b0x.bqF8x=function(d0x){var jv3x=this.fi2x.value.trim(),oH4L=jv3x.replace(/[^\x00-\xff]/g,"**");if(this.bqK8C==jv3x)return;this.bqK8C=jv3x;if(d0x.keyCode==13)return;if(/[^\u4e00-\u9fa5\w-]/.test(jv3x))return this.bU0x("昵称应该是4-30个字，且不包含除-和_以外的特殊字符","nickname");if(jv3x&&oH4L.length>30)return this.bU0x("昵称应该是4-30个字，且不包含除-和_以外的特殊字符","nickname");this.bU0x(false)};b0x.bU0x=function(bB0x,iM3x,cao3x){this.dY1x(this.ed1x,bB0x);a9j.x0x(this.fi2x,"u-txt-err");if(iM3x=="nickname"){a9j.w0x(this.fi2x,"u-txt-err")}else if(iM3x=="captcha"){}if(cao3x){this.db1x.hs2x()}};b0x.cO1x=function(de1x){return this.eb1x(this.cw0x,de1x,"完成注册，开启云音乐","设置中...")}})();
(function(){var c0x=NEJ.P,bd0x=NEJ.O,a9j=c0x("nej.e"),h0x=c0x("nej.v"),j0x=c0x("nej.u"),u0x=c0x("nej.j"),p0x=c0x("nm.d"),n0x=c0x("nm.l"),l0x=c0x("nm.x"),b0x,L0x;n0x.bqM8E=NEJ.C();b0x=n0x.bqM8E.M0x(n0x.ef1x);L0x=n0x.bqM8E.ct0x;b0x.ce0x=function(){this.cd0x="ntp-setpassword"};b0x.bW0x=function(){this.cg0x();var Gz9q=a9j.C0x(this.o0x,"js-tip");this.cD1x=Gz9q[0];this.RH4L=Gz9q[1];this.RN4R=Gz9q[2];this.qY5d=a9j.C0x(this.o0x,"js-mob")[0];this.mN4R=a9j.C0x(this.o0x,"js-code")[0];this.dz1x=a9j.C0x(this.o0x,"js-input")[0];a9j.hi2x(this.dz1x,"holder");h0x.s0x(this.dz1x,"focus",this.gQ2x.f0x(this));h0x.s0x(this.dz1x,"keypress",this.GO9F.f0x(this));h0x.s0x(this.dz1x,"input",this.Sd4h.f0x(this));this.ed1x=a9j.C0x(this.o0x,"u-err")[0];this.cw0x=a9j.C0x(this.o0x,"js-primary")[0];this.zZ8R=a9j.C0x(this.o0x,"js-btmbar")[0];this.pb4f=a9j.C0x(this.o0x,"pwd-validation")[0];this.Eg9X=a9j.C0x(this.pb4f,"j-err")[0];this.Ee9V=a9j.C0x(this.pb4f,"j-err")[1];this.Ed9U=a9j.C0x(this.pb4f,"j-err")[2];h0x.s0x(this.o0x,"click",this.bN0x.f0x(this))};b0x.bo0x=function(e0x){e0x.countrycode=e0x.countrycode||"86";this.bp0x(e0x);this.dw1x=e0x;this.bU0x(false);this.cO1x(false);if(e0x.tip){this.cD1x.innerHTML=e0x.tip;a9j.x0x(this.cD1x,"f-hide")}else{a9j.w0x(this.cD1x,"f-hide")}if(e0x.mobile){this.qY5d.innerHTML=l0x.Ga9R(e0x.mobile)||"";this.mN4R.innerHTML=e0x.countrycode;a9j.w0x(this.RN4R,"f-hide");a9j.x0x(this.RH4L,"f-hide")}else{a9j.w0x(this.RH4L,"f-hide");a9j.x0x(this.RN4R,"f-hide")}this.dz1x.value="";a9j.w0x(this.pb4f,"f-hide");e0x.okbutton=e0x.okbutton||"下一步";this.cw0x.innerHTML="<i>"+e0x.okbutton+"</i>";if(e0x.canskip){a9j.x0x(this.zZ8R,"f-hide")}else{a9j.w0x(this.zZ8R,"f-hide")}};b0x.bN0x=function(d0x){var H0x=h0x.ba0x(d0x,"d:action");if(!H0x)return;var U0x=a9j.v0x(H0x,"action");switch(U0x){case"ok":this.oM4Q(d0x);break;case"skip":this.NN3x(d0x);break}};b0x.gQ2x=function(){a9j.x0x(this.pb4f,"f-hide");var eX1x=this.dz1x.value;this.yA7t(eX1x)};b0x.GO9F=function(d0x){if(d0x.keyCode==13)this.oM4Q()};b0x.Sd4h=function(){var eX1x=this.dz1x.value;this.yA7t(eX1x)};b0x.yA7t=function(pwd){var spaceReg=/(^\s+)|(\s+$)|\s+/g;var complexReg=/^(?![\d]+$)(?![a-zA-Z]+$)(?![^\da-zA-Z]+$).{0,100}$/;var spaceValidate=true;var complexValidate=true;var lengthValidate=true;if(spaceReg.test(pwd)){a9j.w0x(this.Eg9X,"u-err");spaceValidate=false}else{a9j.x0x(this.Eg9X,"u-err");spaceValidate=true}if(pwd&&pwd.length>0){this.bU0x(false)}if(!pwd||!complexReg.test(pwd)){a9j.w0x(this.Ee9V,"u-err");complexValidate=false}else{a9j.x0x(this.Ee9V,"u-err");complexValidate=true}if(!pwd||pwd&&(pwd.length<8||pwd.length>20)){a9j.w0x(this.Ed9U,"u-err");lengthValidate=false}else{a9j.x0x(this.Ed9U,"u-err");lengthValidate=true}var pwdValidate=spaceValidate&&complexValidate&&lengthValidate;if(!pwdValidate){this.Hs2x=false;a9j.w0x(this.dz1x,"u-txt-err");a9j.w0x(this.cw0x,"u-btn2-dis")}else{this.Hs2x=true;a9j.x0x(this.dz1x,"u-txt-err");a9j.x0x(this.cw0x,"u-btn2-dis")}return pwdValidate};b0x.NN3x=function(d0x){h0x.cn0x(d0x);this.br0x();this.z0x("onskip")};b0x.oM4Q=function(d0x){h0x.cn0x(d0x);if(this.cO1x())return;var eX1x=this.dz1x.value;if(!this.yA7t(eX1x))return;this.cO1x(true);u0x.be0x("/api/w/user/bindingcellphone/v1",{type:"json",method:"post",query:{phone:this.dw1x.mobile,captcha:this.dw1x.captcha,password:j0x.kR3x(eX1x),loginprotect:false},onload:function(i0x){if(i0x.code===200){this.z0x("onok")}else{this.z0x("onerror",i0x)}}.f0x(this),onerror:function(){this.z0x("onerror",{code:500})}})};b0x.blx7q=function(){var eX1x=this.dz1x.value;if(!eX1x)return this.bU0x("请输入密码","password");if(eX1x.length<6||eX1x.length>16)return this.bU0x("请输入6-16位的密码","password");if(/[^\x00-\xff]/.test(eX1x))return this.bU0x("密码不支持中文字符","password");return eX1x};b0x.bU0x=function(bB0x,iM3x){this.dY1x(this.ed1x,bB0x);a9j.x0x(this.dz1x,"u-txt-err");if(iM3x=="password"){a9j.w0x(this.dz1x,"u-txt-err")}};b0x.cO1x=function(de1x){return this.eb1x(this.cw0x,de1x,this.dw1x.okbutton,"设置中...")}})();
(function(){var c0x=NEJ.P,bd0x=NEJ.O,a9j=c0x("nej.e"),h0x=c0x("nej.v"),j0x=c0x("nej.u"),cj0x=c0x("nej.ut"),l0x=c0x("nm.x"),p0x=c0x("nm.d"),n0x=c0x("nm.l"),b0x,L0x;n0x.zq7j=NEJ.C();b0x=n0x.zq7j.M0x(cj0x.cP1x);b0x.bo0x=function(e0x){this.bp0x(e0x);this.dw1x=e0x;this.sE6y=e0x.user;this.S0x=p0x.mS4W.B0x();this.S0x.s0x("onmobilebind",this.bnP7I.f0x(this));this.S0x.s0x("onmobilebinderror",this.bfW8O.f0x(this));this.S0x.s0x("onactive",this.Yj6d.f0x(this));this.S0x.s0x("onactiveerror",this.bqQ8I.f0x(this));if(e0x.requiremobile&&!this.can3x(this.sE6y)){this.dR1x=n0x.pk4o.I0x({title:"绑定手机号",onok:this.boc7V.f0x(this),canskip:true,onskip:this.bqS8K.f0x(this)})}else{this.bqS8K()}l0x.ke3x()};b0x.bC0x=function(){this.bH0x();this.S0x.V0x();if(this.dR1x)this.dR1x.V0x();if(this.nD4H)this.nD4H.V0x()};b0x.boc7V=function(bk0x){this.gp2x=bk0x.mobile;this.bbW7P=bk0x.captcha;this.KM3x()};b0x.KM3x=function(){if(this.dR1x)this.dR1x.br0x();if(this.ky3x)this.ky3x.V0x();this.ky3x=n0x.bqM8E.I0x({title:"绑定手机号",mobile:this.gp2x,captcha:this.bbW7P,canskip:false,onok:this.bqS8K.f0x(this),onerror:this.bfW8O.f0x(this)})};b0x.bqS8K=function(){if(this.ky3x)this.ky3x.V0x();if(window["GDegradeConfig"]&&window["GDegradeConfig"].degradeLogin){this.bbV7O={data:{nickname:"",dragPwd:""}};this.iY3x()}else{if(this.nD4H)this.nD4H.V0x();this.nD4H=n0x.IH2x.I0x({title:"设置昵称",onok:this.cak3x.f0x(this)})}};b0x.bnP7I=function(){this.dR1x.br0x();this.KM3x()};b0x.bfW8O=function(bk0x){if(bk0x.code==506){this.dR1x.I0x();this.ky3x.br0x();this.dR1x.cO1x(false);this.dR1x.bU0x(bk0x.message,"mobile")}else{n0x.bb0x.I0x({tip:bk0x.message||"绑定失败，请稍后重试",type:2})}};b0x.cak3x=function(bk0x){this.bbV7O={data:{nickname:bk0x.nickname,dragPwd:bk0x.dragPwd}};l0x.xy7r(this.iY3x.f0x(this))};b0x.iY3x=function(co0x){var randomStr=Math.random().toString(36).substr(2);this.bbV7O.data.checkToken=co0x||randomStr;if(window["GDegradeConfig"]&&window["GDegradeConfig"].degradeLogin){this.bbV7O.data.checkToken=""}this.S0x.bkv7o(this.bbV7O)};b0x.Yj6d=function(bk0x){if(this.nD4H){this.nD4H.br0x()}this.sE6y.profile=bk0x.profile;h0x.z0x(window,"login",{user:this.sE6y})};b0x.bqQ8I=function(bk0x){this.nD4H.cO1x(false);if(bk0x.code==505)return this.nD4H.bU0x("该昵称已被占用","nickname",true);if(bk0x.code==407)return this.nD4H.bU0x("该昵称包含关键词","nickname",true);if(bk0x.code==250)return this.nD4H.bU0x(bk0x.message||"登录异常","nickname",true);n0x.bb0x.I0x({tip:bk0x.message||"登录失败，请重试",type:2});this.nD4H.br0x()};b0x.can3x=function(dg1x){var vb6V=dg1x.bindings||[];return j0x.dx1x(vb6V,function(q0x){return q0x.type==1})>=0}})();
(function(){var c0x=NEJ.P,bd0x=NEJ.O,a9j=c0x("nej.e"),h0x=c0x("nej.v"),j0x=c0x("nej.u"),l0x=c0x("nm.x"),p0x=c0x("nm.d"),n0x=c0x("nm.l"),y0x=c0x("nm.w"),b0x,L0x;n0x.Yx6r=NEJ.C();b0x=n0x.Yx6r.M0x(n0x.ef1x);L0x=n0x.Yx6r.ct0x;b0x.ce0x=function(){this.cd0x="ntp-reg-mobile"};b0x.bW0x=function(){this.cg0x();this.qY5d=a9j.C0x(this.o0x,"j-mob")[0];this.dz1x=a9j.C0x(this.o0x,"j-pwd")[0];this.pb4f=a9j.C0x(this.o0x,"pwd-validation")[0];this.nQ4U=a9j.C0x(this.o0x,"j-nextstep")[0];this.Eg9X=a9j.C0x(this.pb4f,"j-err")[0];this.Ee9V=a9j.C0x(this.pb4f,"j-err")[1];this.Ed9U=a9j.C0x(this.pb4f,"j-err")[2];this.ed1x=a9j.C0x(this.o0x,"j-err")[0];this.cw0x=a9j.C0x(this.o0x,"j-btn")[0];a9j.hi2x(this.dz1x,"holder");h0x.s0x(this.dz1x,"focus",this.BJ8B.f0x(this));h0x.s0x(this.dz1x,"keypress",this.BD8v.f0x(this));h0x.s0x(this.dz1x,"input",this.Sd4h.f0x(this));h0x.s0x(this.o0x,"click",this.bN0x.f0x(this));this.Hs2x=true};b0x.bo0x=function(e0x){this.bp0x(e0x);this.jN3x=y0x.bgj6d.B0x({parent:this.qY5d,phone:e0x.mobile,countrycode:e0x.countrycode,onpressenter:this.brh8Z.f0x(this)});this.bU0x(false);this.cO1x(false);a9j.w0x(this.pb4f,"f-hide");this.dz1x.value=""};b0x.bC0x=function(){this.bH0x();this.jN3x.V0x()};b0x.BJ8B=function(){a9j.x0x(this.pb4f,"f-hide");var eX1x=this.dz1x.value;this.yA7t(eX1x)};b0x.Sd4h=function(){var eX1x=this.dz1x.value;this.yA7t(eX1x)};b0x.BD8v=function(d0x){if(d0x.keyCode==13)this.brh8Z()};b0x.yA7t=function(pwd){var spaceReg=/(^\s+)|(\s+$)|\s+/g;var complexReg=/^(?![\d]+$)(?![a-zA-Z]+$)(?![^\da-zA-Z]+$).{0,100}$/;var spaceValidate=true;var complexValidate=true;var lengthValidate=true;if(spaceReg.test(pwd)){a9j.w0x(this.Eg9X,"u-err");spaceValidate=false}else{a9j.x0x(this.Eg9X,"u-err");spaceValidate=true}if(pwd&&pwd.length>0){this.bU0x(false)}if(!pwd||!complexReg.test(pwd)){a9j.w0x(this.Ee9V,"u-err");complexValidate=false}else{a9j.x0x(this.Ee9V,"u-err");complexValidate=true}if(!pwd||pwd&&(pwd.length<8||pwd.length>20)){a9j.w0x(this.Ed9U,"u-err");lengthValidate=false}else{a9j.x0x(this.Ed9U,"u-err");lengthValidate=true}var pwdValidate=spaceValidate&&complexValidate&&lengthValidate;if(!pwdValidate){this.Hs2x=false;a9j.w0x(this.dz1x,"u-txt-err");a9j.w0x(this.nQ4U,"u-btn2-dis")}else{this.Hs2x=true;a9j.x0x(this.dz1x,"u-txt-err");a9j.x0x(this.nQ4U,"u-btn2-dis")}};b0x.bN0x=function(d0x){var H0x=h0x.ba0x(d0x,"d:action");if(!H0x)return;var U0x=a9j.v0x(H0x,"action");switch(U0x){case"ok":this.brh8Z(d0x);break;case"back":this.bgc8U(d0x);break}};b0x.bgc8U=function(d0x){h0x.cn0x(d0x);this.br0x();n0x.sr6l.I0x({title:"登录"})};b0x.brh8Z=function(d0x){h0x.cn0x(d0x);if(!this.Hs2x)return;var fL2x=this.tc6W();if(!fL2x)return;this.cO1x(true);this.z0x("onok",{mobile:fL2x.mobile,countrycode:fL2x.countrycode,password:fL2x.password})};b0x.tc6W=function(){var ff1x=this.jN3x.HO2x(),kD3x=this.jN3x.NH3x(),eX1x=this.dz1x.value;if(!ff1x)return this.bU0x("请输入手机号","mobile");if(!eX1x)return this.bU0x("请输入登录密码","password");if(!l0x.yk7d(ff1x,kD3x))return this.bU0x("请输入正确的手机号","mobile");if(eX1x.length<6||eX1x.length>16)return this.bU0x("请输入6-16位的密码","password");return{mobile:ff1x,password:eX1x,countrycode:kD3x}};b0x.bU0x=function(bB0x,iM3x){this.dY1x(this.ed1x,bB0x);this.jN3x.bgh6b();a9j.x0x(this.dz1x,"u-txt-err");if(iM3x=="mobile"){this.jN3x.bmq7j()}else if(iM3x=="password"){a9j.w0x(this.dz1x,"u-txt-err")}};b0x.cO1x=function(de1x){return this.eb1x(this.cw0x,de1x,"下一步","发送中...")}})();
(function(){var c0x=NEJ.P,bd0x=NEJ.O,a9j=c0x("nej.e"),h0x=c0x("nej.v"),j0x=c0x("nej.u"),l0x=c0x("nm.x"),p0x=c0x("nm.d"),n0x=c0x("nm.l"),y0x=c0x("nm.w"),b0x,L0x;n0x.bbR7K=NEJ.C();b0x=n0x.bbR7K.M0x(n0x.ef1x);L0x=n0x.bbR7K.ct0x;b0x.ce0x=function(){this.cd0x="ntp-reg-setting"};b0x.bW0x=function(){this.cg0x();this.cD1x=a9j.C0x(this.o0x,"js-tip")[0];this.iU3x=a9j.C0x(this.o0x,"js-input")[0];a9j.hi2x(this.iU3x,"holder");h0x.s0x(this.iU3x,"focus",this.caj3x.f0x(this));h0x.s0x(this.iU3x,"keypress",this.cdZ4d.f0x(this));h0x.s0x(this.iU3x,"keyup",this.bqF8x.f0x(this));this.ed1x=a9j.C0x(this.o0x,"u-err")[0];this.cw0x=a9j.C0x(this.o0x,"js-primary")[0];h0x.s0x(this.o0x,"click",this.bN0x.f0x(this));l0x.ke3x()};b0x.bo0x=function(e0x){this.bp0x(e0x);this.gp2x=e0x.mobile||"";this.fI2x=e0x.countrycode||"86";this.uX6R=e0x.password||"";this.cag3x=e0x.captcha||"";if(e0x.tip){this.cD1x.innerHTML=e0x.tip}this.bU0x(false);this.cO1x(false);this.iU3x.value="";this.S0x=p0x.mS4W.B0x({onmobileregist:this.YO6I.f0x(this),onmobileregisterror:this.jn3x.f0x(this)})};b0x.bC0x=function(){this.bH0x();this.S0x.V0x();if(this.db1x){this.db1x.V0x();delete this.db1x}};b0x.bN0x=function(d0x){var H0x=h0x.ba0x(d0x,"d:action");if(!H0x)return;var U0x=a9j.v0x(H0x,"action");switch(U0x){case"ok":this.YR6L(d0x);break}};b0x.caj3x=function(){a9j.x0x(this.iU3x,"u-txt-err")};b0x.cdZ4d=function(d0x){if(d0x.keyCode==13)this.YR6L()};b0x.YR6L=function(d0x){h0x.cn0x(d0x);if(this.cO1x())return;var fL2x=this.tc6W();if(!fL2x)return;var i0x={phone:this.gp2x,countrycode:this.fI2x,password:j0x.kR3x(this.uX6R),nickname:fL2x.nickname,captcha:this.cag3x};this.cO1x(true);this.cae3x=i0x;l0x.xy7r(this.iY3x.f0x(this))};b0x.iY3x=function(co0x){var randomStr=Math.random().toString(36).substr(2);this.cae3x.checkToken=co0x||randomStr;this.S0x.bgw6q({data:this.cae3x})};b0x.YO6I=function(m0x){this.cO1x(false);this.br0x();localCache.mQ4U("user",m0x);h0x.z0x(window,"login",{user:m0x})};b0x.jn3x=function(bk0x){this.cO1x(false);if(bk0x.code==415){if(this.db1x){this.db1x.V0x();this.bU0x("注册过于频繁","captcha")}this.db1x=y0x.Xy6s.B0x({captchaId:bk0x.captchaId,txt:"txt-login-captcha",onaction:this.YR6L.f0x(this)});this.ed1x.insertAdjacentElement("beforeBegin",this.db1x.mt4x());return}if(bk0x.code==505)return this.bU0x("该昵称已被占用","nickname");if(bk0x.code==407)return this.bU0x("该昵称包含关键词","nickname");if(bk0x.code==250){this.bU0x(bk0x.message||"注册异常");return}if(bk0x.message){this.bU0x(bk0x.message)}else{n0x.bb0x.I0x({tip:"注册失败，请重试",type:2})}};b0x.tc6W=function(){var jv3x=this.iU3x.value.trim(),oH4L=jv3x.replace(/[^\x00-\xff]/g,"**"),iN3x="";if(!jv3x)return this.bU0x("请输入昵称","nickname");if(this.db1x){iN3x=this.db1x.gl2x();if(!iN3x)return this.bU0x("请输入验证码","captcha");var bw0x=this.db1x.IA2x();if(!bw0x.success){return this.bU0x(bw0x.message,"captcha")}}if(oH4L.length<4||oH4L.length>30)return this.bU0x("昵称应该是4-30个字，且不包含除-和_以外的特殊字符","nickname");if(!/^[\u4e00-\u9fa5A-Za-z0-9-_]*$/.test(jv3x))return this.bU0x("昵称应该是4-30个字，且不包含除-和_以外的特殊字符","nickname");return{nickname:jv3x,captcha:iN3x}};b0x.bqF8x=function(d0x){var jv3x=this.iU3x.value.trim(),oH4L=jv3x.replace(/[^\x00-\xff]/g,"**");if(this.bqK8C==jv3x)return;this.bqK8C=jv3x;if(d0x.keyCode==13)return;if(/[^\u4e00-\u9fa5\w-]/.test(jv3x))return this.bU0x("昵称应该是4-30个字，且不包含除-和_以外的特殊字符","nickname");if(jv3x&&oH4L.length>30)return this.bU0x("昵称应该是4-30个字，且不包含除-和_以外的特殊字符","nickname");this.bU0x(false)};b0x.bU0x=function(bB0x,iM3x){this.dY1x(this.ed1x,bB0x);a9j.x0x(this.iU3x,"u-txt-err");if(this.db1x)this.db1x.x0x("u-txt-err");if(iM3x=="nickname"){a9j.w0x(this.iU3x,"u-txt-err")}else if(iM3x=="captcha"){if(this.db1x)this.db1x.w0x("u-txt-err")}};b0x.cO1x=function(de1x){return this.eb1x(this.cw0x,de1x,"完成注册，开启云音乐","设置中...")}})();
(function(){var c0x=NEJ.P,bd0x=NEJ.O,a9j=c0x("nej.e"),h0x=c0x("nej.v"),j0x=c0x("nej.u"),cj0x=c0x("nej.ut"),l0x=c0x("nm.x"),p0x=c0x("nm.d"),n0x=c0x("nm.l"),b0x,L0x;var MOB_CHECK={MAIN:1,SNS:2,NETEASE:3,NULL:-1};n0x.bbL7E=NEJ.C();b0x=n0x.bbL7E.M0x(cj0x.cP1x);b0x.bo0x=function(e0x){e0x=e0x||{};this.bp0x(e0x);this.S0x=p0x.mS4W.B0x({onsendcaptcha:this.rq5v.f0x(this),onsendcaptchaerror:this.Bp8h.f0x(this),onmobilecheck:this.Pq4u.f0x(this),onmobilecheckerror:this.Pr4v.f0x(this),onmobileregist:this.YO6I.f0x(this),onmobileregisterror:this.bbK7D.f0x(this)});this.Be8W=n0x.Yx6r.I0x({title:"手机号注册",onok:this.KJ3x.f0x(this)})};b0x.bC0x=function(){this.bH0x();this.S0x.V0x();if(this.Be8W)this.Be8W.V0x();if(this.dR1x)this.dR1x.V0x()};b0x.KJ3x=function(bk0x){this.gp2x=bk0x.mobile;this.fI2x=bk0x.countrycode;this.uX6R=bk0x.password;this.S0x.yx7q({data:{ctcode:this.fI2x,cellphone:bk0x.mobile}})};b0x.rq5v=function(){this.Be8W.br0x();this.dR1x=n0x.pk4o.I0x({title:"手机号注册",mobile:this.gp2x,countrycode:this.fI2x,okbutton:"下一步",onok:this.brM8E.f0x(this),backbutton:"&lt;&nbsp;&nbsp;返回登录",onback:this.brO8G.f0x(this)})};b0x.Bp8h=function(bk0x){this.Be8W.cO1x(false);n0x.bb0x.I0x({tip:bk0x.message||"验证码发送失败",type:2})};b0x.brM8E=function(bk0x){this.gp2x=bk0x.mobile;this.fI2x=bk0x.countrycode;this.db1x=bk0x.captcha;this.S0x.bko7h({data:{cellphone:bk0x.mobile,captcha:bk0x.captcha,countrycode:bk0x.countrycode}})};b0x.Pq4u=function(bk0x){this.dR1x.br0x();switch(bk0x.exist){case MOB_CHECK.NULL:if(window["GDegradeConfig"]&&window["GDegradeConfig"].degradeLogin){this.iY3x()}else{n0x.bbR7K.I0x({title:"手机号注册",mobile:this.gp2x,countrycode:this.fI2x,password:this.uX6R,captcha:this.db1x})}break;case MOB_CHECK.MAIN:case MOB_CHECK.SNS:case MOB_CHECK.NETEASE:this.Hd9U();break}};b0x.Pr4v=function(bk0x){n0x.bb0x.I0x({tip:bk0x.message||"验证码发送失败",type:2})};b0x.YO6I=function(bk0x){localCache.mQ4U("user",bk0x);if(window["GDegradeConfig"]&&window["GDegradeConfig"].degradeLogin){h0x.z0x(window,"login",{user:bk0x})}else{if(!bk0x.profile){if(this.ln3x)this.ln3x.V0x();this.ln3x=n0x.zq7j.B0x({user:bk0x,requiremobile:false,onsuccess:this.uW6Q.f0x(this)})}else{l0x.dW1x({clazz:"m-layer-w2",title:"手机号注册",message:'该手机号已与云音乐帐号 <strong class="s-fc1">'+j0x.dN1x(bk0x.profile.nickname)+"</strong> 绑定，<br/><br/>以后你可以直接用该手机号+密码登录",btntxt:"知道了",action:h0x.z0x.f0x(h0x,window,"login",{user:bk0x}),onclose:h0x.z0x.f0x(h0x,window,"login",{user:bk0x})})}}};b0x.uW6Q=function(d0x){h0x.z0x(window,"login",{user:d0x.user})};b0x.bbK7D=function(bk0x){if(bk0x.code==415){l0x.bZK3x({captchaId:bk0x.captchaId,ondestroy:this.Hd9U.f0x(this)})}else{n0x.bb0x.I0x({tip:bk0x.message||"注册失败，请重试",type:2})}};b0x.brO8G=function(){this.dR1x.br0x();n0x.sr6l.I0x({title:"登录"})};b0x.iY3x=function(co0x){var randomStr=Math.random().toString(36).substr(2);var checkToken=co0x||randomStr;if(window["GDegradeConfig"]&&window["GDegradeConfig"].degradeLogin){this.S0x.bgw6q({data:{phone:this.gp2x,countrycode:this.fI2x,password:j0x.kR3x(this.uX6R),captcha:this.db1x,nickname:"",checkToken:""}})}else{this.S0x.bgw6q({data:{phone:this.gp2x,countrycode:this.fI2x,password:j0x.kR3x(this.uX6R),captcha:this.db1x,checkToken:checkToken}})}};b0x.Hd9U=function(){l0x.xy7r(this.iY3x.f0x(this))}})();
(function(global,factory){"use strict";if(typeof module==="object"&&typeof module.exports==="object"){module.exports=global.document?factory(global):function(w){if(!w.document){throw new Error("initNECaptchaWithFallback requires a window with a document")}return factory(w)}}else if(typeof define==="function"&&define.amd){define("initNECaptchaWithFallback",[],function(){return factory(global)})}else{global.initNECaptchaWithFallback=factory(global)}})(typeof window!=="undefined"?window:this,function(window){"use strict";var errorCallbackCount=0;var DEFAULT_VALIDATE="QjGAuvoHrcpuxlbw7cp4WnIbbjzG4rtSlpc7EDovNHQS._ujzPZpeCInSxIT4WunuDDh8dRZYF2GbBGWyHlC6q5uEi9x-TXT9j7J705vSsBXyTar7aqFYyUltKYJ7f4Y2TXm_1Mn6HFkb4M7URQ_rWtpxQ5D6hCgNJYC0HpRE7.2sttqYKLoi7yP1KHzK-PptdHHkVwb77cwS2EJW7Mj_PsOtnPBubTmTZLpnRECJR99dWTVC11xYG0sx8dJNLUxUFxEyzTfX4nSmQz_T5sXATRKHtVAz7nmV0De5unmflfAlUwMGKlCT1khBtewlgN5nHvyxeD8Z1_fPVzi9oznl-sbegj6lKfCWezmLcwft8.4yaVh6SlzXJq-FnSK.euq9OBd5jYc82ge2_hEca1fGU--SkPRzgwkzew4O4qjdS2utdPwFONnhKAIMJRPUmCV4lPHG1OeRDvyNV8sCnuFMw7leasxIhPoycl4pm5bNy70Z1laozEGJgItVNr3";var FALLBACK_LANG={"zh-CN":"前方拥堵，已自动跳过验证",en:"captcha error，Verified automatically"};var CACHE_MIN=1e3*60;var REQUEST_SCRIPT_ERROR=502;var RESOURCE_CACHE={};function loadScript(src,cb){var head=document.head||document.getElementsByTagName("head")[0];var script=document.createElement("script");cb=cb||function(){};script.type="text/javascript";script.charset="utf8";script.async=true;script.src=src;if(!("onload"in script)){script.onreadystatechange=function(){if(this.readyState!=="complete"&&this.readyState!=="loaded")return;this.onreadystatechange=null;cb(null,script)}}script.onload=function(){this.onerror=this.onload=null;cb(null,script)};script.onerror=function(){this.onerror=this.onload=null;cb(new Error("Failed to load "+this.src),script)};head.appendChild(script)}function joinUrl(protocol,host,path){protocol=protocol||"";host=host||"";path=path||"";if(protocol){protocol=protocol.replace(/:?\/{0,2}$/,"://")}if(host){var matched=host.match(/^([-0-9a-zA-Z.:]*)(\/.*)?/);host=matched[1];path=(matched[2]||"")+"/"+path}!host&&(protocol="");return protocol+host+path}function setDomText(el,value){if(value===undefined)return;var nodeType=el.nodeType;if(nodeType===1||nodeType===11||nodeType===9){if(typeof el.textContent==="string"){el.textContent=value}else{el.innerText=value}}}function queryAllByClassName(selector,node){node=node||document;if(node.querySelectorAll){return node.querySelectorAll(selector)}if(!/^\.[^.]+$/.test(selector))return[];if(node.getElementsByClassName){return node.getElementsByClassName(selector)}var children=node.getElementsByTagName("*");var current;var result=[];var className=selector.slice(1);for(var i=0,l=children.length;i<l;i++){current=children[i];if(~(" "+current.className+" ").indexOf(" "+className+" ")){result.push(current)}}return result}function assert(condition,msg){if(!condition)throw new Error("[NECaptcha] "+msg)}function isInteger(val){if(Number.isInteger){return Number.isInteger(val)}return typeof val==="number"&&isFinite(val)&&Math.floor(val)===val}function isArray(val){if(Array.isArray)return Array.isArray(val);return Object.prototype.toString.call(val)==="[object Array]"}function ObjectAssign(){if(Object.assign){return Object.assign.apply(null,arguments)}var target={};for(var index=1;index<arguments.length;index++){var source=arguments[index];if(source!=null){for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}}return target}function getTimestamp(msec){msec=!msec&&msec!==0?msec:1;return parseInt((new Date).valueOf()/msec,10)}function normalizeFallbackConfig(customConfig){var siteProtocol=window.location.protocol.replace(":","");var defaultConf={protocol:siteProtocol==="http"?"http":"https",lang:"zh-CN",errorFallbackCount:3};var config=ObjectAssign({},defaultConf,customConfig);var errorFallbackCount=config.errorFallbackCount;assert(errorFallbackCount===undefined||isInteger(errorFallbackCount)&&errorFallbackCount>=1,"errorFallbackCount must be an integer, and it's value greater than or equal one");return config}function loadResource(config,cb){if(window.initNECaptcha)return cb(null);function genUrl(server){var path="load.min.js";var urls=[];if(isArray(server)){for(var i=0,len=server.length;i<len;i++){urls.push(joinUrl(config.protocol,server[i],path))}}else{var url=joinUrl(config.protocol,server,path);urls=[url,url]}return urls}var urls=genUrl(config.staticServer||["cstaticdun.126.net","cstaticdun1.126.net","cstatic.dun.163yun.com"]);function step(i){var url=urls[i]+"?v="+getTimestamp(CACHE_MIN);loadScript(url,function(err){if(err||!window.initNECaptcha){i=i+1;if(i===urls.length){return cb(new Error("Failed to load script("+url+")."+(err?err.message:"unreliable script")))}return step(i)}return cb(null)})}step(0)}function initNECaptchaWithFallback(options,onload,onerror){var captchaIns=null;var config=normalizeFallbackConfig(options);var defaultFallback=config.defaultFallback!==false;var langPkg=FALLBACK_LANG[config.lang==="zh-CN"?config.lang:"en"];var storeKey=window.location.pathname+"_"+config.captchaId+"_NECAPTCHA_ERROR_COUNTS";try{errorCallbackCount=parseInt(localStorage.getItem(storeKey)||0,10)}catch(error){}var fallbackFn=!defaultFallback?config.onFallback||function(){}:function(validate){function setFallbackTip(instance){if(!instance)return;setFallbackTip(instance.KI3x);if(!instance.$el)return;var tipEles=queryAllByClassName(".yidun-fallback__tip",instance.$el);if(!tipEles.length)return;setTimeout(function(){for(var i=0,l=tipEles.length;i<l;i++){setDomText(tipEles[i],langPkg)}},0)}setFallbackTip(captchaIns);config.onVerify&&config.onVerify(null,{validate:validate})};var noFallback=!defaultFallback&&!config.onFallback;var proxyOnError=function(error){errorCallbackCount++;if(errorCallbackCount<config.errorFallbackCount){try{localStorage.setItem(storeKey,errorCallbackCount)}catch(err){}onerror(error)}else{fallbackFn(DEFAULT_VALIDATE);proxyRefresh();noFallback&&onerror(error)}};var proxyRefresh=function(){errorCallbackCount=0;try{localStorage.setItem(storeKey,0)}catch(err){}};var triggerInitError=function(error){if(initialTimer&&initialTimer.isError()){initialTimer.resetError();return}initialTimer&&initialTimer.resetTimer();noFallback?onerror(error):proxyOnError(error)};config.onError=function(error){if(initialTimer&&initialTimer.isError()){initialTimer.resetError()}proxyOnError(error)};config.onDidRefresh=function(){if(initialTimer&&initialTimer.isError()){initialTimer.resetError()}proxyRefresh()};var initialTimer=options.initTimeoutError?options.initTimeoutError(proxyOnError):null;var loadResolve=function(){window.initNECaptcha(config,function(instance){if(initialTimer&&initialTimer.isError())return;initialTimer&&initialTimer.resetTimer();captchaIns=instance;onload&&onload(instance)},triggerInitError)};var cacheId="load-queue";if(!RESOURCE_CACHE[cacheId]){RESOURCE_CACHE[cacheId]={rejects:[],resolves:[],status:"error"}}if(RESOURCE_CACHE[cacheId].status==="error"){RESOURCE_CACHE[cacheId].status="pending";loadResource(config,function(error){if(error){var err=new Error;err.code=REQUEST_SCRIPT_ERROR;err.message=config.staticServer+"/load.min.js error";var rejects=RESOURCE_CACHE[cacheId].rejects;for(var i=0,iLen=rejects.length;i<iLen;i++){rejects.pop()(err)}RESOURCE_CACHE[cacheId].status="error"}else{RESOURCE_CACHE[cacheId].status="done";var resolves=RESOURCE_CACHE[cacheId].resolves;for(var j=0,jLen=resolves.length;j<jLen;j++){resolves.pop()()}}})}else if(RESOURCE_CACHE[cacheId].status==="done"){loadResolve()}if(RESOURCE_CACHE[cacheId].status==="pending"){RESOURCE_CACHE[cacheId].rejects.push(function loadReject(err){triggerInitError(err)});RESOURCE_CACHE[cacheId].resolves.push(loadResolve)}}return initNECaptchaWithFallback});
(function(){var c0x=NEJ.P,bd0x=NEJ.O,a9j=c0x("nej.e"),h0x=c0x("nej.v"),j0x=c0x("nej.u"),cj0x=c0x("nej.ut"),l0x=c0x("nm.x"),p0x=c0x("nm.d"),n0x=c0x("nm.l"),b0x,L0x;var MOB_CHECK={MAIN:1,SNS:2,NETEASE:3,NULL:-1};n0x.cad3x=NEJ.C();b0x=n0x.cad3x.M0x(cj0x.cP1x);b0x.bo0x=function(e0x){e0x=e0x||{};this.bp0x(e0x);this.S0x=p0x.mS4W.B0x({onsendcaptcha:this.rq5v.f0x(this),onsendcaptchaerror:this.Bp8h.f0x(this),onmobilecheck:this.Pq4u.f0x(this),onmobilecheckerror:this.Pr4v.f0x(this),onmobileregist:this.YO6I.f0x(this),onmobileregisterror:this.bbK7D.f0x(this)});this.Be8W=n0x.Yx6r.I0x({title:"重设密码",mobile:e0x.mobile||"",countrycode:e0x.countrycode,onok:this.KJ3x.f0x(this)})};b0x.bC0x=function(){this.bH0x();this.S0x.V0x();if(this.Be8W)this.Be8W.V0x();if(this.dR1x)this.dR1x.V0x()};b0x.KJ3x=function(bk0x){this.gp2x=bk0x.mobile;this.fI2x=bk0x.countrycode;this.uX6R=bk0x.password;this.S0x.yx7q({data:{ctcode:bk0x.countrycode,cellphone:bk0x.mobile}})};b0x.rq5v=function(){this.Be8W.br0x();this.dR1x=n0x.pk4o.I0x({title:"重设密码",mobile:this.gp2x,countrycode:this.fI2x,okbutton:"下一步",onok:this.brM8E.f0x(this),backbutton:"&lt;&nbsp;&nbsp;返回登录",onback:this.brO8G.f0x(this),onerror:this.bbK7D.f0x(this)})};b0x.Bp8h=function(bk0x){this.Be8W.cO1x(false);n0x.bb0x.I0x({tip:bk0x.message||"验证码发送失败",type:2})};b0x.brM8E=function(bk0x){this.gp2x=bk0x.mobile;this.fI2x=bk0x.countrycode;this.db1x=bk0x.captcha;this.S0x.bko7h({data:{cellphone:bk0x.mobile,captcha:bk0x.captcha,countrycode:bk0x.countrycode}})};b0x.Pq4u=function(bk0x){this.dR1x.br0x();switch(bk0x.exist){case MOB_CHECK.NULL:n0x.bbR7K.I0x({title:"设置昵称",tip:"该手机号尚未注册，取一个昵称，马上开通",mobile:this.gp2x,countrycode:this.fI2x,password:this.uX6R,captcha:this.db1x});break;case MOB_CHECK.MAIN:case MOB_CHECK.SNS:case MOB_CHECK.NETEASE:l0x.xy7r(this.iY3x.f0x(this));break}};b0x.iY3x=function(co0x){var randomStr=Math.random().toString(36).substr(2);var checkToken=co0x||randomStr;this.S0x.bgw6q({data:{phone:this.gp2x,countrycode:this.fI2x,password:j0x.kR3x(this.uX6R),captcha:this.db1x,checkToken:checkToken}})};b0x.Pr4v=function(bk0x){n0x.bb0x.I0x({tip:bk0x.message||"验证码发送失败",type:2})};b0x.brO8G=function(){this.dR1x.br0x();n0x.sr6l.I0x({title:"登录"})};b0x.YO6I=function(m0x){localCache.mQ4U("user",m0x);if(!m0x.profile){if(this.ln3x)this.ln3x.V0x();this.ln3x=n0x.zq7j.B0x({user:m0x,requiremobile:false,onsuccess:this.uW6Q.f0x(this)})}else{h0x.z0x(window,"login",{user:m0x})}};b0x.uW6Q=function(d0x){h0x.z0x(window,"login",{user:d0x.user})};b0x.bbK7D=function(m0x){if(m0x.code==415){l0x.bZK3x({captchaId:m0x.captchaId,ondestroy:function(){l0x.xy7r(this.iY3x.f0x(this))}.f0x(this)})}else{n0x.bb0x.I0x({tip:"重设密码失败，请重试",type:2})}}})();
(function(){var c0x=NEJ.P,bd0x=NEJ.O,a9j=c0x("nej.e"),h0x=c0x("nej.v"),j0x=c0x("nej.u"),u0x=c0x("nej.j"),p0x=c0x("nm.d"),n0x=c0x("nm.l"),l0x=c0x("nm.x"),b0x,L0x;n0x.Pz4D=NEJ.C();b0x=n0x.Pz4D.M0x(n0x.ef1x);L0x=n0x.Pz4D.ct0x;b0x.ce0x=function(){this.cd0x="ntp-loginverify"};b0x.bW0x=function(){this.cg0x();this.tI6C=a9j.C0x(this.o0x,"js-flag")[0];this.bZY3x=a9j.C0x(this.o0x,"js-mobile")[0];this.ed1x=a9j.C0x(this.o0x,"u-err")[0];h0x.s0x(this.o0x,"click",this.bN0x.f0x(this))};b0x.bo0x=function(e0x){this.bp0x(e0x);this.gp2x=e0x.mobile||"";this.fI2x=e0x.countrycode||"86";this.brY8Q=e0x.loginType;this.dw1x=e0x;if(this.bZY3x){this.bZY3x.innerHTML="+"+this.fI2x+" "+this.gp2x}this.S0x=p0x.mS4W.B0x({onsafecaptcha:this.rq5v.f0x(this),onsafecaptchaerror:this.Bp8h.f0x(this),onloginverify:this.PA4E.f0x(this),onloginverifyerror:this.Wt5y.f0x(this),onrelogin:this.uV6P.f0x(this),onreloginerror:this.bsc8U.f0x(this)})};b0x.bN0x=function(d0x){var H0x=h0x.ba0x(d0x,"d:action");if(!H0x)return;var U0x=a9j.v0x(H0x,"action");switch(U0x){case"ok":this.caq3x();break;default:break}};b0x.caq3x=function(){if(!this.gp2x)return;this.S0x.bkR7K({})};b0x.rq5v=function(){this.br0x();this.dR1x=n0x.pk4o.I0x({title:"网易云音乐",mobile:this.gp2x,countrycode:this.fI2x,okbutton:"完成",noVerifyMobile:true,onverify:this.cas3x.f0x(this)})};b0x.Bp8h=function(bk0x){n0x.bb0x.I0x({tip:bk0x.message||"验证码发送失败",type:2})};b0x.cas3x=function(i0x){var hA2x={captcha:i0x.captcha};this.S0x.bRP2x({data:hA2x})};b0x.PA4E=function(){this.dR1x.br0x();this.z0x("onok");this.S0x.bRQ2x({data:{usertype:this.brY8Q}})};b0x.Wt5y=function(bk0x){this.z0x("onerror",bk0x);this.dR1x.bU0x(bk0x.message||"验证失败");this.dR1x.cO1x(false)};b0x.uV6P=function(bk0x){localCache.mQ4U("user",bk0x);if(!bk0x.profile){if(this.ln3x)this.ln3x.V0x();this.ln3x=n0x.zq7j.B0x({user:bk0x,requiremobile:false,onsuccess:this.uW6Q.f0x(this)})}else{h0x.z0x(window,"login",{user:bk0x})}};b0x.uW6Q=function(d0x){h0x.z0x(window,"login",{user:d0x.user})};b0x.bsc8U=function(bk0x){this.z0x("onerror",bk0x);n0x.bb0x.I0x({tip:bk0x.message||"登录失败",type:2})}})();
(function(){var c0x=NEJ.P,bd0x=NEJ.O,a9j=c0x("nej.e"),h0x=c0x("nej.v"),j0x=c0x("nej.u"),u0x=c0x("nej.j"),l0x=c0x("nm.x"),p0x=c0x("nm.d"),n0x=c0x("nm.l"),y0x=c0x("nm.w"),b0x,L0x;n0x.PE4I=NEJ.C();b0x=n0x.PE4I.M0x(n0x.ef1x);L0x=n0x.PE4I.ct0x;b0x.cy0x=function(){this.cC1x();this.KI3x=null;this.bbG7z="";this.bZV3x=false;var self=this;window.initNECaptchaWithFallback({captchaId:"73a18dc827b24b18ad0783701a75277d",element:"#pwd-captcha",mode:"popup",width:"320px",onClose:function(){},onVerify:function(err,data){if(!err){self.bbG7z=data.validate;self.hK2x();setTimeout(function(){self.KI3x&&self.KI3x.refresh()},1e3)}}},function onload(instance){self.KI3x=instance},function onerror(err){})};b0x.ce0x=function(){this.cd0x="ntp-login-mobile"};b0x.bW0x=function(){this.cg0x();this.loginType="captcha";this.bZU3x=a9j.C0x(this.o0x,"captchaloginwrapper")[0];this.bZT3x=a9j.C0x(this.o0x,"pwdloginwrapper")[0];this.qY5d=a9j.C0x(this.o0x,"j-mob")[0];this.dz1x=a9j.C0x(this.o0x,"j-pwd")[0];this.nj4n=a9j.C0x(this.o0x,"j-captcha")[0];this.bZS3x=a9j.C0x(this.o0x,"j-err")[0];this.cat3x=a9j.C0x(this.o0x,"j-err")[1];this.PK4O=a9j.C0x(this.o0x,"j-auto")[0];this.cay3x=a9j.C0x(this.o0x,"pwdlogin")[0];this.cw0x=a9j.C0x(this.o0x,"j-primary")[0];a9j.hi2x(this.dz1x,"holder");h0x.s0x(this.dz1x,"focus",this.BJ8B.f0x(this));h0x.s0x(this.dz1x,"keypress",this.BD8v.f0x(this));h0x.s0x(this.nj4n,"focus",this.bgf6Z.f0x(this));h0x.s0x(this.nj4n,"keypress",this.bgd8V.f0x(this));h0x.s0x(this.o0x,"click",this.bN0x.f0x(this))};b0x.bo0x=function(e0x){this.bp0x(e0x);this.jN3x=y0x.bgj6d.B0x({parent:this.qY5d,onpressenter:this.hK2x.f0x(this)});this.S0x=p0x.mS4W.B0x();this.S0x.s0x("onmobilelogin",this.uV6P.f0x(this));this.S0x.s0x("onmobileloginerror",this.jn3x.f0x(this));this.S0x.s0x("oncaptchalogin",this.uV6P.f0x(this));this.S0x.s0x("oncaptchaloginerror",this.caz3x.f0x(this));this.S0x.s0x("onsendcaptcha",this.caA3x.f0x(this));this.S0x.s0x("onsendcaptchaerror",this.Bp8h.f0x(this));this.S0x.s0x("onloginsecure",this.caH3x.f0x(this));this.S0x.s0x("onloginsecureerror",this.caL3x.f0x(this));this.S0x.cnO5T()};b0x.bC0x=function(){this.bH0x();this.jN3x.V0x();this.S0x.V0x();if(this.db1x){this.db1x.V0x();delete this.db1x}if(this.yb7U)this.yb7U.V0x()};b0x.I0x=function(){L0x.I0x.apply(this,arguments);this.bU0x(false);this.cO1x(false);if(arguments[0].canPwd){a9j.x0x(this.cay3x,"f-hide")}this.jN3x.XG6A();this.dz1x.value="";this.nj4n.value="";this.PK4O.checked=true;l0x.ke3x()};b0x.BJ8B=function(){a9j.x0x(this.dz1x,"u-txt-err")};b0x.BD8v=function(d0x){if(d0x.keyCode==13)this.hK2x()};b0x.bgf6Z=function(){a9j.x0x(this.nj4n,"u-txt-err")};b0x.bgd8V=function(d0x){if(d0x.keyCode==13)this.hK2x()};b0x.bN0x=function(d0x){var H0x=h0x.ba0x(d0x,"d:action");if(!H0x)return;var U0x=a9j.v0x(H0x,"action");switch(U0x){case"login":this.hK2x(d0x);break;case"forget":h0x.bh0x(d0x);this.br0x();n0x.cad3x.B0x({countrycode:this.jN3x.NH3x(),mobile:this.jN3x.HO2x()});break;case"captchalogin":this.changeLoginType("captcha");break;case"pwdlogin":this.changeLoginType("pwd");break;case"send":this.sendCaptcha();break;case"select":this.bsG8y(d0x);break;case"reg":this.caN3x(d0x);break}};b0x.hK2x=function(d0x){h0x.cn0x(d0x);if(this.cO1x())return;var fL2x=this.tc6W();if(!fL2x)return;if(!this.PQ4U())return;if(this.db1x){this.db1x.V0x();delete this.db1x}var i0x={countrycode:fL2x.countrycode,phone:fL2x.mobile,rememberLogin:this.PK4O.checked};if(this.loginType==="captcha"){i0x.captcha=fL2x.captcha}else{if(this.bZV3x){if(!this.bbG7z){this.KI3x&&this.KI3x.popUp();return}else{i0x.secureCaptcha=this.bbG7z;delete this.bbG7z}}i0x.password=j0x.kR3x(fL2x.password)}this.cO1x(true);this.bU0x(false);this.Al8d=i0x;if(window["GDegradeConfig"]&&window["GDegradeConfig"].degradeLogin){this.Al8d.checkToken="";if(this.loginType==="captcha"){this.S0x.bRL2x({data:this.Al8d})}else{this.S0x.bRJ2x({data:this.Al8d})}}else{l0x.xy7r(this.iY3x.f0x(this))}};b0x.iY3x=function(co0x){var randomStr=Math.random().toString(36).substr(2);this.Al8d.checkToken=co0x||randomStr;if(this.loginType==="captcha"){this.S0x.bRL2x({data:this.Al8d})}else{this.S0x.bRJ2x({data:this.Al8d})}};b0x.uV6P=function(m0x){this.cO1x(false);this.br0x();localCache.mQ4U("user",m0x);if(!m0x.profile){if(this.ln3x)this.ln3x.V0x();this.ln3x=n0x.zq7j.B0x({user:m0x,requiremobile:false,onsuccess:this.uW6Q.f0x(this)})}else{u0x.be0x("/api/user/grabed/status/get",{method:"GET",cookie:true,type:"json",onload:function(resp){if(resp.data&&resp.data.grabed){l0x.hk2x({title:"更换手机号",btncc:"知道了",okstyle:"f-hide",message:"您绑定的手机号已被其他账号绑定，为保护账号安全，将强制退出您在网页端的登陆状态，请在云音乐手机端尽快绑定新的手机号。",action:top.logout})}else{h0x.z0x(window,"login",{user:m0x})}},onerror:function(){console.log("[请求出错]:/api/user/grabed/status/get");top.logout()}})}};b0x.caA3x=function(m0x){n0x.bb0x.I0x({tip:"验证码已发送"})};b0x.Bp8h=function(m0x){if(m0x.message){this.bU0x(m0x.message)}};b0x.caH3x=function(m0x){if(m0x&&m0x.data){this.bZV3x=m0x.data.actionCaptchaEnable}};b0x.caL3x=function(m0x){if(m0x.message){}};b0x.uW6Q=function(d0x){h0x.z0x(window,"login",{user:d0x.user})};b0x.jn3x=function(bk0x){this.cO1x(false);if(bk0x.code==415){if(this.db1x)this.db1x.V0x();this.db1x=y0x.Xy6s.B0x({captchaId:bk0x.captchaId,txt:"txt-login-captcha",onaction:this.hK2x.f0x(this)});this.bZS3x.insertAdjacentElement("beforeBegin",this.db1x.mt4x());return}if(bk0x.code==501){this.bU0x("该手机号尚未注册","mobile");return}if(bk0x.code==10002||bk0x.code==502||bk0x.code==501){this.bU0x("手机号或密码错误");return}if(bk0x.code==250){this.bU0x(bk0x.message||"登录异常");return}if(bk0x.code==702){this.br0x();var ds1x=bk0x.ext;this.bZJ3x=n0x.Pz4D.I0x({title:"网易云音乐",mobile:ds1x.phone,countrycode:ds1x.countrycode,loginType:ds1x.loginType});return}if(bk0x.message){this.bU0x(bk0x.message)}else{n0x.bb0x.I0x({tip:"登录失败，请重试",type:2})}};b0x.caz3x=function(bk0x){this.cO1x(false);if(bk0x.message){this.bU0x(bk0x.message)}else{n0x.bb0x.I0x({tip:"登录失败，请重试",type:2})}};b0x.bsG8y=function(d0x){h0x.bh0x(d0x);n0x.sr6l.I0x({title:"登录"})};b0x.changeLoginType=function(type){this.loginType=type;this.bU0x(false);if(type==="pwd"){a9j.w0x(this.bZU3x,"f-hide");a9j.x0x(this.bZT3x,"f-hide")}else{a9j.w0x(this.bZT3x,"f-hide");a9j.x0x(this.bZU3x,"f-hide")}};b0x.sendCaptcha=function(){var fL2x=this.caW3x();if(!fL2x){return}this.bU0x(false);l0x.lR3x("click",{mspm:"61dfe34e8b67f4412a343916",page:"login_register",target:"verification_code"});this.S0x.yx7q({data:{isBindPhone:false,cellphone:fL2x.mobile,ctcode:fL2x.countrycode}})};b0x.caN3x=function(d0x){h0x.bh0x(d0x);this.br0x();if(this.yb7U)this.yb7U.V0x();this.yb7U=n0x.bbL7E.B0x()};b0x.tc6W=function(){var ff1x=this.jN3x.HO2x(),kD3x=this.jN3x.NH3x(),eX1x=this.dz1x.value,iN3x=this.nj4n.value;if(!ff1x)return this.bU0x("请输入手机号","mobile");if(this.loginType==="captcha"){if(!iN3x)return this.bU0x("请输入验证码","capt")}else{if(!eX1x)return this.bU0x("请输入登录密码","password")}if(!l0x.yk7d(ff1x,kD3x))return this.bU0x("请输入正确的手机号","mobile");return{mobile:ff1x,countrycode:kD3x,password:eX1x,captcha:iN3x}};b0x.caW3x=function(){var ff1x=this.jN3x.HO2x(),kD3x=this.jN3x.NH3x();if(!ff1x)return this.bU0x("请输入手机号","mobile");if(!l0x.yk7d(ff1x,kD3x))return this.bU0x("请输入正确的手机号","mobile");return{mobile:ff1x,countrycode:kD3x}};b0x.PQ4U=function(){if(!this.db1x)return true;var bw0x=this.db1x.IA2x();if(bw0x.success)return true;this.bU0x(bw0x.message,"captcha");return false};b0x.bU0x=function(bB0x,iM3x){if(this.loginType==="captcha"){this.dY1x(this.cat3x,bB0x)}else{this.dY1x(this.bZS3x,bB0x)}this.jN3x.bgh6b();a9j.x0x(this.dz1x,"u-txt-err");if(this.db1x)this.db1x.x0x("u-txt-err");if(iM3x=="mobile"){this.jN3x.bmq7j()}else if(iM3x=="password"){a9j.w0x(this.dz1x,"u-txt-err")}else if(iM3x=="capt"){a9j.w0x(this.nj4n,"u-txt-err")}else if(iM3x=="captcha"){if(this.db1x)this.db1x.w0x("u-txt-err")}};b0x.cO1x=function(de1x){return this.eb1x(this.cw0x,de1x,"登　录","登录中...")}})();
(function(){var c0x=NEJ.P,bd0x=NEJ.O,bs0x=NEJ.F,a9j=c0x("nej.e"),h0x=c0x("nej.v"),j0x=c0x("nej.u"),dq1x=c0x("nej.p"),P0x=c0x("nej.ut"),rj5o,caX3x;if(!!P0x.Jt2x)return;P0x.Jt2x=NEJ.C();rj5o=P0x.Jt2x.M0x(P0x.cP1x);caX3x=P0x.Jt2x.ct0x;rj5o.bo0x=function(e0x){this.bp0x(e0x);this.o0x=a9j.A0x(e0x.body);this.ex1x=a9j.A0x(e0x.input);this.le3x=e0x.selected||"js-selected";this.cu0x=0;this.bY0x([[this.ex1x,"input",this.fc1x.f0x(this)],[this.ex1x,"blur",this.bsR8J.f0x(this,"blur")],[this.o0x,"mouseover",this.GS9J.f0x(this)],[this.o0x,"click",this.cA0x.f0x(this)],[document,"keydown",this.cbc3x.f0x(this)],[document,"keypress",this.bsU8M.f0x(this)]]);if(dq1x.dB1x.release=="5.0"){this.bY0x([[this.ex1x,"keydown",this.bZB3x.f0x(this)],[this.ex1x,"keyup",this.bZB3x.f0x(this)]])}};rj5o.bC0x=function(){this.bH0x();this.bZA3x();delete this.le3x;delete this.ex1x;delete this.o0x;delete this.bZz3x;delete this.btb8T};rj5o.cbe3x=function(H0x){return H0x.flag!=null};rj5o.bZA3x=function(){var cbj3x=function(g0x){j0x.ZQ7J(g0x,"flag")};return function(){j0x.bg0x(this.bX0x,cbj3x);delete this.bX0x;delete this.cu0x}}();rj5o.btf8X=function(r0x){if(this.cu0x===r0x)return;this.cu0x=r0x;a9j.w0x(this.bX0x[this.cu0x],this.le3x)};rj5o.bZw3x=function(r0x){if(this.cu0x!==r0x)return;a9j.x0x(this.bX0x[this.cu0x],this.le3x);delete this.cu0x};rj5o.bsR8J=function(t0x){this.bth8Z=setTimeout(function(){if(!this.bX0x)return;var q0x=this.bX0x[this.cu0x]||this.bX0x[0],D0x=a9j.v0x(q0x,"value")||q0x.innerText;this.ex1x.value=D0x;this.lG3x();this.btb8T=!0;this.z0x("onselect",D0x,{type:t0x});this.btb8T=!1}.f0x(this),t0x=="blur"?200:0)};rj5o.fc1x=function(){var D0x=this.ex1x.value.trim();if(!D0x){this.lG3x()}else{if(this.btb8T)return;this.z0x("onchange",D0x)}};rj5o.GS9J=function(d0x){var H0x=h0x.ba0x(d0x,this.cbe3x);if(!!H0x){this.bZw3x(this.cu0x);this.btf8X(H0x.flag)}};rj5o.cA0x=function(){if(this.bth8Z){this.bth8Z=clearTimeout(this.bth8Z)}this.bsR8J("click")};rj5o.cbc3x=function(d0x){var fD2x=0,ca0x=d0x.keyCode;if(ca0x==38)fD2x=-1;if(ca0x==40)fD2x=1;if(!fD2x)return;h0x.bh0x(d0x);var r0x=Math.max(0,Math.min(this.cu0x+fD2x,this.bX0x.length-1));if(r0x===this.cu0x)return;this.bZw3x(this.cu0x);this.btf8X(r0x)};rj5o.bsU8M=function(d0x){var t0x="enter";if(d0x.keyCode==13)this.bsR8J(t0x)};rj5o.bZB3x=function(d0x){if(d0x.type=="keydown"){this.bZz3x=this.ex1x.value}else if(this.bZz3x!=this.ex1x.value&&!!this.bX0x){this.fc1x()}};rj5o.lG3x=function(){var cbk3x=function(g0x,r0x){g0x.flag=r0x};return function(k0x){this.bZA3x();if(!k0x||!k0x.length){this.o0x.style.visibility="hidden";return this}this.bX0x=k0x;var r0x=j0x.dx1x(this.bX0x,function(g0x){return a9j.bE0x(g0x,this.le3x)});this.btf8X(Math.max(0,r0x));j0x.bg0x(this.bX0x,cbk3x);this.o0x.style.visibility="visible";return this}}()})();
(function(){var c0x=NEJ.P,bd0x=NEJ.O,a9j=c0x("nej.e"),h0x=c0x("nej.v"),j0x=c0x("nej.u"),G0x=c0x("nej.ut"),l0x=c0x("nm.x"),p0x=c0x("nm.d"),y0x=c0x("nm.w"),n0x=c0x("nm.l"),b0x,L0x;if(n0x.KH3x)return;n0x.KH3x=NEJ.C();b0x=n0x.KH3x.M0x(n0x.ef1x);L0x=n0x.KH3x.ct0x;b0x.bo0x=function(e0x){this.bp0x(e0x);this.S0x=p0x.mS4W.B0x();this.S0x.s0x("onlogin",this.uV6P.f0x(this));this.S0x.s0x("onloginerror",this.jn3x.f0x(this))};b0x.bC0x=function(){this.bH0x();if(this.db1x){this.db1x.V0x();delete this.db1x}this.bZs3x()};b0x.ce0x=function(){this.cd0x="ntp-login-netease"};b0x.bW0x=function(){this.cg0x();var cZ1x=a9j.C0x(this.o0x,"js-input");this.iU3x=cZ1x[0];this.dz1x=cZ1x[1];a9j.hi2x(this.iU3x,"holder");a9j.hi2x(this.dz1x,"holder");h0x.s0x(this.iU3x,"focus",this.bto8g.f0x(this));h0x.s0x(this.dz1x,"focus",this.BJ8B.f0x(this));h0x.s0x(this.dz1x,"keypress",this.BD8v.f0x(this));this.wh7a=a9j.C0x(this.o0x,"js-suggest")[0];this.vY6S=G0x.Jt2x.B0x({body:this.wh7a,input:this.iU3x,onchange:this.Jy2x.f0x(this),onselect:this.Jz2x.f0x(this)});this.ed1x=a9j.C0x(this.o0x,"u-err")[0];this.PK4O=a9j.C0x(this.o0x,"u-auto")[0];this.cw0x=a9j.C0x(this.o0x,"js-primary")[0];this.cbq3x=a9j.C0x(this.o0x,"js-captcha")[0];this.KW3x=a9j.C0x(this.o0x,"js-scaptcha")[0];h0x.s0x(this.o0x,"click",this.bN0x.f0x(this))};b0x.I0x=function(){L0x.I0x.apply(this,arguments);this.bU0x(false);this.cO1x(false);this.iU3x.value="";this.dz1x.value="";this.PK4O.checked=true;this.bZn3x()};b0x.bZn3x=function(){if(this.qB5G){this.qB5G.hs2x()}l0x.ke3x()};b0x.bZs3x=function(){if(this.qB5G){this.qB5G.V0x();delete this.qB5G;this.KW3x.style.marginTop="0";this.KW3x.style.display="none"}};b0x.bto8g=function(){a9j.x0x(this.iU3x,"u-txt-err")};b0x.BJ8B=function(){a9j.x0x(this.dz1x,"u-txt-err")};b0x.BD8v=function(d0x){if(d0x.keyCode==13)this.hK2x()};b0x.bN0x=function(d0x){var H0x=h0x.ba0x(d0x,"d:action");if(!H0x)return;var U0x=a9j.v0x(H0x,"action");switch(U0x){case"login":this.hK2x(d0x);break;case"suggest":this.btA8s(d0x);break;case"select":this.bsG8y(d0x);break}};b0x.btA8s=function(d0x){var g0x=h0x.ba0x(d0x);if(g0x.href){h0x.cn0x(d0x)}};b0x.Jy2x=function(D0x){if(!D0x)return this.vY6S.lG3x([]);var lk3x=["163.com","126.com","yeah.net","vip.163.com","vip.126.com","188.com"];var ip2x=D0x.indexOf("@"),i,jz3x;if(ip2x<0){for(i=0,jz3x=[];i<lk3x.length;++i){jz3x.push(D0x+"@"+lk3x[i])}}else{var jD3x=D0x.substring(ip2x+1),bt0x=jD3x.length;for(i=0,jz3x=[];i<lk3x.length;++i){if(lk3x[i].substr(0,bt0x)==jD3x){jz3x.push(D0x.substring(0,ip2x)+"@"+lk3x[i])}}}this.wh7a.innerHTML=a9j.bZ0x("jst-login-suggest",{suggests:jz3x},{escape:j0x.dN1x});this.vY6S.lG3x(a9j.dj1x(this.wh7a))};b0x.Jz2x=function(D0x){this.iU3x.value=D0x;this.dz1x.focus()};b0x.hK2x=function(d0x){h0x.cn0x(d0x);if(this.cO1x())return;var fL2x=this.tc6W();if(!fL2x)return;if(!this.PQ4U())return;if(this.db1x){this.db1x.V0x();delete this.db1x}var i0x={username:fL2x.username,password:j0x.kR3x(fL2x.password),rememberLogin:this.PK4O.checked};var iN3x="";if(this.qB5G){iN3x=this.qB5G.KX3x();if(!iN3x.trim()){this.bU0x("拖动验证码错误");return}i0x.dragPwd=iN3x}this.cO1x(true);this.bU0x(false);this.Al8d=i0x;l0x.xy7r(this.iY3x.f0x(this))};b0x.iY3x=function(co0x){var randomStr=Math.random().toString(36).substr(2);this.Al8d.checkToken=co0x||randomStr;this.S0x.Gc9T({data:this.Al8d})};b0x.uV6P=function(m0x){this.cO1x(false);this.br0x();localCache.mQ4U("user",m0x);if(!m0x.profile){if(this.ln3x)this.ln3x.V0x();this.ln3x=n0x.zq7j.B0x({user:m0x,requiremobile:true,onsuccess:this.uW6Q.f0x(this)})}else{h0x.z0x(window,"login",{user:m0x})}};b0x.uW6Q=function(d0x){h0x.z0x(window,"login",{user:d0x.user})};b0x.jn3x=function(bk0x){this.cO1x(false);if(bk0x.code==415){if(this.db1x)this.db1x.V0x();this.db1x=y0x.Xy6s.B0x({captchaId:bk0x.captchaId,txt:"txt-login-captcha",onaction:this.hK2x.f0x(this)});this.cbq3x.appendChild(this.db1x.mt4x());return}if(bk0x.code==10002||bk0x.code==502||bk0x.code==501){this.bU0x("帐号或密码错误");return}if(bk0x.code==250){this.bU0x(bk0x.message||"登录异常");return}if(bk0x.code==702){this.br0x();var ds1x=bk0x.ext;this.bZJ3x=n0x.Pz4D.I0x({title:"网易云音乐",mobile:ds1x.phone,countrycode:ds1x.countrycode,loginType:ds1x.loginType});return}if(bk0x.message){this.bU0x(bk0x.message)}else{n0x.bb0x.I0x({tip:"登录失败，请重试",type:2})}};b0x.vg6a=function(d0x){if(d0x.success){this.bU0x(false);var lO3x=this.iU3x.value.trim(),eX1x=this.dz1x.value;if(lO3x&&eX1x){this.hK2x()}}else{this.bU0x("拖动验证码错误")}};b0x.bsG8y=function(d0x){h0x.bh0x(d0x);n0x.sr6l.I0x({title:"登录"})};b0x.tc6W=function(){var lO3x=this.iU3x.value.trim(),eX1x=this.dz1x.value;if(!lO3x){this.bU0x("请输入邮箱帐号","username");return null}if(!eX1x){this.bU0x("请输入登录密码","password");return null}this.bU0x(false);return{username:lO3x,password:eX1x}};b0x.bU0x=function(bB0x,iM3x){this.dY1x(this.ed1x,bB0x);a9j.x0x(this.iU3x,"u-txt-err");a9j.x0x(this.dz1x,"u-txt-err");if(this.db1x)this.db1x.x0x("u-txt-err");if(iM3x=="username"){a9j.w0x(this.iU3x,"u-txt-err")}else if(iM3x=="password"){a9j.w0x(this.dz1x,"u-txt-err")}else if(iM3x=="captcha"){if(this.db1x)this.db1x.w0x("u-txt-err")}};b0x.cO1x=function(de1x){return this.eb1x(this.cw0x,de1x,"登　录","登录中...")};b0x.PQ4U=function(){if(!this.db1x)return true;var bw0x=this.db1x.IA2x();if(bw0x.success)return true;this.bU0x(bw0x.message,"captcha");return false}})();
(function(){var c0x=NEJ.P,a9j=c0x("nej.e"),j0x=c0x("nej.u"),X0x=c0x("nej.ui"),h0x=c0x("nej.v"),G0x=c0x("nej.t"),n0x=c0x("nm.l"),l0x=c0x("nm.x"),b0x,L0x;n0x.bZm3x=NEJ.C();b0x=n0x.bZm3x.M0x(X0x.beU8M);var cbw3x=a9j.eA1x(['<div class="mask"></div>','<div class="box">','   <i class="icn u-icn2 {if type=="error"}u-icn2-err{elseif type=="info"}f-hide{else}u-icn2-ok{/if}"></i>','   <span class="txt">${message}</span>',"</div>"].join(""));b0x.bo0x=function(e0x){this.bp0x(e0x);this.o0x.innerHTML=e0x.html};b0x.bC0x=function(){this.z0x("ondestroy");this.bH0x()};b0x.KT3x=function(){var D0x={},kd3x=a9j.pJ5O(),oY4c={left:kd3x.scrollLeft,top:kd3x.scrollTop},dA1x={left:kd3x.clientWidth-this.o0x.offsetWidth,top:kd3x.clientHeight-this.o0x.offsetHeight};D0x.top=Math.max(0,oY4c.top+dA1x.top/2);D0x.left=Math.max(0,oY4c.left+dA1x.left/2);this.gY2x(D0x)};l0x.gi2x=function(){var cK1x,er1x;return function(e0x){if(cK1x)cK1x.V0x();setTimeout(function(){cK1x=n0x.bZm3x.B0x({destroyable:true,parent:e0x.parent||document.body,clazz:"m-toast "+(e0x.clazz||""),html:e0x.html||a9j.bZ0x(cbw3x,e0x),ondestroy:e0x.ondestroy});cK1x.I0x()},0);window.clearTimeout(er1x);er1x=window.setTimeout(function(){if(cK1x)cK1x.V0x();cK1x=null},e0x.delay||3e3)}}()})();
var QRCode;(function(){function QR8bitByte(data){this.mode=QRMode.MODE_8BIT_BYTE;this.data=data;this.parsedData=[];for(var i=0,l=this.data.length;i<l;i++){var byteArray=[];var code=this.data.charCodeAt(i);if(code>65536){byteArray[0]=240|(code&1835008)>>>18;byteArray[1]=128|(code&258048)>>>12;byteArray[2]=128|(code&4032)>>>6;byteArray[3]=128|code&63}else if(code>2048){byteArray[0]=224|(code&61440)>>>12;byteArray[1]=128|(code&4032)>>>6;byteArray[2]=128|code&63}else if(code>128){byteArray[0]=192|(code&1984)>>>6;byteArray[1]=128|code&63}else{byteArray[0]=code}this.parsedData.push(byteArray)}this.parsedData=Array.prototype.concat.apply([],this.parsedData);if(this.parsedData.length!=this.data.length){this.parsedData.unshift(191);this.parsedData.unshift(187);this.parsedData.unshift(239)}}QR8bitByte.prototype={getLength:function(buffer){return this.parsedData.length},write:function(buffer){for(var i=0,l=this.parsedData.length;i<l;i++){buffer.put(this.parsedData[i],8)}}};function QRCodeModel(typeNumber,errorCorrectLevel){this.typeNumber=typeNumber;this.errorCorrectLevel=errorCorrectLevel;this.modules=null;this.moduleCount=0;this.dataCache=null;this.dataList=[]}QRCodeModel.prototype={addData:function(data){var newData=new QR8bitByte(data);this.dataList.push(newData);this.dataCache=null},isDark:function(row,col){if(row<0||this.moduleCount<=row||col<0||this.moduleCount<=col){throw new Error(row+","+col)}return this.modules[row][col]},getModuleCount:function(){return this.moduleCount},make:function(){this.makeImpl(false,this.getBestMaskPattern())},makeImpl:function(test,maskPattern){this.moduleCount=this.typeNumber*4+17;this.modules=new Array(this.moduleCount);for(var row=0;row<this.moduleCount;row++){this.modules[row]=new Array(this.moduleCount);for(var col=0;col<this.moduleCount;col++){this.modules[row][col]=null}}this.setupPositionProbePattern(0,0);this.setupPositionProbePattern(this.moduleCount-7,0);this.setupPositionProbePattern(0,this.moduleCount-7);this.setupPositionAdjustPattern();this.setupTimingPattern();this.setupTypeInfo(test,maskPattern);if(this.typeNumber>=7){this.setupTypeNumber(test)}if(this.dataCache==null){this.dataCache=QRCodeModel.createData(this.typeNumber,this.errorCorrectLevel,this.dataList)}this.mapData(this.dataCache,maskPattern)},setupPositionProbePattern:function(row,col){for(var r=-1;r<=7;r++){if(row+r<=-1||this.moduleCount<=row+r)continue;for(var c=-1;c<=7;c++){if(col+c<=-1||this.moduleCount<=col+c)continue;if(0<=r&&r<=6&&(c==0||c==6)||0<=c&&c<=6&&(r==0||r==6)||2<=r&&r<=4&&2<=c&&c<=4){this.modules[row+r][col+c]=true}else{this.modules[row+r][col+c]=false}}}},getBestMaskPattern:function(){var minLostPoint=0;var pattern=0;for(var i=0;i<8;i++){this.makeImpl(true,i);var lostPoint=QRUtil.getLostPoint(this);if(i==0||minLostPoint>lostPoint){minLostPoint=lostPoint;pattern=i}}return pattern},createMovieClip:function(target_mc,instance_name,depth){var qr_mc=target_mc.createEmptyMovieClip(instance_name,depth);var cs=1;this.make();for(var row=0;row<this.modules.length;row++){var y=row*cs;for(var col=0;col<this.modules[row].length;col++){var x=col*cs;var dark=this.modules[row][col];if(dark){qr_mc.beginFill(0,100);qr_mc.moveTo(x,y);qr_mc.lineTo(x+cs,y);qr_mc.lineTo(x+cs,y+cs);qr_mc.lineTo(x,y+cs);qr_mc.endFill()}}}return qr_mc},setupTimingPattern:function(){for(var r=8;r<this.moduleCount-8;r++){if(this.modules[r][6]!=null){continue}this.modules[r][6]=r%2==0}for(var c=8;c<this.moduleCount-8;c++){if(this.modules[6][c]!=null){continue}this.modules[6][c]=c%2==0}},setupPositionAdjustPattern:function(){var pos=QRUtil.getPatternPosition(this.typeNumber);for(var i=0;i<pos.length;i++){for(var j=0;j<pos.length;j++){var row=pos[i];var col=pos[j];if(this.modules[row][col]!=null){continue}for(var r=-2;r<=2;r++){for(var c=-2;c<=2;c++){if(r==-2||r==2||c==-2||c==2||r==0&&c==0){this.modules[row+r][col+c]=true}else{this.modules[row+r][col+c]=false}}}}}},setupTypeNumber:function(test){var bits=QRUtil.getBCHTypeNumber(this.typeNumber);for(var i=0;i<18;i++){var mod=!test&&(bits>>i&1)==1;this.modules[Math.floor(i/3)][i%3+this.moduleCount-8-3]=mod}for(var i=0;i<18;i++){var mod=!test&&(bits>>i&1)==1;this.modules[i%3+this.moduleCount-8-3][Math.floor(i/3)]=mod}},setupTypeInfo:function(test,maskPattern){var data=this.errorCorrectLevel<<3|maskPattern;var bits=QRUtil.getBCHTypeInfo(data);for(var i=0;i<15;i++){var mod=!test&&(bits>>i&1)==1;if(i<6){this.modules[i][8]=mod}else if(i<8){this.modules[i+1][8]=mod}else{this.modules[this.moduleCount-15+i][8]=mod}}for(var i=0;i<15;i++){var mod=!test&&(bits>>i&1)==1;if(i<8){this.modules[8][this.moduleCount-i-1]=mod}else if(i<9){this.modules[8][15-i-1+1]=mod}else{this.modules[8][15-i-1]=mod}}this.modules[this.moduleCount-8][8]=!test},mapData:function(data,maskPattern){var inc=-1;var row=this.moduleCount-1;var bitIndex=7;var byteIndex=0;for(var col=this.moduleCount-1;col>0;col-=2){if(col==6)col--;while(true){for(var c=0;c<2;c++){if(this.modules[row][col-c]==null){var dark=false;if(byteIndex<data.length){dark=(data[byteIndex]>>>bitIndex&1)==1}var mask=QRUtil.getMask(maskPattern,row,col-c);if(mask){dark=!dark}this.modules[row][col-c]=dark;bitIndex--;if(bitIndex==-1){byteIndex++;bitIndex=7}}}row+=inc;if(row<0||this.moduleCount<=row){row-=inc;inc=-inc;break}}}}};QRCodeModel.PAD0=236;QRCodeModel.PAD1=17;QRCodeModel.createData=function(typeNumber,errorCorrectLevel,dataList){var rsBlocks=QRRSBlock.getRSBlocks(typeNumber,errorCorrectLevel);var buffer=new QRBitBuffer;for(var i=0;i<dataList.length;i++){var data=dataList[i];buffer.put(data.mode,4);buffer.put(data.getLength(),QRUtil.getLengthInBits(data.mode,typeNumber));data.write(buffer)}var totalDataCount=0;for(var i=0;i<rsBlocks.length;i++){totalDataCount+=rsBlocks[i].dataCount}if(buffer.getLengthInBits()>totalDataCount*8){throw new Error("code length overflow. ("+buffer.getLengthInBits()+">"+totalDataCount*8+")")}if(buffer.getLengthInBits()+4<=totalDataCount*8){buffer.put(0,4)}while(buffer.getLengthInBits()%8!=0){buffer.putBit(false)}while(true){if(buffer.getLengthInBits()>=totalDataCount*8){break}buffer.put(QRCodeModel.PAD0,8);if(buffer.getLengthInBits()>=totalDataCount*8){break}buffer.put(QRCodeModel.PAD1,8)}return QRCodeModel.createBytes(buffer,rsBlocks)};QRCodeModel.createBytes=function(buffer,rsBlocks){var offset=0;var maxDcCount=0;var maxEcCount=0;var dcdata=new Array(rsBlocks.length);var ecdata=new Array(rsBlocks.length);for(var r=0;r<rsBlocks.length;r++){var dcCount=rsBlocks[r].dataCount;var ecCount=rsBlocks[r].totalCount-dcCount;maxDcCount=Math.max(maxDcCount,dcCount);maxEcCount=Math.max(maxEcCount,ecCount);dcdata[r]=new Array(dcCount);for(var i=0;i<dcdata[r].length;i++){dcdata[r][i]=255&buffer.buffer[i+offset]}offset+=dcCount;var rsPoly=QRUtil.getErrorCorrectPolynomial(ecCount);var rawPoly=new QRPolynomial(dcdata[r],rsPoly.getLength()-1);var modPoly=rawPoly.mod(rsPoly);ecdata[r]=new Array(rsPoly.getLength()-1);for(var i=0;i<ecdata[r].length;i++){var modIndex=i+modPoly.getLength()-ecdata[r].length;ecdata[r][i]=modIndex>=0?modPoly.get(modIndex):0}}var totalCodeCount=0;for(var i=0;i<rsBlocks.length;i++){totalCodeCount+=rsBlocks[i].totalCount}var data=new Array(totalCodeCount);var index=0;for(var i=0;i<maxDcCount;i++){for(var r=0;r<rsBlocks.length;r++){if(i<dcdata[r].length){data[index++]=dcdata[r][i]}}}for(var i=0;i<maxEcCount;i++){for(var r=0;r<rsBlocks.length;r++){if(i<ecdata[r].length){data[index++]=ecdata[r][i]}}}return data};var QRMode={MODE_NUMBER:1<<0,MODE_ALPHA_NUM:1<<1,MODE_8BIT_BYTE:1<<2,MODE_KANJI:1<<3};var QRErrorCorrectLevel={L:1,M:0,Q:3,H:2};var QRMaskPattern={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};var QRUtil={PATTERN_POSITION_TABLE:[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],G15:1<<10|1<<8|1<<5|1<<4|1<<2|1<<1|1<<0,G18:1<<12|1<<11|1<<10|1<<9|1<<8|1<<5|1<<2|1<<0,G15_MASK:1<<14|1<<12|1<<10|1<<4|1<<1,getBCHTypeInfo:function(data){var d=data<<10;while(QRUtil.getBCHDigit(d)-QRUtil.getBCHDigit(QRUtil.G15)>=0){d^=QRUtil.G15<<QRUtil.getBCHDigit(d)-QRUtil.getBCHDigit(QRUtil.G15)}return(data<<10|d)^QRUtil.G15_MASK},getBCHTypeNumber:function(data){var d=data<<12;while(QRUtil.getBCHDigit(d)-QRUtil.getBCHDigit(QRUtil.G18)>=0){d^=QRUtil.G18<<QRUtil.getBCHDigit(d)-QRUtil.getBCHDigit(QRUtil.G18)}return data<<12|d},getBCHDigit:function(data){var digit=0;while(data!=0){digit++;data>>>=1}return digit},getPatternPosition:function(typeNumber){return QRUtil.PATTERN_POSITION_TABLE[typeNumber-1]},getMask:function(maskPattern,i,j){switch(maskPattern){case QRMaskPattern.PATTERN000:return(i+j)%2==0;case QRMaskPattern.PATTERN001:return i%2==0;case QRMaskPattern.PATTERN010:return j%3==0;case QRMaskPattern.PATTERN011:return(i+j)%3==0;case QRMaskPattern.PATTERN100:return(Math.floor(i/2)+Math.floor(j/3))%2==0;case QRMaskPattern.PATTERN101:return i*j%2+i*j%3==0;case QRMaskPattern.PATTERN110:return(i*j%2+i*j%3)%2==0;case QRMaskPattern.PATTERN111:return(i*j%3+(i+j)%2)%2==0;default:throw new Error("bad maskPattern:"+maskPattern)}},getErrorCorrectPolynomial:function(errorCorrectLength){var a=new QRPolynomial([1],0);for(var i=0;i<errorCorrectLength;i++){a=a.multiply(new QRPolynomial([1,QRMath.gexp(i)],0))}return a},getLengthInBits:function(mode,type){if(1<=type&&type<10){switch(mode){case QRMode.MODE_NUMBER:return 10;case QRMode.MODE_ALPHA_NUM:return 9;case QRMode.MODE_8BIT_BYTE:return 8;case QRMode.MODE_KANJI:return 8;default:throw new Error("mode:"+mode)}}else if(type<27){switch(mode){case QRMode.MODE_NUMBER:return 12;case QRMode.MODE_ALPHA_NUM:return 11;case QRMode.MODE_8BIT_BYTE:return 16;case QRMode.MODE_KANJI:return 10;default:throw new Error("mode:"+mode)}}else if(type<41){switch(mode){case QRMode.MODE_NUMBER:return 14;case QRMode.MODE_ALPHA_NUM:return 13;case QRMode.MODE_8BIT_BYTE:return 16;case QRMode.MODE_KANJI:return 12;default:throw new Error("mode:"+mode)}}else{throw new Error("type:"+type)}},getLostPoint:function(qrCode){var moduleCount=qrCode.getModuleCount();var lostPoint=0;for(var row=0;row<moduleCount;row++){for(var col=0;col<moduleCount;col++){var sameCount=0;var dark=qrCode.isDark(row,col);for(var r=-1;r<=1;r++){if(row+r<0||moduleCount<=row+r){continue}for(var c=-1;c<=1;c++){if(col+c<0||moduleCount<=col+c){continue}if(r==0&&c==0){continue}if(dark==qrCode.isDark(row+r,col+c)){sameCount++}}}if(sameCount>5){lostPoint+=3+sameCount-5}}}for(var row=0;row<moduleCount-1;row++){for(var col=0;col<moduleCount-1;col++){var count=0;if(qrCode.isDark(row,col))count++;if(qrCode.isDark(row+1,col))count++;if(qrCode.isDark(row,col+1))count++;if(qrCode.isDark(row+1,col+1))count++;if(count==0||count==4){lostPoint+=3}}}for(var row=0;row<moduleCount;row++){for(var col=0;col<moduleCount-6;col++){if(qrCode.isDark(row,col)&&!qrCode.isDark(row,col+1)&&qrCode.isDark(row,col+2)&&qrCode.isDark(row,col+3)&&qrCode.isDark(row,col+4)&&!qrCode.isDark(row,col+5)&&qrCode.isDark(row,col+6)){lostPoint+=40}}}for(var col=0;col<moduleCount;col++){for(var row=0;row<moduleCount-6;row++){if(qrCode.isDark(row,col)&&!qrCode.isDark(row+1,col)&&qrCode.isDark(row+2,col)&&qrCode.isDark(row+3,col)&&qrCode.isDark(row+4,col)&&!qrCode.isDark(row+5,col)&&qrCode.isDark(row+6,col)){lostPoint+=40}}}var darkCount=0;for(var col=0;col<moduleCount;col++){for(var row=0;row<moduleCount;row++){if(qrCode.isDark(row,col)){darkCount++}}}var ratio=Math.abs(100*darkCount/moduleCount/moduleCount-50)/5;lostPoint+=ratio*10;return lostPoint}};var QRMath={glog:function(n){if(n<1){throw new Error("glog("+n+")")}return QRMath.LOG_TABLE[n]},gexp:function(n){while(n<0){n+=255}while(n>=256){n-=255}return QRMath.EXP_TABLE[n]},EXP_TABLE:new Array(256),LOG_TABLE:new Array(256)};for(var i=0;i<8;i++){QRMath.EXP_TABLE[i]=1<<i}for(var i=8;i<256;i++){QRMath.EXP_TABLE[i]=QRMath.EXP_TABLE[i-4]^QRMath.EXP_TABLE[i-5]^QRMath.EXP_TABLE[i-6]^QRMath.EXP_TABLE[i-8]}for(var i=0;i<255;i++){QRMath.LOG_TABLE[QRMath.EXP_TABLE[i]]=i}function QRPolynomial(num,shift){if(num.length==undefined){throw new Error(num.length+"/"+shift)}var offset=0;while(offset<num.length&&num[offset]==0){offset++}this.num=new Array(num.length-offset+shift);for(var i=0;i<num.length-offset;i++){this.num[i]=num[i+offset]}}QRPolynomial.prototype={get:function(index){return this.num[index]},getLength:function(){return this.num.length},multiply:function(e){var num=new Array(this.getLength()+e.getLength()-1);for(var i=0;i<this.getLength();i++){for(var j=0;j<e.getLength();j++){num[i+j]^=QRMath.gexp(QRMath.glog(this.get(i))+QRMath.glog(e.get(j)))}}return new QRPolynomial(num,0)},mod:function(e){if(this.getLength()-e.getLength()<0){return this}var ratio=QRMath.glog(this.get(0))-QRMath.glog(e.get(0));var num=new Array(this.getLength());for(var i=0;i<this.getLength();i++){num[i]=this.get(i)}for(var i=0;i<e.getLength();i++){num[i]^=QRMath.gexp(QRMath.glog(e.get(i))+ratio)}return(new QRPolynomial(num,0)).mod(e)}};function QRRSBlock(totalCount,dataCount){this.totalCount=totalCount;this.dataCount=dataCount}QRRSBlock.RS_BLOCK_TABLE=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]];QRRSBlock.getRSBlocks=function(typeNumber,errorCorrectLevel){var rsBlock=QRRSBlock.getRsBlockTable(typeNumber,errorCorrectLevel);if(rsBlock==undefined){throw new Error("bad rs block @ typeNumber:"+typeNumber+"/errorCorrectLevel:"+errorCorrectLevel)}var length=rsBlock.length/3;var list=[];for(var i=0;i<length;i++){var count=rsBlock[i*3+0];var totalCount=rsBlock[i*3+1];var dataCount=rsBlock[i*3+2];for(var j=0;j<count;j++){list.push(new QRRSBlock(totalCount,dataCount))}}return list};QRRSBlock.getRsBlockTable=function(typeNumber,errorCorrectLevel){switch(errorCorrectLevel){case QRErrorCorrectLevel.L:return QRRSBlock.RS_BLOCK_TABLE[(typeNumber-1)*4+0];case QRErrorCorrectLevel.M:return QRRSBlock.RS_BLOCK_TABLE[(typeNumber-1)*4+1];case QRErrorCorrectLevel.Q:return QRRSBlock.RS_BLOCK_TABLE[(typeNumber-1)*4+2];case QRErrorCorrectLevel.H:return QRRSBlock.RS_BLOCK_TABLE[(typeNumber-1)*4+3];default:return undefined}};function QRBitBuffer(){this.buffer=[];this.length=0}QRBitBuffer.prototype={get:function(index){var bufIndex=Math.floor(index/8);return(this.buffer[bufIndex]>>>7-index%8&1)==1},put:function(num,length){for(var i=0;i<length;i++){this.putBit((num>>>length-i-1&1)==1)}},getLengthInBits:function(){return this.length},putBit:function(bit){var bufIndex=Math.floor(this.length/8);if(this.buffer.length<=bufIndex){this.buffer.push(0)}if(bit){this.buffer[bufIndex]|=128>>>this.length%8}this.length++}};var QRCodeLimitLength=[[17,14,11,7],[32,26,20,14],[53,42,32,24],[78,62,46,34],[106,84,60,44],[134,106,74,58],[154,122,86,64],[192,152,108,84],[230,180,130,98],[271,213,151,119],[321,251,177,137],[367,287,203,155],[425,331,241,177],[458,362,258,194],[520,412,292,220],[586,450,322,250],[644,504,364,280],[718,560,394,310],[792,624,442,338],[858,666,482,382],[929,711,509,403],[1003,779,565,439],[1091,857,611,461],[1171,911,661,511],[1273,997,715,535],[1367,1059,751,593],[1465,1125,805,625],[1528,1190,868,658],[1628,1264,908,698],[1732,1370,982,742],[1840,1452,1030,790],[1952,1538,1112,842],[2068,1628,1168,898],[2188,1722,1228,958],[2303,1809,1283,983],[2431,1911,1351,1051],[2563,1989,1423,1093],[2699,2099,1499,1139],[2809,2213,1579,1219],[2953,2331,1663,1273]];function cbz3x(){return typeof CanvasRenderingContext2D!="undefined"}function bZh3x(){var android=false;var sAgent=navigator.userAgent;if(/android/i.test(sAgent)){android=true;var aMat=sAgent.toString().match(/android ([0-9]\.[0-9])/i);if(aMat&&aMat[1]){android=parseFloat(aMat[1])}}return android}var svgDrawer=function(){var Drawing=function(el,htOption){this.bI0x=el;this.iC2x=htOption};Drawing.prototype.draw=function(oQRCode){var iC2x=this.iC2x;var bI0x=this.bI0x;var nCount=oQRCode.getModuleCount();var nWidth=Math.floor(iC2x.width/nCount);var nHeight=Math.floor(iC2x.height/nCount);this.clear();function makeSVG(tag,attrs){var el=document.createElementNS("http://www.w3.org/2000/svg",tag);for(var k in attrs)if(attrs.hasOwnProperty(k))el.setAttribute(k,attrs[k]);return el}var svg=makeSVG("svg",{viewBox:"0 0 "+String(nCount)+" "+String(nCount),width:"100%",height:"100%",fill:iC2x.colorLight});svg.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns:xlink","http://www.w3.org/1999/xlink");bI0x.appendChild(svg);svg.appendChild(makeSVG("rect",{fill:iC2x.colorLight,width:"100%",height:"100%"}));svg.appendChild(makeSVG("rect",{fill:iC2x.colorDark,width:"1",height:"1",id:"template"}));for(var row=0;row<nCount;row++){for(var col=0;col<nCount;col++){if(oQRCode.isDark(row,col)){var child=makeSVG("use",{x:String(col),y:String(row)});child.setAttributeNS("http://www.w3.org/1999/xlink","href","#template");svg.appendChild(child)}}}};Drawing.prototype.clear=function(){while(this.bI0x.hasChildNodes())this.bI0x.removeChild(this.bI0x.lastChild)};return Drawing}();var useSVG=document.documentElement.tagName.toLowerCase()==="svg";var Drawing=useSVG?svgDrawer:!cbz3x()?function(){var Drawing=function(el,htOption){this.bI0x=el;this.iC2x=htOption};Drawing.prototype.draw=function(oQRCode){var iC2x=this.iC2x;var bI0x=this.bI0x;var nCount=oQRCode.getModuleCount();var nWidth=Math.floor(iC2x.width/nCount);var nHeight=Math.floor(iC2x.height/nCount);var aHTML=['<table style="border:0;border-collapse:collapse;">'];for(var row=0;row<nCount;row++){aHTML.push("<tr>");for(var col=0;col<nCount;col++){aHTML.push('<td style="border:0;border-collapse:collapse;padding:0;margin:0;width:'+nWidth+"px;height:"+nHeight+"px;background-color:"+(oQRCode.isDark(row,col)?iC2x.colorDark:iC2x.colorLight)+';"></td>')}aHTML.push("</tr>")}aHTML.push("</table>");bI0x.innerHTML=aHTML.join("");var elTable=bI0x.childNodes[0];var nLeftMarginTable=(iC2x.width-elTable.offsetWidth)/2;var nTopMarginTable=(iC2x.height-elTable.offsetHeight)/2;if(nLeftMarginTable>0&&nTopMarginTable>0){elTable.style.margin=nTopMarginTable+"px "+nLeftMarginTable+"px"}};Drawing.prototype.clear=function(){this.bI0x.innerHTML=""};return Drawing}():function(){function cbA3x(){}if(this.Qp4t&&this.Qp4t<=2.1){var factor=1/window.devicePixelRatio;var drawImage=CanvasRenderingContext2D.prototype.drawImage;CanvasRenderingContext2D.prototype.drawImage=function(image,sx,sy,sw,sh,dx,dy,dw,dh){if("nodeName"in image&&/img/i.test(image.nodeName)){for(var i=arguments.length-1;i>=1;i--){arguments[i]=arguments[i]*factor}}else if(typeof dw=="undefined"){arguments[1]*=factor;arguments[2]*=factor;arguments[3]*=factor;arguments[4]*=factor}drawImage.apply(this,arguments)}}function cbF4J(fSuccess,fFail){var self=this;self.bby7r=fFail;self.bbx7q=fSuccess;if(self.Qt4x===null){var el=document.createElement("img");var fOnError=function(){self.Qt4x=false;if(self.bby7r){self.bby7r.call(self)}};var fOnSuccess=function(){self.Qt4x=true;if(self.bbx7q){self.bbx7q.call(self)}};el.onabort=fOnError;el.onerror=fOnError;el.onload=fOnSuccess;el.src="data:image/gif;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAHElEQVQI12P4//8/w38GIAXDIBKE0DHxgljNBAAO9TXL0Y4OHwAAAABJRU5ErkJggg==";return}else if(self.Qt4x===true&&self.bbx7q){self.bbx7q.call(self)}else if(self.Qt4x===false&&self.bby7r){self.bby7r.call(self)}}var Drawing=function(el,htOption){this.Qu4y=false;this.Qp4t=bZh3x();this.iC2x=htOption;this.Kz3x=document.createElement("canvas");this.Kz3x.width=htOption.width;this.Kz3x.height=htOption.height;el.appendChild(this.Kz3x);this.bI0x=el;this.Bn8f=this.Kz3x.getContext("2d");this.Qu4y=false;this.Ky3x=document.createElement("img");this.Ky3x.alt="Scan me!";this.Ky3x.style.display="none";this.bI0x.appendChild(this.Ky3x);this.Qt4x=null};Drawing.prototype.draw=function(oQRCode){var Ky3x=this.Ky3x;var Bn8f=this.Bn8f;var iC2x=this.iC2x;var nCount=oQRCode.getModuleCount();var nWidth=iC2x.width/nCount;var nHeight=iC2x.height/nCount;var nRoundedWidth=Math.round(nWidth);var nRoundedHeight=Math.round(nHeight);Ky3x.style.display="none";this.clear();for(var row=0;row<nCount;row++){for(var col=0;col<nCount;col++){var bIsDark=oQRCode.isDark(row,col);var nLeft=col*nWidth;var nTop=row*nHeight;Bn8f.strokeStyle=bIsDark?iC2x.colorDark:iC2x.colorLight;Bn8f.lineWidth=1;Bn8f.fillStyle=bIsDark?iC2x.colorDark:iC2x.colorLight;Bn8f.fillRect(nLeft,nTop,nWidth,nHeight);Bn8f.strokeRect(Math.floor(nLeft)+.5,Math.floor(nTop)+.5,nRoundedWidth,nRoundedHeight);Bn8f.strokeRect(Math.ceil(nLeft)-.5,Math.ceil(nTop)-.5,nRoundedWidth,nRoundedHeight)}}this.Qu4y=true};Drawing.prototype.makeImage=function(){if(this.Qu4y){cbF4J.call(this,cbA3x)}};Drawing.prototype.isPainted=function(){return this.Qu4y};Drawing.prototype.clear=function(){this.Bn8f.clearRect(0,0,this.Kz3x.width,this.Kz3x.height);this.Qu4y=false};Drawing.prototype.round=function(nNumber){if(!nNumber){return nNumber}return Math.floor(nNumber*1e3)/1e3};return Drawing}();function cbJ4N(sText,nCorrectLevel){var nType=1;var length=cbS4W(sText);for(var i=0,len=QRCodeLimitLength.length;i<=len;i++){var nLimit=0;switch(nCorrectLevel){case QRErrorCorrectLevel.L:nLimit=QRCodeLimitLength[i][0];break;case QRErrorCorrectLevel.M:nLimit=QRCodeLimitLength[i][1];break;case QRErrorCorrectLevel.Q:nLimit=QRCodeLimitLength[i][2];break;case QRErrorCorrectLevel.H:nLimit=QRCodeLimitLength[i][3];break}if(length<=nLimit){break}else{nType++}}if(nType>QRCodeLimitLength.length){throw new Error("Too long data")}return nType}function cbS4W(sText){var replacedText=encodeURI(sText).toString().replace(/\%[0-9a-fA-F]{2}/g,"a");return replacedText.length+(replacedText.length!=sText?3:0)}QRCode=function(el,vOption){this.iC2x={width:256,height:256,typeNumber:4,colorDark:"#000000",colorLight:"#ffffff",correctLevel:QRErrorCorrectLevel.H};if(typeof vOption==="string"){vOption={text:vOption}}if(vOption){for(var i in vOption){this.iC2x[i]=vOption[i]}}if(typeof el=="string"){el=document.getElementById(el)}if(this.iC2x.useSVG){Drawing=svgDrawer}this.Qp4t=bZh3x();this.bI0x=el;this.bbu7n=null;this.bbt7m=new Drawing(this.bI0x,this.iC2x);if(this.iC2x.text){this.makeCode(this.iC2x.text)}};QRCode.prototype.makeCode=function(sText){this.bbu7n=new QRCodeModel(cbJ4N(sText,this.iC2x.correctLevel),this.iC2x.correctLevel);this.bbu7n.addData(sText);this.bbu7n.make();this.bI0x.title=sText;this.bbt7m.draw(this.bbu7n);this.makeImage()};QRCode.prototype.makeImage=function(){if(typeof this.bbt7m.makeImage=="function"&&(!this.Qp4t||this.Qp4t>=3)){this.bbt7m.makeImage()}};QRCode.prototype.clear=function(){this.bbt7m.clear()};QRCode.CorrectLevel=QRErrorCorrectLevel})();window.QRCode=QRCode;
(function(){var c0x=NEJ.P,bd0x=NEJ.O,a9j=c0x("nej.e"),h0x=c0x("nej.v"),j0x=c0x("nej.u"),u0x=c0x("nej.j"),l0x=c0x("nm.x"),p0x=c0x("nm.d"),n0x=c0x("nm.l"),b0x,L0x;n0x.sr6l=NEJ.C();b0x=n0x.sr6l.M0x(n0x.ef1x);b0x.cy0x=function(){this.cC1x();this.Ku3x=this.Ku3x.f0x(this)};b0x.ce0x=function(){var data={allow:false};if(window["GDegradeConfig"]&&window["GDegradeConfig"].degradeLogin){data.degrade=true}this.cd0x=a9j.jH3x(a9j.bZ0x("ntp-login-nav",data))};b0x.bo0x=function(e0x){e0x.onclose=function(){this.bC0x()}.f0x(this);this.bp0x(e0x);if(!window["GDegradeConfig"]||!window["GDegradeConfig"].degradeLogin){this.cbY4c();this.bYU3x()}};b0x.bC0x=function(){l0x.OY4c(null,null,"check_qrcode_login");this.bH0x()};b0x.bW0x=function(){this.cg0x();this.canPwd=false;this.bYO3x=a9j.dj1x(this.o0x);this.QE4I=this.bYO3x[1];this.QF4J=this.bYO3x[0];if(this.QE4I){var gO2x=a9j.C0x(this.QE4I,"j-flag");this.bbr7k=gO2x.shift();this.cD1x=gO2x.shift();this.ccd4h=gO2x.shift();this.eY1x=gO2x.shift();this.Bl8d=gO2x.shift();this.bYM3x=gO2x.shift();this.cct4x=a9j.C0x(this.QE4I,"other")[0]}h0x.s0x(this.o0x,"click",this.bN0x.f0x(this));l0x.ke3x()};b0x.bYU3x=function(){u0x.be0x("/api/w/user/login/type/switch",{method:"get",type:"json",onload:function(d0x){if(d0x.code===200&&d0x.data.allow){a9j.x0x(this.cct4x,"f-hide");if(d0x.data.allowTypes&&d0x.data.allowTypes.indexOf(1)>=0){this.canPwd=true}}else{if(this.QF4J){a9j.cS1x(this.QF4J,false)}}}.f0x(this),onerror:function(){a9j.cS1x(this.QF4J,false)}})};b0x.bN0x=function(d0x){var H0x=h0x.ba0x(d0x,"d:action");if(!H0x)return;var U0x=a9j.v0x(H0x,"action"),t0x=a9j.v0x(H0x,"type");var buo8g=a9j.A0x("j-official-terms")||{};var JP2x=!!buo8g.checked;if(U0x==="login"||U0x==="reg"||U0x==="scan"){if(!JP2x){h0x.bh0x(d0x);l0x.gi2x({message:"请先勾选同意《服务条款》、《隐私政策》、《儿童隐私政策》",clazz:"z-login-page",delay:1500,type:"info"});return}}switch(U0x){case"login":if(t0x=="mobile"){h0x.bh0x(d0x);n0x.PE4I.I0x({title:"手机号登录",termsChecked:JP2x,canPwd:Boolean(this.canPwd)})}else if(t0x=="netease"){n0x.KH3x.I0x({title:"邮箱登录",termsChecked:JP2x})}else{h0x.cn0x(d0x);this.ES9J=H0x.href;l0x.xy7r(this.iY3x.f0x(this));this.QL4P=top.open()}this.br0x();break;case"reg":h0x.bh0x(d0x);if(this.yb7U)this.yb7U.V0x();this.yb7U=n0x.bbL7E.B0x();this.br0x();break;case"scan":h0x.bh0x(d0x);this.QK4O();this.bbp7i();this.Kr3x(0,0);a9j.w0x(this.QF4J,"f-hide");a9j.x0x(this.QE4I,"f-hide");break;case"switch":h0x.bh0x(d0x);this.uO6I=null;a9j.w0x(this.QE4I,"f-hide");a9j.x0x(this.QF4J,"f-hide");l0x.OY4c(null,null,"check_qrcode_login");break}};b0x.iY3x=function(co0x){this.ES9J+="&checkToken="+co0x||"";this.QL4P.location.href=this.ES9J};b0x.cbY4c=function(){this.bYH3x=-1;this.bYC3x=-1;this.uO6I=null;this.QK4O();this.bbp7i();this.Kr3x(0,0);this.bY0x([[this.o0x,"click",this.cL1x.f0x(this)]])};b0x.cL1x=function(d0x){var H0x=h0x.ba0x(d0x,"d:action");if(H0x){switch(a9j.v0x(H0x,"action")){case"refresh":this.uO6I=null;this.QK4O();this.bbp7i();this.Kr3x(0,0);default:break}}};b0x.Kr3x=function(r0x,buy8q){if(this.bYH3x===r0x&&this.bYC3x===buy8q){return}if(r0x==0){document.body.className="n-login n-login-scan n-login-scan-0";a9j.x0x(this.bbr7k,"f-hide");a9j.x0x(this.eY1x,"f-hide");a9j.w0x(this.Bl8d,"f-hide");a9j.w0x(this.bYM3x,"f-hide");if(buy8q){a9j.x0x(this.cD1x,"f-hide")}else{a9j.w0x(this.cD1x,"f-hide")}}else{document.body.className="n-login n-login-scan n-login-scan-1";a9j.w0x(this.bbr7k,"f-hide");a9j.w0x(this.eY1x,"f-hide");a9j.x0x(this.Bl8d,"f-hide");a9j.x0x(this.bYM3x,"f-hide")}this.bYH3x=r0x;this.bYC3x=buy8q};b0x.ccP4T=function(){this.Kr3x(0,1)};b0x.Ku3x=function(){u0x.be0x("/api/login/qrcode/client/login",{type:"json",method:"post",data:j0x.cr0x({key:this.uO6I,type:1}),onload:this.ccW4a.f0x(this),onerror:function(){n0x.bb0x.I0x({type:2,tip:"扫码登录失败，请稍后再试"})}})};b0x.ccW4a=function(m0x){if(!m0x){return}switch(m0x.code){case 803:u0x.be0x("/api/w/nuser/account/get",{query:"",type:"json",onload:function(m0x){this.br0x();localCache.mQ4U("user",m0x);l0x.OY4c(null,null,"check_qrcode_login");if(!m0x.profile){if(this.ln3x)this.ln3x.V0x();this.ln3x=n0x.zq7j.B0x({user:m0x,requiremobile:false,onsuccess:this.uW6Q.f0x(this)})}else{u0x.be0x("/api/user/grabed/status/get",{method:"GET",cookie:true,type:"json",onload:function(resp){if(resp.data&&resp.data.grabed){l0x.hk2x({title:"更换手机号",btncc:"知道了",okstyle:"f-hide",message:"您绑定的手机号已被其他账号绑定，为保护账号安全，将强制退出您在网页端的登陆状态，请在云音乐手机端尽快绑定新的手机号。",action:top.logout})}else{h0x.z0x(window,"login",{user:m0x})}},onerror:function(){console.log("[请求出错]:/api/user/grabed/status/get");top.logout()}})}}.f0x(this),onerror:function(){this.uO6I=null;this.QK4O();this.bbp7i();this.Kr3x(0,0)}});break;case 802:this.Kr3x(1,0);break;case 801:break;case 800:l0x.OY4c(null,null,"check_qrcode_login");this.ccP4T();break;default:break}};b0x.bbp7i=function(){u0x.be0x("/api/login/qrcode/unikey",{type:"json",method:"post",data:j0x.cr0x({type:1}),onload:this.ccX4b.f0x(this),onerror:function(){n0x.bb0x.I0x({type:2,tip:"操作失败，请稍后再试"})}})};b0x.ccX4b=function(m0x){if(m0x&&m0x.code==200){this.uO6I=m0x.unikey;this.QK4O();l0x.OY4c(this.Ku3x,1e3,"check_qrcode_login")}else{}};b0x.QK4O=function(){if(this.bbn7g){this.bbn7g.clear()}if(!this.uO6I){return}var Y0x="http://music.163.com/login?codekey="+this.uO6I;if(this.bbn7g){this.bbn7g.makeCode(Y0x)}else{this.bbn7g=new QRCode(this.ccd4h,{text:Y0x,width:130,height:130,correctLevel:QRCode.CorrectLevel.M})}};n0x.sr6l.I0x=n0x.sr6l.I0x.eP1x(function(d0x){n0x.PE4I.br0x();n0x.KH3x.br0x()})})();
(function(){var c0x=NEJ.P,bd0x=NEJ.O,a9j=c0x("nej.e"),h0x=c0x("nej.v"),j0x=c0x("nej.u"),cj0x=c0x("nej.ut"),l0x=c0x("nm.x"),p0x=c0x("nm.d"),n0x=c0x("nm.l"),b0x,L0x;n0x.bYy3x=NEJ.C();b0x=n0x.bYy3x.M0x(cj0x.cP1x);var MOB_CHECK={MAIN:1,SNS:2,NETEASE:3,NULL:-1};var ACCOUNT_TYPE={MOBILE:1,TWEIBO:6};var LOGIN_ACCOUNT=[{type:1,title:"手机",key:"cellphone"},{type:0,title:"网易邮箱帐号",key:"email"},{type:2,title:"新浪微博",key:"name"},{type:10,title:"微信",key:"nickname"},{type:5,title:"QQ",key:"nickname"}];b0x.bo0x=function(e0x){this.bp0x(e0x);this.dw1x=e0x;this.sE6y=e0x.user;this.S0x=p0x.mS4W.B0x();this.S0x.s0x("onmobilecheck",this.Pq4u.f0x(this));this.S0x.s0x("onmobilecheckerror",this.Pr4v.f0x(this));this.S0x.s0x("onmobilebind",this.Kp3x.f0x(this));this.S0x.s0x("onmobilebinderror",this.Ko3x.f0x(this));this.S0x.s0x("onmobileupdatepwd",this.Kp3x.f0x(this));this.S0x.s0x("onmobileupdatepwderror",this.Ko3x.f0x(this));this.S0x.s0x("onactive",this.Yj6d.f0x(this));this.S0x.s0x("onactiveerror",this.bqQ8I.f0x(this));var bbl7e=this.cdd4h(this.sE6y);this.bYw3x=bbl7e;this.bYv3x=this.cdj4n(this.sE6y);if(e0x.user.account.type==ACCOUNT_TYPE.MOBILE||e0x.user.account.type==ACCOUNT_TYPE.TWEIBO){if(!bbl7e){this.cdl4p()}else{if(bbl7e.hasPassword){this.bYn3x()}else{this.bYm3x({tip:'云音乐将不再支持 <strong class="s-fc1">腾讯微博</strong> 登录方式，<br/>设置登录密码，以后可以使用手机号登录',mobile:bbl7e.uid})}}}else{this.bYn3x()}};b0x.bC0x=function(){this.bH0x();this.S0x.V0x();if(this.dR1x)this.dR1x.V0x();if(this.nD4H)this.nD4H.V0x();if(this.ky3x)this.ky3x.V0x()};b0x.bYn3x=function(){var bD0x={0:"邮箱帐号",1:"手机号",2:"新浪微博",5:"QQ",10:"微信"},dg1x=this.sE6y,bbj7c=this.bYv3x.type==ACCOUNT_TYPE.TWEIBO?this.bYw3x:this.bYv3x;if(!dg1x.profile){if(this.ln3x)this.ln3x.V0x();this.ln3x=n0x.zq7j.B0x({user:dg1x,requiremobile:false,onsuccess:this.uW6Q.f0x(this)})}else{l0x.hk2x({title:"提示",message:"云音乐即将不支持腾讯微博登录<br/>建议你后续使用以下绑定的"+(bD0x[bbj7c.type]||"帐号")+"登录<br/><strong>"+(bbj7c.type==ACCOUNT_TYPE.MOBILE?l0x.Ga9R(bbj7c.uid):j0x.dN1x(bbj7c.uid))+"</strong>",btnok:"查看详情",btncc:"知道了",okstyle:"u-btn2-w1",ccstyle:"u-btn2-w1",action:function(t0x){if(t0x=="ok"){location.hash="/user/binding/#/list"}else{h0x.z0x(window,"login",{user:dg1x})}},onclose:h0x.z0x.f0x(h0x,window,"login",{user:dg1x})})}};b0x.uW6Q=function(d0x){h0x.z0x(window,"login",{user:d0x.user})};b0x.cdl4p=function(){this.dR1x=n0x.pk4o.I0x({title:"绑定手机号",tip:'云音乐将不再支持 <strong class="s-fc1">腾讯微博</strong> 登录方式，<br/>请绑定手机号，以免后续无法使用该帐号',onok:this.cdG4K.f0x(this)})};b0x.cdG4K=function(bk0x){this.gp2x=bk0x.mobile;this.fI2x=bk0x.countrycode;this.bbW7P=bk0x.captcha;this.S0x.bko7h({data:{cellphone:bk0x.mobile,captcha:bk0x.captcha,countrycode:bk0x.countrycode}})};b0x.Pq4u=function(bk0x){if(bk0x.nickname){this.dR1x.cO1x(false);this.dR1x.bU0x("绑定失败，该手机号已与云音乐帐号 "+j0x.dN1x(bk0x.nickname)+" 绑定","mobile")}else{this.bYm3x()}};b0x.Pr4v=function(){this.dR1x.br0x();n0x.bb0x.I0x({tip:"登录失败，请重试",type:2})};b0x.bYm3x=function(bV0x){if(this.dR1x)this.dR1x.br0x();bV0x=bV0x||{};this.ky3x=n0x.NQ3x.I0x({title:"设置密码",tip:bV0x.tip,mobile:bV0x.mobile,onok:this.cdH4L.f0x(this)})};b0x.cdH4L=function(bk0x){if(this.bYw3x){this.S0x.bgu6o({data:{phone:this.gp2x,password:j0x.kR3x(bk0x.password),captcha:this.bbW7P}})}else{this.S0x.bRM2x({data:{phone:this.gp2x,captcha:this.bbW7P,password:j0x.kR3x(bk0x.password)}})}};b0x.Kp3x=function(bk0x){this.ky3x.br0x();if(this.sE6y.profile||this.sE6y.account.type==ACCOUNT_TYPE.MOBILE){h0x.z0x(window,"login",{user:this.sE6y})}else if(this.sE6y.account.type==ACCOUNT_TYPE.TWEIBO){this.nD4H=n0x.IH2x.I0x({title:"设置昵称",onok:this.cdM4Q.f0x(this)})}};b0x.Ko3x=function(bk0x){this.ky3x.br0x();n0x.bb0x.I0x({tip:bk0x.message||"登录失败，请重试",type:2})};b0x.cdM4Q=function(bk0x){this.S0x.bkv7o({data:{dragPwd:bk0x.dragPwd,nickname:bk0x.nickname}})};b0x.Yj6d=function(bk0x){this.nD4H.br0x();this.sE6y.profile=bk0x.profile;h0x.z0x(window,"login",{user:this.sE6y})};b0x.bqQ8I=function(bk0x){this.nD4H.cO1x(false);if(bk0x.code==505)return this.nD4H.bU0x("该昵称已被占用","nickname");if(bk0x.code==407)return this.nD4H.bU0x("该昵称包含关键词","nickname");this.nD4H.br0x();n0x.bb0x.I0x({tip:bk0x.message||"登录失败，请重试",type:2})};b0x.cdd4h=function(dg1x){var vb6V=dg1x.bindings||[];var r0x=j0x.dx1x(vb6V,function(q0x){return q0x.type==ACCOUNT_TYPE.MOBILE});var pu5z=r0x>=0?vb6V[r0x]:null;if(!pu5z)return null;var co0x=JSON.parse(pu5z.tokenJsonStr);pu5z.uid=co0x.cellphone;pu5z.hasPassword=co0x.hasPassword;return pu5z};b0x.cdj4n=function(dg1x){var vb6V=dg1x.bindings||[];var r0x=j0x.dx1x(vb6V,function(q0x){return q0x.type==dg1x.account.type});var pu5z=r0x>=0?vb6V[r0x]:null;if(!pu5z)return null;var co0x=JSON.parse(pu5z.tokenJsonStr);pu5z.uid=co0x.cellphone||co0x.email||co0x.name||co0x.nickname||"";return pu5z}})();
(function(){var c0x=NEJ.P,G0x=c0x("nej.ut"),h0x=c0x("nej.v"),u0x=c0x("nej.j"),a9j=c0x("nej.e"),j0x=c0x("nej.u"),F0x=c0x("nm.m"),p0x=c0x("nm.d"),n0x=c0x("nm.l"),b0x,L0x;F0x.ML3x=NEJ.C();b0x=F0x.ML3x.M0x(G0x.cP1x);var LOGIN_ACCOUNT=[{type:1,title:"手机",icon:"mb",key:"cellphone",uidkey:"cellphone"},{type:10,title:"微信",icon:"wx",key:"nickname",uidkey:"unionid"},{type:5,title:"QQ",icon:"qq",key:"nickname",uidkey:"openid"},{type:2,title:"新浪微博",icon:"sn",key:"name",uidkey:"uid"},{type:0,title:"网易邮箱帐号",icon:"urs",key:"email",uidkey:"email"},{type:13,title:"Facebook",icon:"urs",key:"nickname",uidkey:"uid"}];var SHARE_ACCOUNT=[{type:4,title:"人人",icon:"rr",key:"user.name",uidkey:"user.id"},{type:3,title:"豆瓣",icon:"db",key:"douban_user_name",uidkey:"douban_user_id"}];var TWEIBO={type:6,title:"腾讯微博",icon:"tc",key:"nick",uidkey:"openId"};var ALL_ACCOUNT=LOGIN_ACCOUNT.concat(SHARE_ACCOUNT,TWEIBO);b0x.cy0x=function(e0x){this.cC1x(e0x);window.login=this.cdS4W.f0x(this);window.logout=this.bYc3x.f0x(this);window.reg=this.cdT4X.f0x(this);h0x.s0x(window,"login",this.Rf4j.f0x(this));window.g_onUserLogin=this.Rf4j.f0x(this);window.g_cbLogin=this.uV6P.f0x(this);window.g_cbBind=this.cdU4Y.f0x(this);window.g_cbDeleteBind=this.cdY4c.f0x(this);window.g_cbVerify=this.PA4E.f0x(this);this.bvm9d()};b0x.bvm9d=function(){var dg1x={account:{},profile:{},bindings:[]};if(typeof GUser!=="undefined"){dg1x.profile.userId=GUser.userId;dg1x.profile.nickname=GUser.nickname;dg1x.profile.avatarUrl=GUser.avatarUrl}if(typeof GBinds!=="undefined"){dg1x.bindings=GBinds}localCache.mQ4U("user",dg1x);this.bvn9e=p0x.mS4W.B0x();this.bvn9e.s0x("onlogout",this.cea4e.f0x(this));this.bvn9e.s0x("onmainaccountreplace",this.uV6P.f0x(this));if(!this.ceb4f(dg1x))this.bYc3x()};b0x.cdS4W=function(t0x,canPwd){var props={onSuccess:function(user){h0x.z0x(window,"login",{user:user})}};if(window.CtWebLogin){window.CtWebLogin.LoginModal(props)}else{window.CtWebLoginConfig={func:"LoginModal",props:props}}};b0x.cdT4X=function(){if(this.yb7U)this.yb7U.V0x();this.yb7U=n0x.bbL7E.B0x()};b0x.Rf4j=function(d0x){if(typeof GUser==="object"&&d0x.user&&d0x.user.profile){var Ke3x=d0x.user.profile;GUser.userId=Ke3x.userId;GUser.nickname=Ke3x.nickname;GUser.avatarUrl=Ke3x.avatarUrl;GUser.djStatus=Ke3x.djStatus}if(this.bxp9g("loginsuccess")){this.z0x("loginsuccess")}else{location.reload()}};b0x.uV6P=function(m0x){if(m0x&&m0x.code==250){n0x.bb0x.I0x({tip:m0x.message||"登录异常",type:2});return}if(m0x.code==702){this.bZJ3x=n0x.Pz4D.I0x({title:"网易云音乐",mobile:m0x.phone,countrycode:m0x.countrycode,loginType:m0x.loginType});return}if(!m0x||m0x.code!=200)return;var km3x=JSON.stringify(m0x);localCache.mQ4U("user",JSON.parse(km3x));if(m0x.loginType==6){if(this.bXT3x)this.bXT3x.V0x();this.bXT3x=n0x.bYy3x.B0x({user:m0x,onsuccess:this.Rf4j.f0x(this)})}else{if(m0x.profile){this.Rf4j({user:m0x})}else{if(this.ln3x)this.ln3x.V0x();this.ln3x=n0x.zq7j.B0x({user:m0x,requiremobile:this.ced4h(m0x),onsuccess:this.Rf4j.f0x(this)})}}};b0x.cdU4Y=function(bk0x){var d0x=bk0x.code==200?"snsbind":"snsbinderror",eV1x=a9j.A0x("g_iframe");if(bk0x.code==200){var dg1x=localCache.A0x("user")||{},pu5z=NEJ.X(bk0x,{refreshTime:+(new Date)/1e3|0,tokenJsonStr:JSON.stringify({expires_in:bk0x.expires_in})}),r0x=-1;dg1x.bindings=dg1x.bindings||[];j0x.bg0x(dg1x.bindings,function(cei4m,ya7T){if(cei4m.type==bk0x.type)r0x=ya7T});if(r0x>=0){dg1x.bindings[r0x]=pu5z}else{dg1x.bindings.push(pu5z)}u0x.be0x("/api/point/sns",{type:"json",method:"get",query:{snsType:bk0x.type},onload:function(i0x){var bQ0x=bk0x.point||i0x.point;if(bQ0x>0){n0x.dW1x({title:"绑定成功",type:"success",mesg:'绑定成功 获得<em class="s-fc6">'+bQ0x+"积分</em>"})}else{n0x.bb0x.I0x({tip:"绑定成功"})}}.f0x(this)})}else{var r0x=j0x.dx1x(ALL_ACCOUNT,function(q0x){return q0x.type==bk0x.type});var es1x=r0x>=0?ALL_ACCOUNT[r0x].title:"";if(bk0x.message){n0x.dW1x({title:"绑定"+es1x,type:"fail",mesg:"绑定失败",mesg2:bk0x.message})}else{n0x.bb0x.I0x({tip:"绑定失败，请重试",type:2})}}try{var bM0x=eV1x.contentWindow;bM0x.nej.v.z0x(bM0x,d0x,{result:bk0x})}catch(e){}h0x.z0x(window,d0x,{result:bk0x})};b0x.cdY4c=function(bk0x){var d0x=bk0x.code==200?"snsunbind":"snsunbinderror",eV1x=a9j.A0x("g_iframe");if(bk0x.code==200){n0x.bb0x.I0x({tip:"已解除绑定"})}else if(bk0x.message){n0x.dW1x({title:"解除绑定",type:"fail",mesg:"解绑失败",mesg2:bk0x.message})}else{n0x.bb0x.I0x({tip:"解绑失败，请重试",type:2})}try{var bM0x=eV1x.contentWindow;bM0x.nej.v.z0x(bM0x,d0x,{result:bk0x})}catch(e){}h0x.z0x(window,d0x,{result:bk0x})};b0x.PA4E=function(bk0x){console.log(bk0x,"rsp");var d0x=bk0x.code==200?"snsverify":"snsverifyerror",eV1x=a9j.A0x("g_iframe");if(bk0x.code==200){}else{if(bk0x.message){n0x.dW1x({title:"验证失败",type:"fail",mesg:"验证失败",mesg2:bk0x.message})}else{n0x.bb0x.I0x({tip:"验证失败，请重试",type:2})}}try{var bM0x=eV1x.contentWindow;bM0x.nej.v.z0x(bM0x,d0x,{result:bk0x})}catch(e){}h0x.z0x(window,d0x,{result:bk0x})};b0x.bYc3x=function(){var d0x={};this.z0x("beforedologout",d0x);if(d0x.stopped){return}u0x.gV2x("MUSIC_U",{expires:-1});this.bvn9e.cnR5W();window.GUser={};this.z0x("logoutbefore")};b0x.cea4e=function(m0x){localCache.cS1x("user");localCache.cS1x("host-plist");if(typeof GUser==="object"){GUser.userId=0;GUser.nickname="";GUser.avatarUrl=""}if(this.bxp9g("logoutsuccess")){this.z0x("logoutsuccess")}else{location.reload()}};b0x.ceb4f=function(dg1x){var bXP3x=false;if(!dg1x.bindings||dg1x.bindings.length==0)return true;j0x.bg0x(dg1x.bindings,function(q0x){if(q0x.type==0||q0x.type==2||q0x.type==5||q0x.type==10||q0x.type==13||q0x.type==1){bXP3x=true}});return bXP3x};b0x.ced4h=function(i0x){return i0x&&i0x.loginType!=13};G0x.fP2x.B0x({element:window,event:["login","snsbind","snsbinderror","snsunbind","snsunbinderror","snsverify","snsverifyerror"]});F0x.ML3x.fU2x()})();
(function(){var c0x=NEJ.P,bd0x=NEJ.O,bs0x=NEJ.F,a9j=c0x("nej.e"),h0x=c0x("nej.v"),X0x=c0x("nej.ui"),G0x=c0x("nej.ut"),j0x=c0x("nej.u"),l0x=c0x("nm.x"),p0x=c0x("nm.d"),y0x=c0x("nm.w"),b0x;y0x.QU4Y=NEJ.C();b0x=y0x.QU4Y.M0x(X0x.ep1x);b0x.bW0x=function(){this.cg0x();var k0x=a9j.dj1x(this.o0x);this.FR9I=k0x[0];this.cw0x=k0x[1];this.bO0x=k0x[2]};b0x.ce0x=function(){this.cd0x="g-select"};b0x.bo0x=function(e0x){this.bp0x(e0x);this.bY0x([[this.cw0x,"click",this.qR5W.f0x(this)],[this.bO0x,"click",this.lF3x.f0x(this)],[document,"click",this.pK5P.f0x(this)]]);this.bvh9Y=e0x.filter||this.cGo8g;this.lG3x(e0x.list)};b0x.bC0x=function(){this.bH0x();delete this.bX0x;delete this.wV7O;delete this.bvh9Y};b0x.lG3x=function(k0x,kP3x){if(!k0x){this.FR9I.innerText="－请选择－";return}this.bX0x=k0x;a9j.dm1x(this.bO0x,"g-select-item",{options:k0x},{filter:this.bvh9Y});this.jp3x(kP3x||k0x[0])};b0x.mr4v=function(){return this.bX0x};b0x.gl2x=function(){return this.wV7O};b0x.jp3x=function(D0x){if(this.wV7O!=D0x){this.wV7O=D0x;this.FR9I.innerText=this.bvh9Y(D0x);this.z0x("onchange",D0x)}};b0x.qR5W=function(d0x){h0x.bh0x(d0x);if(a9j.bE0x(this.bO0x,"f-hide")){if(!this.bX0x||!this.bX0x.length)return;a9j.x0x(this.bO0x,"f-hide")}else{a9j.w0x(this.bO0x,"f-hide")}};b0x.pK5P=function(){a9j.w0x(this.bO0x,"f-hide")};b0x.lF3x=function(d0x){var g0x=h0x.ba0x(d0x,"d:index"),r0x=a9j.v0x(g0x,"index");if(g0x){this.jp3x(this.bX0x[r0x])}};b0x.cGo8g=function(dP1x){return dP1x.name}})();
(function(){var c0x=NEJ.P,bd0x=NEJ.O,bs0x=NEJ.F,a9j=c0x("nej.e"),h0x=c0x("nej.v"),j0x=c0x("nej.u"),dq1x=c0x("nej.p"),X0x=c0x("nej.ui"),u0x=c0x("nej.j"),l0x=c0x("nm.x"),p0x=c0x("nm.d"),n0x=c0x("nm.l"),y0x=c0x("nm.w"),gJ2x=c0x("nm.ut"),b0x,L0x;y0x.Cw8o=NEJ.C();b0x=y0x.Cw8o.M0x(X0x.ep1x);L0x=y0x.Cw8o.ct0x;b0x.bo0x=function(e0x){this.bp0x(e0x);this.eZ1x=e0x.type||1;if(a9j.ij2x("program-data")){this.ga2x=JSON.parse(a9j.ij2x("program-data"))}this.em1x=e0x.resource||{};this.sH6B=a9j.oA4E(a9j.bZ0x("m-wgt-input-"+this.eZ1x,{placeholder:e0x.placeholder||""}));this.bTz2x=e0x.type==2?true:false;var k0x=a9j.C0x(this.sH6B,"j-flag");this.gD2x=k0x[0];this.bAx9o=a9j.C0x(this.sH6B,"btns")[0];this.me4i=k0x[3];this.cjV5a=k0x[4];a9j.hi2x(this.gD2x,"holder");if(a9j.bE0x(this.gD2x.parentNode,"holder-parent")){a9j.bc0x(this.gD2x.parentNode,"display","block")}this.gD2x.value=e0x.input||"";this.o0x.appendChild(this.sH6B);this.pG5L={start:0,end:0};if(!e0x.nomention){this.hW2x=y0x.Uk5p.B0x({parent:document.body,target:this.gD2x})}else{a9j.bc0x(k0x[2],"display","none")}this.bBp0x=e0x.numLimit||140;this.gx2x();this.ckt5y();this.bY0x([[this.me4i,"click",this.up6j.f0x(this)],[k0x[2],"click",this.bAC9t.f0x(this)],[k0x[1],"click",this.bAF9w.f0x(this)],[this.gD2x,"focus",this.kZ3x.f0x(this)],[this.gD2x,"blur",this.oV4Z.f0x(this)],[this.gD2x,"input",this.fc1x.f0x(this)],[this.gD2x,"keyup",this.wv7o.f0x(this)],[this.gD2x,"click",this.mL4P.f0x(this)]]);if(!j0x.gT2x(e0x.onbeforesubmit))this.s0x("onbeforesubmit",this.ckw5B.f0x(this));if(!j0x.gT2x(e0x.onloading))this.s0x("onloading",this.ckx5C.f0x(this));u0x.be0x("/api/middle/clientcfg/config/list",{type:"json",method:"get",query:{moduleName:"preload"},onload:function(res){var status=res.data["preload#security"].emojiStatus[0].status;if(status===5){a9j.w0x(k0x[1],"f-hide")}else{a9j.x0x(k0x[1],"f-hide")}}.f0x(this)})};b0x.bC0x=function(){this.gD2x.value="";if(this.hP2x){this.hP2x.V0x();delete this.hP2x}if(this.hW2x){this.hW2x.V0x();delete this.hW2x}this.bH0x();a9j.cS1x(this.sH6B)};b0x.ckw5B=function(){var D0x=this.gD2x.value;if(this.me4i.className.indexOf("dis")>=0)return;if(!this.Hn9e()||!this.Cq8i())return;if(l0x.ld3x(D0x)){n0x.bb0x.I0x({type:2,tip:"输入点内容再提交吧"});return}if(j0x.fR2x(D0x)>2*this.bBp0x){n0x.bb0x.I0x({type:2,tip:"输入不能超过"+this.bBp0x+"个字符"});return}return!0};b0x.ckx5C=function(){a9j.w0x(this.me4i,"u-btn-1-dis");if(this.me4i.innerText.indexOf("...")<0){this.me4i.innerText=this.me4i.innerText+"..."}this.tS6M=!0};b0x.Cj8b=function(){if(!this.tS6M)return;this.tS6M=!1;a9j.x0x(this.me4i,"u-btn-1-dis");var cI1x=this.me4i.innerText;this.me4i.innerText=cI1x.substring(0,cI1x.length-3)};b0x.mL4P=function(){this.pG5L=gJ2x.wc6W(this.gD2x)};b0x.up6j=function(ig2x){h0x.bh0x(ig2x);l0x.rx5C(function(){var D0x=this.gD2x.value;if(!this.z0x("onbeforesubmit",{value:D0x}))return;if(this.eZ1x!=4)this.z0x("onloading");gJ2x.bXW3x(D0x);if(this.hW2x){this.hW2x.Gr9i()}if(this.hP2x){this.hP2x.br0x()}this.z0x("onsubmit",D0x);this.gx2x()}.f0x(this));return false};b0x.rd5i=function(){this.gD2x.value="";this.gx2x()};b0x.gl2x=function(){return this.gD2x.value||""};b0x.nt4x=function(){var jj3x=this.gD2x;var t0x=a9j.v0x(jj3x,"type");this.nx4B=t0x;if(!this.Cq8i())return;var bt0x=this.gl2x().length;this.gD2x.focus();gJ2x.bds7l(this.gD2x,{start:bt0x,end:bt0x});this.mL4P()};b0x.bAC9t=function(d0x){h0x.bh0x(d0x);if(!this.Cq8i())return;!!this.hP2x&&this.hP2x.br0x();this.hW2x.Ui5n();this.gx2x()};b0x.bAF9w=function(d0x){h0x.bh0x(d0x);if(!this.Cq8i())return;if(!this.hP2x){this.hP2x=n0x.LM3x.B0x({parent:this.bAx9o,rightwards:this.eZ1x==6});this.hP2x.s0x("onselect",this.Bj8b.f0x(this));a9j.bc0x(this.hP2x.mt4x().parentNode,"position","relative")}this.hP2x.I0x();this.z0x("onemotlayershow");if(this.hW2x){this.hW2x.Gr9i()}};b0x.Bj8b=function(d0x){var bq0x="["+d0x.text+"]";h0x.z0x(this.gD2x,"focus");this.gD2x.focus();gJ2x.LF3x(this.gD2x,this.pG5L,bq0x);this.gx2x();h0x.z0x(this.gD2x,"keyup")};b0x.fc1x=function(d0x){dq1x.dB1x.browser=="ie"&&dq1x.dB1x.version<"7.0"?setTimeout(this.gx2x.f0x(this),0):this.gx2x()};b0x.wv7o=function(d0x){this.mL4P();if(this.bTz2x)this.ckz5E();this.fc1x()};b0x.Hn9e=function(){if(!GUser||!GUser.userId||GUser.userId<0){top.login();return}return true};b0x.kZ3x=function(d0x){var g0x=h0x.ba0x(d0x,"d:type");var t0x=a9j.v0x(g0x,"type");this.nx4B=t0x;if(!this.Hn9e()){this.gD2x.blur();return}if(!this.Cq8i()){this.gD2x.blur();return}this.z0x("onfocus")};b0x.oV4Z=function(){this.z0x("onblur")};b0x.gx2x=function(){var bt0x=this.bBp0x-Math.ceil(j0x.fR2x(this.gD2x.value)/2);this.cjV5a.innerHTML=bt0x>=0?bt0x:'<em class="s-fc6">'+bt0x+"</em>"};b0x.ckz5E=function(){var Ja2x=76;var ckA5F=function(){if(parseInt(ck0x)>Ja2x){a9j.bc0x(this.gD2x,"height","auto");a9j.bc0x(this.gD2x,"height",Ja2x+"px");a9j.bc0x(this.gD2x,"overflowY","scroll")}else{a9j.bc0x(this.gD2x,"height","auto");a9j.bc0x(this.gD2x,"height",ck0x);a9j.bc0x(this.gD2x,"overflowY","hidden")}}.f0x(this);var vq6k=function(string,number){for(var i=0,r="";i<number;i++)r+=string;return r};this.My3x.innerHTML=this.gD2x.value.replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/&/g,"&amp;").replace(/\n$/,"<br/>&nbsp;").replace(/\n/g,"<br/>").replace(/ {2,}/g,function(space){return vq6k("&nbsp;",space.length-1)+" "})+"&nbsp";var ck0x=this.My3x.offsetHeight>this.Mz3x?this.My3x.offsetHeight:this.Mz3x;ck0x+="px";var cPa0x=a9j.dk1x(this.gD2x,"height");setTimeout(ckA5F,10)};b0x.Rz4D=function(){var qA5F=["overflowX","overflowY","fontSize","fontFamily","lineHeight"];for(var i=0;i<qA5F.length;i++){a9j.bc0x(this.My3x,qA5F[i],a9j.dk1x(this.gD2x,qA5F[i]))}var cN1x=this.gD2x.offsetWidth-parseInt(a9j.dk1x(this.gD2x,"paddingLeft"))-parseInt(a9j.dk1x(this.gD2x,"paddingRight"))+"px";a9j.bc0x(this.My3x,"width",cN1x)};b0x.ckt5y=function(){if(this.bTz2x){if(!a9j.C0x(document.body,"shadow-textarea")[0]){var ek1x='<div style="position:absolute;border: none;left:-10000px;word-wrap: break-word;overflow: hidden;resize:none" class="shadow-textarea"></div>';var g0x=a9j.oA4E(ek1x);document.body.appendChild(g0x);this.My3x=a9j.C0x(document.body,"shadow-textarea")[0]}else{this.My3x=a9j.C0x(document.body,"shadow-textarea")[0]}this.Mz3x=parseInt(a9j.dk1x(this.gD2x,"height"));a9j.bc0x(this.gD2x,"overflow","hidden");this.Rz4D()}};b0x.Cq8i=function(){var d0x={};if(this.ga2x&&this.ga2x.buyed!=true&&this.ga2x.programFeeType>=10||this.ga2x&&this.ga2x.buyed!=true&&this.ga2x.programFeeType==5&&this.ga2x.radio.radioFeeType==2||this.ga2x&&this.ga2x.buyed!=true&&this.ga2x.radio.feeScope==1&&!(this.ga2x.radio.radioFeeType==0&&this.nx4B==11)){var boY8Q=this.ga2x.radio.id,boX8P="djradio";l0x.Wz5E({id:boY8Q,radiotype:boX8P})}else{this.z0x("oncheckvalid",d0x);return!d0x.stopped}}})();
(function(){var c0x=NEJ.P,bd0x=NEJ.O,j0x=c0x("nej.u"),h0x=c0x("nej.v"),G0x=c0x("nej.ut"),l0x=c0x("nm.x"),p0x=c0x("nm.d"),n0x=c0x("nm.l"),b0x,L0x;p0x.fp2x({"message_chat-add":{url:"/api/msg/private/send",filter:function(e0x){this.Mv3x(e0x,0)},format:function(m0x,e0x){this.bvZ9Q(m0x.newMsgs);if(e0x.justSend){return m0x}else{return m0x.newMsgs.reverse()}},finaly:function(d0x,e0x){if(!d0x)return;if(!e0x.justSend){h0x.z0x(p0x.nd4h,"listchange",{key:e0x.key,action:"unshift",limit:d0x.limit,offset:0})}this.z0x("onafteritemaddd")},onmessage:function(ca0x){var cR1x="";if(ca0x==407){cR1x="发送内容中不得包含非法字符"}else if(ca0x==406||ca0x==405){cR1x="输入过于频繁，请稍后再试"}else if(ca0x==408){cR1x="请不要重复发送"}else if(ca0x==315){cR1x="根据对方设置，你没有该操作权限"}if(!!cR1x)n0x.bb0x.I0x({tip:cR1x,type:2})}},"message_chat-del":{url:"/api/msg/private/delete/single",format:function(Q0x,e0x){return Q0x.code==200},finaly:function(d0x,e0x){h0x.z0x(p0x.nd4h,"listchange",{key:e0x.key,action:"delete",data:e0x.data});this.z0x("onafteritemdelete")},onmessage:function(ca0x){}},"message_chat-list":{url:"/api/msg/private/history",filter:function(e0x,bf0x){if(window.location.href.indexOf("noticeaccountflag=true")!==-1){bf0x.url="/api/msg/private/noticeaccount/history"}else{bf0x.url="/api/msg/private/history"}this.Mv3x(e0x);delete e0x.data.offset},format:function(m0x,e0x){var WT6N=m0x.msgs||m0x.data.msgs;this.bvZ9Q(WT6N);if(m0x.more||m0x.data&&m0x.data.hasMore){for(var i=WT6N.length;i<e0x.limit;i++){WT6N.push(null)}}else{return{total:e0x.offset+e0x.limit,list:WT6N}}return WT6N}},"message_chat-pull":{url:"/api/msg/private/new",filter:function(e0x){this.Mv3x(e0x,0)},format:function(m0x){return m0x.msgs}},"message_private-list":{url:"/api/msg/private/users",filter:function(e0x){},format:function(m0x,e0x){var cG1x=m0x.size||0,k0x=m0x.msgs;this.bwc9T(k0x);if(e0x.offset+e0x.limit<cG1x){k0x.length=e0x.limit}return{total:cG1x,list:k0x}}},"message_private-pull":{url:"/api/msg/private/users",filter:function(e0x){e0x.data.time=-1},format:function(m0x,e0x){this.wb6V(e0x.key);this.bwc9T(m0x.msgs);return m0x.msgs}},"message_private-del":{type:"GET",url:"/api/msg/private/delete",filter:function(e0x){var E0x=e0x.id;if(E0x)e0x.data={userId:E0x.split("-")[1]}},format:function(Q0x,e0x){return Q0x},finaly:function(d0x,e0x){h0x.z0x(p0x.nd4h,"listchange",{key:e0x.key,action:"refresh"})},onmessage:function(ca0x){}},"message_comment-list":{url:"/api/v1/user/comments/{uid}",filter:function(e0x){this.Mv3x(e0x);e0x.data.beforeTime=e0x.data.time;delete e0x.data.time;delete e0x.data.offset},format:function(m0x,e0x){if(e0x.data.offset==0)this.z0x("onnewcount",m0x.newCount);this.cIu9l(m0x);return{list:m0x.comments}}},"message_comment-del":{url:"/api/user/comments/delete",finaly:function(d0x,e0x){h0x.z0x(p0x.nd4h,"listchange",{key:e0x.key,action:"refresh"})}},"message_user_comment-reply":{url:"/api/user/comments/reply",format:function(Q0x){this.z0x("onreply");n0x.bb0x.I0x({tip:"回复成功"});return Q0x},onmessage:function(ca0x,m0x){if(ca0x==250){n0x.bb0x.I0x({tip:m0x.message||m0x.msg||"评论异常",type:2});return}n0x.bb0x.I0x({tip:"回复失败，请稍后再试",type:2})}},"message_resource_comment-reply":{url:"/api/resource/comments/reply",onmessage:function(ca0x,m0x){if(ca0x==250){n0x.bb0x.I0x({tip:m0x.message||m0x.msg||"评论异常",type:2});return}}},"message_notify-list":{url:"/api/msg/notices",filter:function(e0x){this.Mv3x(e0x);delete e0x.data.offset},format:function(m0x,e0x){if(e0x.data.offset==0)this.z0x("onnewcount",m0x.newCount);this.cIA9r(m0x);return{list:m0x.notices}}},"message_notify-del":{url:"TODO",format:function(Q0x,e0x){return e0x.ext},finaly:function(d0x,e0x){h0x.z0x(p0x.nd4h,"listchange",{key:e0x.key,action:"refresh"})},onmessage:function(ca0x){l0x.blb7U({txt:"通知删除失败！"})}},"message_at-list":{url:"/api/forwards/get",filter:function(e0x){},format:function(m0x,e0x){j0x.bg0x(m0x.forwards,function(q0x,r0x){q0x.isNew=r0x<m0x.newCount});m0x.forwards.length=e0x.limit;return{total:m0x.size,list:m0x.forwards}}},"message_at-pull":{url:"/api/forwards/get",filter:function(e0x){this.Mv3x(e0x,0)},format:function(m0x,e0x){return m0x.forwards}},"message_at-del":{url:"TODO",format:function(Q0x,e0x){return e0x.ext},finaly:function(d0x,e0x){h0x.z0x(p0x.nd4h,"listchange",{key:e0x.key,action:"refresh"})},onmessage:function(ca0x){l0x.blb7U({txt:"@消息删除失败！"})}},"event-like":{url:"/api/resource/like",onload:"oneventlike",filter:function(e0x,bf0x){if(e0x.like){bf0x.url="/api/resource/like";bf0x.onload="oneventlike"}else{bf0x.url="/api/resource/unlike";bf0x.onload="oneventunlike"}},format:function(m0x,e0x){m0x.id=e0x.id;m0x.isInner=!!e0x.isInner;return m0x}}});p0x.nd4h=NEJ.C();b0x=p0x.nd4h.M0x(p0x.hJ2x);L0x=p0x.nd4h.ct0x;b0x.Bo8g=function(e0x,q0x){if(!j0x.ec1x(q0x)){return L0x.Bo8g.apply(this,arguments)}j0x.bg0x(q0x,function(i0x){L0x.Bo8g.apply(this,[e0x,i0x])},this);return{limit:q0x.length}};b0x.cIG9x=function(q0x){if(!j0x.ec1x(q0x)){if(q0x.type==1){q0x.json=this.bFV0x(q0x.json,q0x.id)}else if(q0x.type==2){q0x.json=JSON.parse(q0x.json);q0x.json.resource=this.bFV0x(q0x.json.resource)}else if(q0x.type==3){q0x.json=JSON.parse(q0x.json)}return}j0x.bg0x(q0x,this.cIG9x,this)};b0x.bFV0x=function(tG6A){if(j0x.fS2x(tG6A)){tG6A=JSON.parse(tG6A)}if(!!tG6A.json&&j0x.fS2x(tG6A.json)){tG6A.json=JSON.parse(tG6A.json);if(!!tG6A.json.event&&!!tG6A.json.event.json&&j0x.fS2x(tG6A.json.event.json)){tG6A.json.event.json=JSON.parse(tG6A.json.event.json)}}return tG6A};b0x.bvZ9Q=function(q0x){if(!j0x.ec1x(q0x)){q0x.msg=JSON.parse(q0x.msg||"{}");return}j0x.bg0x(q0x,this.bvZ9Q,this)};b0x.bwc9T=function(q0x){if(!j0x.ec1x(q0x)){q0x.id=q0x.toUser.userId+"-"+q0x.fromUser.userId;q0x.lastMsg=JSON.parse(q0x.lastMsg);return}j0x.bg0x(q0x,this.bwc9T,this)};b0x.cIu9l=function(i0x){var bD0x={0:"/playlist?id={id}",1:"/dj?id={id}",2:"/event?id={id}&uid={userId}",3:"/album?id={id}",4:"/song?id={id}",5:"/mv?id={id}",6:"/topic?id={id}",62:"/video?id={id}&toast=true"};j0x.bg0x(i0x.comments,function(q0x,r0x){try{q0x.resourceJson=JSON.parse(q0x.resourceJson)}catch(e){q0x.resourceJson=null}if(q0x.resourceJson){if(q0x.resourceType!==62||q0x.resourceJson.id){q0x.resUrl=l0x.bhl6f(bD0x[q0x.resourceType],q0x.resourceJson)}}},this)};b0x.cIA9r=function(){var cJk9b=function(bS0x){var Q0x,cQ1x="";try{Q0x=JSON.parse(bS0x.json)}catch(e){Q0x={}}switch(bS0x.type){case 12:cQ1x="我创建了歌单";cQ1x=cQ1x+"「"+Q0x.playlist.name+"」by "+Q0x.playlist.creator.nickname;break;case 13:cQ1x="我分享了歌单";cQ1x=cQ1x+"「"+j0x.dN1x(Q0x.playlist.name)+"」by "+Q0x.playlist.creator.nickname;break;case 14:cQ1x="我收藏了歌单";cQ1x=cQ1x+"「"+j0x.dN1x(Q0x.playlist.name)+"」by "+Q0x.playlist.creator.nickname;break;case 15:case 16:cQ1x="我创建了节目";cQ1x=cQ1x+"「"+Q0x.program.name+"」by "+Q0x.program.dj.nickname;break;case 17:cQ1x="我分享了节目";cQ1x=cQ1x+"「"+Q0x.program.name+"」by "+Q0x.program.dj.nickname;break;case 18:cQ1x="我分享了歌曲";cQ1x=cQ1x+"「"+Q0x.song.name+"」by ";for(var i=0,l=Q0x.song.artists.length;i<l;i++){cQ1x=cQ1x+Q0x.song.artists[i].name;if(i<l-1)cQ1x=cQ1x+"/"}break;case 19:cQ1x="我分享了专辑";cQ1x=cQ1x+"「"+Q0x.album.name+"」by "+Q0x.album.artist.name;break;case 36:cQ1x="我分享了歌手";cQ1x=cQ1x+"「"+Q0x.resource.name+"」";break;case 21:cQ1x="我分享了MV";cQ1x=cQ1x+"「"+Q0x.mv.name+"」by "+Q0x.mv.artistName;break;case 22:cQ1x="我的动态:"+(l0x.yw7p(j0x.dN1x(Q0x.msg),"s-fc3")||"转发");break;case 23:cQ1x="我收藏了节目";cQ1x=cQ1x+"「"+Q0x.program.name+"」by "+Q0x.program.dj.nickname;break;case 24:cQ1x="我分享了专栏文章";cQ1x=cQ1x+"「"+Q0x.topic.mainTitle+"」";break;case 28:cQ1x="我分享了电台";cQ1x=cQ1x+"「"+Q0x.djRadio.name+"」by "+Q0x.djRadio.dj.nickname;break;case 31:cQ1x="我分享了评论：";cQ1x=cQ1x+l0x.yw7p((Q0x.resource||bd0x).content||"");if(Q0x.resource&&Q0x.resource.expressionUrl){cQ1x+="[表情图片]"}break;case 35:cQ1x="我的动态:"+l0x.yw7p(j0x.dN1x(Q0x.msg),"s-fc3")+(bS0x.pics&&bS0x.pics.length?"[图片]":"");break;case 39:cQ1x="我发布了视频";cQ1x=cQ1x+"「"+Q0x.video.title+"」";break;case 41:cQ1x="我分享了视频";cQ1x=cQ1x+"「"+Q0x.video.title+"」";break}Q0x.str=cQ1x;return Q0x};var cJl9c=function(JD2x){var bD0x={A_PL_0:"playlist",R_MV_5:"mv",A_TO_6:"topic",A_DJ_1:"dj",A_EV_2:"event",R_AL_3:"album",R_SO_4:"song",A_DR_14:"radio",R_VI_62:"video"};if(/^(\w_\w{2}_\d+)+_(.+)$/.test(JD2x)){var t0x=bD0x[RegExp.$1],cq0x=RegExp.$2.split("_");return"/"+t0x+"?id="+cq0x[0]+(t0x=="event"?"&uid="+cq0x[1]:"")+"&_hash=comment-box&toast=true"}};var cJm9d=function(eO1x){var eO1x=JSON.parse(eO1x);switch(eO1x.type){case 1:if(!eO1x.track)return;eO1x.msg="赞了你的动态";eO1x.url="/event?toast=true&id="+eO1x.track.id+"&uid="+GUser.userId;eO1x.track=cJk9b(eO1x.track);break;case 2:eO1x.msg="收藏了你的歌单";eO1x.url="/playlist?id="+eO1x.playlist.id;eO1x.res=eO1x.playlist;break;case 3:eO1x.msg="分享了你的歌单";eO1x.url="/playlist?id="+eO1x.playlist.id;eO1x.res=eO1x.playlist;break;case 4:eO1x.msg="分享了你的节目";eO1x.url="/dj?id="+eO1x.program.id;eO1x.res=eO1x.program;break;case 5:eO1x.msg="收藏了你的节目";eO1x.url="/dj?id="+eO1x.program.id;eO1x.res=eO1x.program;break;case 6:eO1x.msg="赞了你的评论";eO1x.url=cJl9c(eO1x.comment.threadId);eO1x.comment=eO1x.comment;break;case 7:eO1x.msg="赞了你的节目";eO1x.url="/dj?id="+eO1x.program.id;eO1x.res=eO1x.program;break;case 8:eO1x.msg="订阅了你的电台";eO1x.url="/radio?id="+eO1x.djRadio.id;eO1x.res=eO1x.djRadio;break;case 9:eO1x.msg="赞了你的专栏文章";eO1x.url="/topic?id="+eO1x.topic.id;eO1x.topic=eO1x.topic;break;case 10:if(!eO1x.generalNotice)return;eO1x.msg=eO1x.generalNotice.actionDesc;eO1x.url=eO1x.generalNotice.webUrl;if(eO1x.url.indexOf("/video?id=")==0){eO1x.url+="&toast=true"}eO1x.generalContent=eO1x.generalNotice.content;break}return eO1x};return function(i0x){j0x.bg0x(i0x.notices,function(q0x,r0x){q0x.notice=cJm9d(q0x.notice)},this)}}();b0x.Mv3x=function(e0x,r0x,J0x){var bz0x=-1,k0x=this.hF2x(e0x.key),bn0x=e0x.offset;bn0x=bn0x!=null?bn0x:k0x.length;if(bn0x>0&&k0x.length>0){var cJo9f=0;r0x=r0x!=null?r0x:bn0x-1;while(r0x>=0&&!k0x[r0x]){r0x--;cJo9f++}if(r0x>=0&&k0x[r0x]){bz0x=k0x[r0x][J0x||"time"]}}e0x.data.time=bz0x};b0x.cJX9O=function(e0x){e0x.onload=this.bFH0x.f0x(this);e0x.onerror=this.bFH0x.f0x(this);this.ci0x("message_resource_comment-reply",e0x)};b0x.bFH0x=function(d0x){this.z0x("onreply2",d0x)};b0x.bBb9S=function(e0x){this.ci0x("message_user_comment-reply",e0x)};b0x.Kf3x=function(d0x){this.z0x("onreply",d0x)};b0x.bjQ7J=function(e0x){e0x.onload=this.WC5H.f0x(this);this.ci0x("message_chat-add",e0x)};b0x.WC5H=function(d0x){this.z0x("onsend",d0x)};b0x.pH5M=function(e0x){this.ci0x("event-like",e0x)};G0x.fP2x.B0x({element:p0x.nd4h,event:"listchange"})})();
(function(){var c0x=NEJ.P,a9j=c0x("nej.e"),u0x=c0x("nej.j"),bd0x=c0x("nej.o"),j0x=c0x("nej.u"),h0x=c0x("nej.v"),dq1x=c0x("nej.p"),y0x=c0x("nm.w"),l0x=c0x("nm.x"),bG0x=c0x("nej.ui"),p0x=c0x("nm.d"),n0x=c0x("nm.l"),b0x,L0x;n0x.ur6l=NEJ.C();b0x=n0x.ur6l.M0x(n0x.ef1x,!0);L0x=n0x.ur6l.prototype;b0x.ce0x=function(){this.cd0x="m-msg-private-send"};b0x.bW0x=function(){this.cg0x();var bR0x=a9j.C0x(this.o0x,"j-flag");this.vZ6T={parent:bR0x[1],err:bR0x[0]};this.fu2x={parent:bR0x[2],type:4,nomention:true,numLimit:200,onsubmit:this.Wb5g.f0x(this)};if(dq1x.dB1x.browser=="ie"&&dq1x.dB1x.version<"8.0"){a9j.bc0x(bR0x[0],"position","relative");a9j.bc0x(bR0x[0],"zIndex","10")}l0x.ke3x()};b0x.bo0x=function(e0x){l0x.rx5C(function(){e0x.parent=document.body;e0x.onclose=function(){this.bC0x()}.f0x(this);e0x.mask=true;this.bp0x(e0x);!!e0x.receiver&&(this.vZ6T.receiver=e0x.receiver);this.pV5a=y0x.FT9K.B0x(this.vZ6T);this.ex1x=y0x.Cw8o.B0x(this.fu2x);this.S0x=p0x.nd4h.B0x({onsend:this.WC5H.f0x(this),onerror:function(i0x){var m0x=i0x.result||{};if(m0x.code==250){n0x.bb0x.I0x({tip:m0x.message||m0x.msg||"操作异常",type:2})}else{n0x.bb0x.I0x({tip:"发送失败",type:2})}this.ex1x.Cj8b()}.f0x(this)})}.f0x(this),true)};b0x.bC0x=function(){this.bH0x();if(!!this.pV5a){this.pV5a.V0x();delete this.pV5a}if(!!this.ex1x){this.ex1x.V0x();delete this.ex1x}};b0x.Wb5g=function(D0x){if(!!D0x){var Su5z=this.pV5a.Sl4p();if(!!Su5z.length){this.VY5d={type:"text",msg:D0x,userIds:JSON.stringify(Su5z)};l0x.kI3x(this.bwu9l.f0x(this));this.ex1x.z0x("onloading")}else{l0x.dW1x({title:"提示",message:"请选择私信发送对象"})}}else{l0x.dW1x({title:"提示",message:"私信内容不能为空"})}};b0x.bwu9l=function(co0x){this.VY5d.checkToken=co0x||"";this.S0x.bjQ7J({data:this.VY5d,justSend:true})};b0x.WC5H=function(m0x){this.br0x();if(m0x.code==200){n0x.bb0x.I0x({tip:"发送成功"})}}})();
(function(){var c0x=NEJ.P,bd0x=NEJ.O,h0x=c0x("nej.v"),a9j=c0x("nej.e"),u0x=c0x("nej.j"),j0x=c0x("nej.u"),n0x=c0x("nm.l"),y0x=c0x("nm.w"),bG0x=c0x("nej.ui"),p0x=c0x("nm.d"),l0x=c0x("nm.x"),b0x,L0x;n0x.bvg9X=NEJ.C();b0x=n0x.bvg9X.M0x(n0x.ef1x);L0x=n0x.bvg9X.ct0x;b0x.ce0x=function(){this.cd0x="m-question"};b0x.bW0x=function(){this.cg0x();var k0x=a9j.C0x(this.o0x,"j-flag");this.fd1x=k0x[1];this.pL5Q=k0x[2];this.pV5a=y0x.QU4Y.B0x({filter:this.cGc8U,parent:k0x[0]});h0x.s0x(this.o0x,"click",this.bN0x.f0x(this))};b0x.bo0x=function(e0x){e0x.parent=e0x.parent||document.body;e0x.title="回答安全问题";e0x.draggable=!0;e0x.destroyalbe=!0;e0x.mask=true;this.bp0x(e0x);this.pV5a.lG3x(e0x.data||[])};b0x.bC0x=function(){this.bH0x();this.fd1x.value=""};b0x.DS9J=function(){this.br0x()};b0x.bN0x=function(d0x){var g0x=h0x.ba0x(d0x,"d:action");switch(a9j.v0x(g0x,"action")){case"back":this.z0x("onback");this.br0x();break;case"next":var bHm0x=this.fd1x.value.trim();if(!bHm0x){this.iW3x("请输入回答");return}var i0x={questionId:this.pV5a.gl2x().id,answer:j0x.kR3x(bHm0x)};this.iW3x(null);u0x.be0x("/store/api/security/validateAnswer",{type:"json",method:"post",data:j0x.cr0x(i0x),onload:this.bHo0x.f0x(this),onerror:this.bHo0x.f0x(this)});break}};b0x.cGc8U=function(q0x){return q0x.question};b0x.iW3x=function(cR1x){if(cR1x){this.pL5Q.innerHTML='<i class="u-icn u-icn-25"></i>'+cR1x;a9j.x0x(this.pL5Q,"f-hide")}else{a9j.w0x(this.pL5Q,"f-hide")}};var sG6A=function(d0x){try{top.doMsgToServiceAction(d0x)}catch(e){}};b0x.bHo0x=function(d0x){if(d0x&&d0x.code==200){this.z0x("onnext");this.br0x()}else{var bD0x={"-3":"回答错误，您还有"+d0x.times+"次机会！"};if(d0x.code==-2||d0x.code==-4){l0x.dW1x({clazz:"m-layer-w2",title:"更换手机号",message:"<p>帐号已被锁定</p>"+'<p class="f-mgt10">回答错误的次数过多，您的帐号已被锁定，将无法进行任何商城交易，<br/>'+'请私信<a class="s-fc7" href="javascript:;" data-action="kf">@云音乐客服</a> 解锁。</p>',btntxt:"知道了",action:sG6A});this.br0x()}else{this.iW3x(bD0x[d0x.code]||"回答出错")}}};l0x.cFZ8R=function(e0x){var bHr0x=function(d0x){if(d0x&&d0x.code==200){e0x.data=d0x.data;n0x.bvg9X.B0x(e0x).I0x()}else{l0x.dW1x({clazz:"m-layer-w2",message:'私信 <a class="s-fc7" href="javascript:;" data-action="kf">@云音乐客服</a>',action:sG6A})}};u0x.be0x("/store/api/security/getQuestion",{type:"json",method:"get",onload:bHr0x,onerror:bHr0x})}})();
(function(){var c0x=NEJ.P,bd0x=NEJ.O,a9j=c0x("nej.e"),h0x=c0x("nej.v"),j0x=c0x("nej.u"),u0x=c0x("nej.j"),p0x=c0x("nm.d"),n0x=c0x("nm.l"),l0x=c0x("nm.x"),b0x,L0x;n0x.bvc9T=NEJ.C();b0x=n0x.bvc9T.M0x(n0x.ef1x);L0x=n0x.bvc9T.ct0x;b0x.ce0x=function(){this.cd0x="ntp-oldphonecheck"};b0x.bW0x=function(){this.cg0x();this.ed1x=a9j.C0x(this.o0x,"u-err")[0];this.bHt0x=a9j.C0x(this.o0x,"errTxt")[0];var cZ1x=a9j.C0x(this.o0x,"js-txt");this.CS8K=cZ1x[0];h0x.s0x(this.CS8K,"focus",this.bmi7b.f0x(this));h0x.s0x(this.CS8K,"keyup",this.bmk7d.f0x(this));h0x.s0x(this.o0x,"click",this.bN0x.f0x(this))};var sG6A=function(d0x){try{top.doMsgToServiceAction(d0x)}catch(e){}};b0x.bo0x=function(e0x){e0x=e0x||{};this.bp0x(e0x);this.dw1x=e0x;this.bU0x(false);this.CS8K.value=""};b0x.bC0x=function(){this.bH0x();if(this.dJ1x)this.dJ1x=clearInterval(this.dJ1x)};b0x.bmi7b=function(){a9j.x0x(this.CS8K,"u-txt-err")};b0x.bmk7d=function(d0x){if(/[^\d]/.test(this.CS8K.value))this.CS8K.value=this.CS8K.value.replace(/[^\d]/g,"")};b0x.bN0x=function(d0x){var H0x=h0x.ba0x(d0x,"d:action");if(!H0x)return;var U0x=a9j.v0x(H0x,"action");switch(U0x){case"next":this.cFW8O(d0x);break;case"send":this.IC2x(d0x);break;case"back":this.bgc8U(d0x);break;case"skip":this.NN3x(d0x);break}};b0x.cFW8O=function(d0x){var ff1x=this.DG8y();console.log(ff1x);if(!ff1x)return;u0x.be0x("/api/user/oldcellphone/check",{type:"json",method:"get",query:{phone:ff1x},onload:function(d0x){if(d0x&&d0x.code==200&&d0x.data&&d0x.data.cellphoneCheck){this.z0x("onok",{oldPhone:ff1x})}else if(d0x.data&&d0x.data.outOfLimitTimes){this.bC0x();l0x.dW1x({clazz:"m-layer-w2",message:'<div style="padding:0 20px;">手机号输错次数过多，为了安全，一天内您不能再使用本解绑方式，如有任何疑问请联系 <a class="s-fc7" href="javascript:;" data-action="kf">@云音乐客服</a>。</div>',action:sG6A})}else{this.bU0x("原手机号错误")}}.f0x(this),onerror:function(){l0x.dW1x({clazz:"m-layer-w2",message:'<div style="padding:0 20px;">您的登录环境异常，请联系 <a class="s-fc7" href="javascript:;" data-action="kf">@云音乐客服</a>。</div>',action:sG6A})}.f0x(this)})};b0x.DG8y=function(){var ff1x=this.gp2x||this.CS8K.value.trim();if(!ff1x)return this.bU0x("请输入手机号","mobile");return ff1x};b0x.bU0x=function(bB0x){console.log(this.ed1x);if(bB0x){a9j.x0x(this.ed1x,"f-hide");this.bHt0x.innerHTML=bB0x}else{a9j.w0x(this.ed1x,"f-hide");this.bHt0x.innerHTML=""}}})();
(function(){var c0x=NEJ.P,bd0x=NEJ.O,a9j=c0x("nej.e"),h0x=c0x("nej.v"),j0x=c0x("nej.u"),cj0x=c0x("nej.ut"),u0x=c0x("nej.j"),l0x=c0x("nm.x"),p0x=c0x("nm.d"),n0x=c0x("nm.l"),F0x=c0x("nm.m"),b0x,L0x;n0x.bdU8M=NEJ.C();b0x=n0x.bdU8M.M0x(cj0x.cP1x);b0x.bo0x=function(e0x){this.bp0x(e0x);this.dw1x=e0x;this.bHx0x=e0x.mobile;this.fI2x=e0x.countrycode||"86";this.nk4o=e0x.isBindPhone;this.S0x=p0x.mS4W.B0x();this.S0x.s0x("onsendcaptcha",this.rq5v.f0x(this));this.S0x.s0x("onsendcaptchaerror",this.ND3x.f0x(this));this.S0x.s0x("onchangemobile",this.bHy0x.f0x(this));this.S0x.s0x("onchangemobileerror",this.buZ9Q.f0x(this));h0x.s0x(window,"snsverify",this.cFS8K.f0x(this));this.bHB0x()};b0x.bC0x=function(){this.bH0x();this.S0x.V0x();if(this.dR1x)this.dR1x.V0x();if(this.wp7i)this.wp7i.V0x()};var sG6A=function(d0x){try{top.doMsgToServiceAction(d0x)}catch(e){}};b0x.bHB0x=function(){if(this.dR1x)this.dR1x.br0x();if(this.wp7i)this.wp7i.V0x();this.wp7i=l0x.kp3x({title:"更换手机号",clazz:"m-layer-find",txt:"txt-mobilestatus",onaction:function(d0x){if(d0x.action=="valid"){this.S0x.yx7q({data:{ctcode:this.fI2x,cellphone:this.bHx0x,isBindPhone:this.nk4o}})}else{this.cFG8y()}}.f0x(this)})};b0x.cFG8y=function(){var self=this;u0x.be0x("/api/user/specialuser",{type:"json",method:"get",onload:function(d0x){if(d0x&&d0x.code==200&&d0x.data){l0x.dW1x({clazz:"m-layer-w2",message:'请前往移动端app-设置-账号和绑定设置-更改绑定-手机号已停用自行进行换绑。如有后续疑问请联系<a class="s-fc7" href="javascript:;" data-action="kf">@云音乐客服</a>',action:sG6A})}else{self.cFF8x()}},onerror:function(){l0x.dW1x({clazz:"m-layer-w2",message:'请前往移动端app-设置-账号和绑定设置-更改绑定-手机号已停用自行进行换绑。如有后续疑问请联系<a class="s-fc7" href="javascript:;" data-action="kf">@云音乐客服</a>',action:sG6A})}})};b0x.cFF8x=function(){u0x.be0x("/api/user/binding/thirdaccount/intime/get",{type:"json",method:"get",onload:function(d0x){if(d0x&&d0x.code==200&&d0x.data&&d0x.data.length>0){this.cFE8w(d0x.data)}else{l0x.dW1x({clazz:"m-layer-w2",message:'请前往移动端app-设置-账号和绑定设置-更改绑定-手机号已停用自行进行换绑。如有后续疑问请联系<a class="s-fc7" href="javascript:;" data-action="kf">@云音乐客服</a>',action:sG6A})}}.f0x(this),onerror:function(){l0x.dW1x({clazz:"m-layer-w2",message:'请前往移动端app-设置-账号和绑定设置-更改绑定-手机号已停用自行进行换绑。如有后续疑问请联系<a class="s-fc7" href="javascript:;" data-action="kf">@云音乐客服</a>',action:sG6A})}.f0x(this)})};b0x.cFE8w=function(data){if(this.wp7i)this.wp7i.V0x();var hasWx=false,hasQQ=false;for(var i=0;i<data.length;i++){var item=data[i];if(item.type==5){hasQQ=true}else if(item.type==10){hasWx=true}}this.wp7i=l0x.kp3x({title:"第三方验证",clazz:"m-layer-verify",html:a9j.bZ0x("jst-mobilethirdaccount",{hasWx:hasWx,hasQQ:hasQQ}),onaction:function(d0x){this.t0x=parseInt(d0x.action,10);var hA2x={callbackType:"verify",clientType:"web2",forcelogin:true,snsType:this.t0x};F0x.RJ4N("/api/sns/authorize?"+j0x.cr0x(hA2x),"_blank",this.t0x,true);if(this.wp7i)this.wp7i.V0x()}.f0x(this)})};b0x.cFS8K=function(bk0x){console.log(bk0x,"snsverify");var isMatch=bk0x.result.result;console.log(isMatch,"isMatch");var snsType=this.t0x===5?"QQ":"微信";if(!isMatch){l0x.dW1x({clazz:"m-layer-w2",message:"当前"+snsType+"账号与绑定账号不匹配，请检查"+snsType+"是否登录"+'<br />或联系 <a class="s-fc7" href="javascript:;" data-action="kf">@云音乐客服</a> 修改绑定的手机号',action:sG6A});return}u0x.be0x("/api/user/replace/cellphone/safe/get",{type:"json",method:"get",onload:function(d0x){if(d0x&&d0x.code==200&&d0x.data){this.cFC8u()}else{l0x.dW1x({clazz:"m-layer-w2",message:'您的登录环境异常，请联系 <a class="s-fc7" href="javascript:;" data-action="kf">@云音乐客服</a> 修改绑定的手机号',action:sG6A})}}.f0x(this),onerror:function(){l0x.dW1x({clazz:"m-layer-w2",message:'您的登录环境异常，请联系 <a class="s-fc7" href="javascript:;" data-action="kf">@云音乐客服</a> 修改绑定的手机号',action:sG6A})}.f0x(this)})};b0x.cFC8u=function(){this.bdQ8I=n0x.bvc9T.I0x({title:"原手机号验证",onok:this.cFy8q.f0x(this)})};b0x.rq5v=function(bk0x){this.dR1x=n0x.pk4o.I0x({title:"更换手机号",mobile:this.bHx0x,countrycode:this.fI2x,okbutton:"下一步",onok:this.cFx8p.f0x(this),backbutton:"&lt;&nbsp;&nbsp;上一步",onback:this.bHB0x.f0x(this),isBindPhone:this.nk4o})};b0x.ND3x=function(d0x){n0x.bb0x.I0x({tip:(d0x||{}).message||"更换失败，请重试",type:2})};b0x.cFx8p=function(bJ0x){if(this.bdQ8I)this.bdQ8I.V0x();var bJ0x=bJ0x||{};this.dR1x=n0x.pk4o.I0x({title:"更换手机号",mobileLabel:"新手机号：",okbutton:"完成",onok:this.cFw8o.f0x(this,bJ0x.captcha)})};b0x.cFy8q=function(bJ0x){console.log(bJ0x,"inputmobile2");if(this.bdQ8I)this.bdQ8I.V0x();var bJ0x=bJ0x||{};this.cFv8n=bJ0x.oldPhone;this.dR1x=n0x.pk4o.I0x({title:"更换手机号",mobileLabel:"新手机号：",okbutton:"完成",onok:this.cFu8m.f0x(this)})};b0x.cFu8m=function(bk0x){this.bdO8G=bk0x.mobile;this.db1x=bk0x.captcha;this.fI2x=bk0x.countrycode||86;var queryObj={oldPhone:this.cFv8n,phone:this.bdO8G,captcha:this.db1x,password:"",countrycode:this.fI2x};u0x.be0x("/api/user/replacecellphone/v3",{type:"json",method:"post",data:j0x.cr0x(queryObj),onload:function(d0x){if(d0x&&d0x.code===200){this.bHy0x()}else{this.buZ9Q(d0x)}}.f0x(this),onerror:function(d0x){this.buZ9Q(d0x)}.f0x(this)})};b0x.cFw8o=function(cFo8g,bk0x){this.bdO8G=bk0x.mobile;this.db1x=bk0x.captcha;this.fI2x=bk0x.countrycode||86;this.S0x.cnu5z({data:{phone:this.bdO8G,captcha:this.db1x,countrycode:this.fI2x,oldcaptcha:cFo8g}})};b0x.bHy0x=function(bk0x){this.dR1x.br0x();n0x.bb0x.I0x({tip:"更换成功"});if(this.dw1x.onsuccess)this.dw1x.onsuccess({mobile:this.bdO8G})};b0x.buZ9Q=function(bk0x){if(bk0x.code==506){this.dR1x.cO1x(false);this.dR1x.bU0x(bk0x.message,"mobile")}else{this.dR1x.br0x();n0x.bb0x.I0x({tip:"更换失败，请重试",type:2})}}})();
(function(){var c0x=NEJ.P,bd0x=NEJ.O,bs0x=NEJ.F,a9j=c0x("nej.e"),h0x=c0x("nej.v"),u0x=c0x("nej.j"),G0x=c0x("nej.ut"),j0x=c0x("nej.u"),l0x=c0x("nm.x"),n0x=c0x("nm.l"),cx0x=c0x("api"),y0x=c0x("nm.w");var buQ9H=null,bHR1x=null;var cFj8b=function(ff1x,bHT1x){if(buQ9H)buQ9H.V0x();buQ9H=n0x.bdU8M.B0x({title:"更换手机号",mobile:ff1x,onsuccess:function(bk0x){if(bHT1x)bHT1x({cellphone:bk0x.mobile})}})};var cFd8V=function(e0x){u0x.be0x("/api/sms/captcha/sent",{type:"json",query:{cellphone:e0x.mobile,channel:"new"},onload:function(d0x){if(d0x.code!=200)return n0x.bb0x.I0x({tip:d0x.message||"验证码发送失败",type:2});bHR1x=n0x.pk4o.I0x({title:e0x.title||"验证手机号",mobile:e0x.mobile,countrycode:e0x.countrycode,okbutton:e0x.ntext||"下一步",onok:function(bk0x){bHR1x.br0x();if(e0x.onnext)e0x.onnext(bk0x)}})},onerror:function(){n0x.bb0x.I0x({tip:"验证码发送失败",type:2})}})};cx0x.changePhone=cFj8b;cx0x.phoneCode=cFd8V;cx0x.validateQuestion=l0x.cFZ8R})();
(function(){var c0x=NEJ.P,bs0x=NEJ.F,a9j=c0x("nej.e"),h0x=c0x("nej.v"),j0x=c0x("nej.u"),bl0x=c0x("nej.h"),P0x=c0x("nej.p");var jD3x={opacity:1,"z-index":1,background:1,"font-weight":1,filter:1};bl0x.bVC3x=function(iR3x){return jD3x[iR3x]===undefined&&iR3x.indexOf("color")<0};bl0x.baM7F=function(g0x,og4k,ry5D){ry5D=ry5D.slice(0,-1);a9j.bc0x(g0x,"transition",ry5D);a9j.fo2x(g0x,og4k);return this};bl0x.SK5P=function(g0x,W0x,oj4n){a9j.fo2x(g0x,W0x);a9j.bc0x(g0x,"transition","none");oj4n.call(null,W0x);return this}})();
(function(){var c0x=NEJ.P,bs0x=NEJ.F,bl0x=c0x("nej.h"),P0x=c0x("nej.p");if(P0x.nU4Y.trident1)return;bl0x.HV2x=function(){return!0}})();
(function(){var c0x=NEJ.P,P0x=c0x("nej.ut"),b0x;if(!!P0x.Li3x)return;P0x.Li3x=NEJ.C();b0x=P0x.Li3x.M0x(P0x.IT2x);b0x.bo0x=function(e0x){e0x=NEJ.X({},e0x);e0x.timing="easeout";this.bp0x(e0x)}})();
(function(){var c0x=NEJ.P,P0x=c0x("nej.ut"),b0x;if(!!P0x.bxZ9Q)return;P0x.bxZ9Q=NEJ.C();b0x=P0x.bxZ9Q.M0x(P0x.IT2x);b0x.bo0x=function(e0x){e0x=NEJ.X({},e0x);e0x.timing="easeinout";this.bp0x(e0x)}})();
(function(){var c0x=NEJ.P,bs0x=NEJ.F,a9j=c0x("nej.e"),h0x=c0x("nej.v"),j0x=c0x("nej.u"),bl0x=c0x("nej.h"),P0x=c0x("nej.p"),dh1x=c0x("nej.x"),cj0x=c0x("nej.ut");if(P0x.nU4Y.trident)return;var bVB3x={linear:cj0x.uv6p,"ease-in":cj0x.HS2x,"ease-out":cj0x.Li3x,"ease-in-out":cj0x.bxZ9Q};bl0x.baM7F=function(){var chj4n=function(og4k,ry5D){var cQ1x="";j0x.eS1x(og4k,function(D0x,Z0x){cQ1x+=ry5D.replace("all",Z0x)});return cQ1x};var chk4o=function(D0x,iR3x){if(iR3x==="filter"){D0x=j0x.LO3x(D0x,0);D0x="alpha(opacity="+D0x+")"}if(iR3x==="z-index")D0x=j0x.LO3x(D0x,0);return D0x};var chl4p=function(D0x){return bVB3x[D0x.split(" ")[2]]};var chn4r=function(g0x,D0x,og4k,oj4n,r0x){var D0x=D0x.split(" "),iR3x=D0x[0],en1x=parseFloat(a9j.dk1x(g0x,iR3x))||0,nR4V=parseFloat(og4k[iR3x])||0,cho4s=bVB3x[D0x[2]],byp9g=D0x[1].slice(0,-1)*1e3+D0x[3].slice(0,1)*1e3;if(byp9g>=g0x.sumTime){g0x.sumTime=byp9g;g0x.isLastOne=r0x}var ST5Y=nej.p.dB1x.engine==="trident"&&nej.p.dB1x.release-5<0;if(iR3x==="opacity"&&ST5Y){iR3x="filter";var ej1x=a9j.dk1x(g0x,iR3x);en1x=parseFloat(ej1x.split("=")[1])||0;nR4V=nR4V*100}var e0x={from:{offset:en1x},to:{offset:nR4V},duration:byp9g,onupdate:function(bn0x){var D0x=bn0x.offset;if(!bl0x.bVC3x(iR3x)){D0x=chk4o(D0x,iR3x);a9j.bc0x(g0x,iR3x,D0x)}else{a9j.bc0x(g0x,iR3x,D0x+"px")}},onstop:function(iR3x){var Ln3x=g0x.effects[r0x];if(!Ln3x)return;Ln3x=cho4s.V0x(Ln3x);if(g0x.isLastOne===r0x)oj4n.apply(this)}.f0x(this,r0x)};return e0x};return bl0x.baM7F.eP1x(function(d0x){d0x.stopped=!0;var k0x=d0x.args;var g0x=k0x[0],og4k=k0x[1],ry5D=k0x[2],oj4n=k0x[3];g0x.sumTime=0,g0x.isLastOne=0;var bVo3x=[];if(ry5D.indexOf("all")>-1)ry5D=chj4n(og4k,ry5D);var byw9n=ry5D.slice(0,-1);byw9n=byw9n.split(",");g0x.effects=[];j0x.bg0x(byw9n,function(D0x,r0x){var e0x=chn4r(g0x,D0x,og4k,oj4n,r0x);bVo3x.push({o:e0x,c:chl4p(D0x)})});j0x.bg0x(bVo3x,function(q0x,r0x){var Ln3x=q0x.c.B0x(q0x.o);g0x.effects[r0x]=Ln3x;Ln3x.ey1x()});return this})}();bl0x.SK5P=bl0x.SK5P.eP1x(function(d0x){d0x.stopped=!0;var k0x=d0x.args;var g0x=k0x[0];j0x.bg0x(g0x.effects,function(bd0x){bd0x.bh0x()});g0x.effects=[];return this})})();
(function(){var c0x=NEJ.P,bs0x=NEJ.F,bl0x=c0x("nej.h"),a9j=c0x("nej.e"),P0x=c0x("nej.p");if(P0x.nU4Y.gecko)return;bl0x.baM7F=function(g0x,og4k,ry5D){ry5D=ry5D.slice(0,-1);a9j.bc0x(g0x,"transition",ry5D);setTimeout(function(){a9j.fo2x(g0x,og4k)},33);return this}})();
(function(){var c0x=NEJ.P,bs0x=NEJ.F,bl0x=c0x("nej.h"),P0x=c0x("nej.p");if(P0x.nU4Y.webkit)return})();
(function(){var c0x=NEJ.P,bs0x=NEJ.F,bl0x=c0x("nej.h"),P0x=c0x("nej.p");if(P0x.nU4Y.presto)return})();
(function(){var c0x=NEJ.P,bd0x=NEJ.O,bs0x=NEJ.F,j0x=c0x("nej.u"),bl0x=c0x("nej.h"),a9j=c0x("nej.e"),h0x=c0x("nej.v"),P0x=c0x("nej.ut"),wr7k;if(!!P0x.ts6m)return;P0x.ts6m=NEJ.C();wr7k=P0x.ts6m.M0x(P0x.cP1x);wr7k.bo0x=function(e0x){this.bp0x(e0x);this.pj4n=a9j.A0x(e0x.node);this.bVl3x=e0x.styles||[];this.bVk3x=e0x.onstop||bs0x;this.byE9v=e0x.transition||[];this.SZ5e={};this.bVj3x=this.chB4F();if(!!bl0x.HV2x&&bl0x.HV2x()){setTimeout(this.HV2x.f0x(this),this.byL9C*1e3)}else{this.bY0x([[this.pj4n,"transitionend",this.HV2x.f0x(this)]])}};wr7k.bC0x=function(){if(!!this.Lr3x){this.Lr3x=window.clearInterval(this.Lr3x)}delete this.pj4n;delete this.bVl3x;delete this.bVj3x;delete this.SZ5e;delete this.byQ9H;delete this.byE9v;delete this.Lr3x;this.bH0x()};wr7k.HV2x=function(d0x){if(!!bl0x.HV2x&&bl0x.HV2x()){this.byR9I=!1;this.bh0x();return}if(!!this.byR9I&&this.chE4I(d0x)){this.byR9I=!1;this.bh0x()}};wr7k.chE4I=function(d0x){var Z0x=d0x.propertyName;if(Z0x===this.byQ9H||Z0x.indexOf(this.byQ9H)>-1)return!0;else return!1};wr7k.chB4F=function(){var chM4Q=function(cm0x){var k0x=cm0x.split(":"),iR3x=k0x[0],D0x=k0x[1],g0x=this.pj4n;if(D0x.indexOf("=")>-1){var qP5U=parseInt(a9j.dk1x(g0x,iR3x))||0;var dq1x=parseInt(D0x.split("=")[1]);if(D0x.indexOf("+")>-1)D0x=qP5U+dq1x;else D0x=qP5U-dq1x}if(bl0x.bVC3x(iR3x)){if(D0x.toString().indexOf("px")<0)D0x+="px"}this.SZ5e[iR3x]=D0x};var chQ4U=function(r0x){if(!this.byE9v[r0x])return"";var tu6o=this.byE9v[r0x],G0x=tu6o.duration+tu6o.delay;if(G0x>=this.byL9C){this.byL9C=G0x;this.byQ9H=tu6o.property}return tu6o.property+" "+tu6o.duration+"s "+tu6o.timing+" "+tu6o.delay+"s,"};return function(){var bUX3x="";this.byL9C=0;j0x.bg0x(this.bVl3x,function(cm0x,r0x){chM4Q.call(this,cm0x);bUX3x+=chQ4U.call(this,r0x)}.f0x(this));return bUX3x}}();wr7k.cia5f=function(){this.jc3x={};j0x.eS1x(this.SZ5e,function(D0x,iR3x){this.jc3x[iR3x]=a9j.dk1x(this.pj4n,iR3x)}.f0x(this));this.z0x("onplaystate",this.jc3x)};wr7k.wJ7C=function(){this.byR9I=!0;bl0x.baM7F(this.pj4n,this.SZ5e,this.bVj3x,this.bVk3x);this.Lr3x=window.setInterval(this.cia5f.f0x(this),49);return this};wr7k.bh0x=function(){bl0x.SK5P(this.pj4n,this.SZ5e,this.bVk3x);this.Lr3x=window.clearInterval(this.Lr3x);return this};wr7k.cPu0x=function(){};wr7k.cPs0x=function(){}})();
(function(){var c0x=NEJ.P,bs0x=NEJ.F,j0x=c0x("nej.u"),a9j=c0x("nej.e"),j0x=c0x("nej.u"),P0x=c0x("nej.ut");a9j.baJ7C=function(e0x){e0x=e0x||{};e0x.onstop=e0x.onstop||bs0x;e0x.onplaystate=e0x.onplaystate||bs0x;return e0x};a9j.bUJ2x=function(){var cin5s=function(g0x,baI7B,ST5Y){var hx2x,fD2x=true;if(!!ST5Y){j0x.eS1x(baI7B,function(D0x,Z0x){if(Z0x==="opacity"){Z0x="filter";var ej1x=a9j.dk1x(g0x,Z0x);if(ej1x===""){a9j.bc0x(g0x,"filter","alpha(opacity=100)");hx2x=100}else{hx2x=parseFloat(ej1x.split("=")[1])||0}D0x=D0x*100}else{hx2x=a9j.dk1x(g0x,Z0x)}if(parseInt(hx2x)===D0x)fD2x=false}.f0x(this))}else{j0x.eS1x(baI7B,function(D0x,Z0x){hx2x=a9j.dk1x(g0x,Z0x);if(parseInt(hx2x)===D0x)fD2x=false}.f0x(this))}return fD2x};return function(g0x,baI7B){var ST5Y=nej.p.dB1x.engine==="trident"&&nej.p.dB1x.release-5<0;if(!cin5s(g0x,baI7B,ST5Y))return!1;return!0}}();a9j.bUD2x=function(){var ciA5F=function(g0x){var OH4L=a9j.dk1x(g0x,"display");if(OH4L==="none")return!1;return!0};return function(g0x,e0x,kP3x){var KF3x=e0x.opacity||kP3x;g0x=a9j.A0x(g0x);if(!ciA5F.call(g0x))return!1;if(!!g0x.effect)return!1;if(!a9j.bUJ2x(g0x,{opacity:KF3x}))return!1;e0x=a9j.baJ7C(e0x);g0x.effect=P0x.ts6m.B0x({node:g0x,transition:[{property:"opacity",timing:e0x.timing||"ease-in",delay:e0x.delay||0,duration:e0x.duration||1}],styles:["opacity:"+KF3x],onstop:function(W0x){g0x.effect=P0x.ts6m.V0x(g0x.effect);e0x.onstop.call(null,W0x)},onplaystate:e0x.onplaystate.f0x(g0x.effect)});g0x.effect.wJ7C();return this}}.f0x(this)();a9j.baG7z=function(g0x,e0x){return a9j.bUD2x(g0x,e0x,1)};a9j.ciB5G=function(g0x,e0x){return a9j.bUD2x(g0x,e0x,0)};a9j.ciC5H=function(g0x){a9j.bzq9h(g0x);return this};a9j.bzq9h=function(g0x){g0x=a9j.A0x(g0x);if(g0x.effect&&g0x.effect.bh0x()){if(!!g0x.effect)g0x.effect=P0x.ts6m.V0x(g0x.effect)}return this};a9j.bUv2x=function(g0x,oN4R,e0x){g0x=a9j.A0x(g0x);if(!!g0x.effect)return!1;if(!a9j.bUJ2x(g0x,oN4R))return!1;e0x=a9j.baJ7C(e0x);e0x.duration=e0x.duration||[];var gr2x=oN4R.top||0,ht2x=oN4R.left||0;g0x.effect=P0x.ts6m.B0x({node:g0x,transition:[{property:"top",timing:e0x.timing||"ease-in",delay:e0x.delay||0,duration:e0x.duration[0]||1},{property:"left",timing:e0x.timing||"ease-in",delay:e0x.delay||0,duration:e0x.duration[1]||1}],styles:["top:"+gr2x,"left:"+ht2x],onstop:function(W0x){e0x.onstop.call(null,W0x);g0x.effect=P0x.ts6m.V0x(g0x.effect)},onplaystate:e0x.onplaystate.f0x(g0x.effect)});g0x.effect.wJ7C();return this};a9j.bUu2x=function(){return function(g0x,oN4R,e0x){g0x=a9j.A0x(g0x);if(!!g0x.effect)return!1;e0x=a9j.baJ7C(e0x);var k0x=oN4R.split(":"),ciH5M=k0x[0],bUr2x=[];bUr2x.push(oN4R);g0x.effect=P0x.ts6m.B0x({node:g0x,transition:[{property:ciH5M,timing:e0x.timing||"ease-in",delay:e0x.delay||0,duration:e0x.duration||1}],styles:bUr2x,onstop:function(W0x){e0x.onstop.call(null,W0x);g0x.effect=P0x.ts6m.V0x(g0x.effect)},onplaystate:e0x.onplaystate.f0x(g0x.effect)});g0x.effect.wJ7C();return this}}();a9j.cPm0x=function(){var bzx9o=function(g0x,t0x){return t0x=="height"?g0x.clientHeight:g0x.clientWidth};return function(g0x,t0x,e0x){g0x=a9j.A0x(g0x);if(!!g0x.effect)return!1;e0x=a9j.baJ7C(e0x);var D0x=e0x.value||false;if(!D0x){a9j.bc0x(g0x,"display","block");var g0x=a9j.A0x(g0x);D0x=bzx9o(g0x,t0x)}var fD2x=a9j.dk1x(g0x,"visibility");if(fD2x==="hidden"){g0x.style.height=0;a9j.bc0x(g0x,"visibility","inherit");g0x.effect=P0x.ts6m.B0x({node:g0x,transition:[{property:t0x,timing:e0x.timing||"ease-in",delay:e0x.delay||0,duration:e0x.duration||1}],styles:[t0x+":"+D0x],onstop:function(W0x){e0x.onstop.call(null,W0x);g0x.effect=P0x.ts6m.V0x(g0x.effect);baz7s=window.clearTimeout(baz7s)},onplaystate:e0x.onplaystate.f0x(g0x.effect)})}else{g0x.style.height=D0x;g0x.effect=P0x.ts6m.B0x({node:g0x,transition:[{property:t0x,timing:e0x.timing||"ease-in",delay:e0x.delay||0,duration:e0x.duration||1}],styles:[t0x+":"+0],onstop:function(W0x){a9j.bc0x(g0x,"visibility","hidden");a9j.bc0x(g0x,t0x,"auto");e0x.onstop.call(null,W0x);g0x.effect=P0x.ts6m.V0x(g0x.effect);baz7s=window.clearTimeout(baz7s)},onplaystate:e0x.onplaystate.f0x(g0x.effect)})}var baz7s=window.setTimeout(function(){g0x.effect.wJ7C()}.f0x(this),0);return this}}()})();
(function(){var c0x=NEJ.P,bd0x=NEJ.O,bs0x=NEJ.F,a9j=c0x("nej.e"),h0x=c0x("nej.v"),G0x=c0x("nej.ut"),j0x=c0x("nej.u"),bG0x=c0x("nej.ui"),l0x=c0x("nm.x"),p0x=c0x("nm.d"),y0x=c0x("nm.w"),cx0x=c0x("api"),b0x,L0x;y0x.Gd9U=NEJ.C();b0x=y0x.Gd9U.M0x(bG0x.ep1x);L0x=y0x.Gd9U.ct0x;b0x.ce0x=function(){this.cd0x="m-image-preview"};b0x.bW0x=function(){this.cg0x();var k0x=a9j.C0x(this.o0x,"j-flag");this.Vh5m=k0x[0];this.no4s=k0x[1];this.ei1x=k0x[2];this.RT4X=k0x[3];this.RZ4d=k0x[4];this.Tv5A=k0x[5]};b0x.bo0x=function(e0x){this.bp0x(e0x);this.cFb8T();this.jO3x=e0x.urls;this.gS2x=this.jO3x.length;if(this.gS2x==1){a9j.bc0x(this.RT4X,"display","none");a9j.bc0x(this.RZ4d,"display","none")}this.bY0x([[this.o0x,"click",this.bN0x.f0x(this)],[document,"keydown",this.cFa8S.f0x(this)]]);l0x.bBf0x(this.jO3x,function(pl5q,eG1x){this.rh5m=eG1x;this.mY4c(e0x.index||0)}.f0x(this))};b0x.bC0x=function(){this.bH0x();a9j.w0x(this.no4s,"fail-loading");a9j.x0x(this.no4s,"f-hide");a9j.bc0x(this.RT4X,"display","");a9j.bc0x(this.RZ4d,"display","");a9j.x0x(this.RT4X,"z-cntdis");a9j.x0x(this.gE2x,"z-cntdis");a9j.x0x(this.RZ4d,"z-cntdis");a9j.x0x(this.Gl9c,"z-cntdis");this.ei1x.src="";delete this.jO3x;delete this.gS2x};b0x.bN0x=function(d0x){var g0x=h0x.ba0x(d0x,"action");if(a9j.bE0x(g0x,"z-dis"))return;switch(a9j.v0x(g0x,"action")){case"close":this.V0x();break;case"prev":this.mY4c(this.cu0x-1);break;case"next":this.mY4c(this.cu0x+1);break;case"go":this.mY4c(a9j.v0x(g0x,"index"));break}};b0x.mY4c=function(r0x){if(r0x<=0){a9j.w0x(this.RT4X,"z-cntdis")}else{a9j.x0x(this.RT4X,"z-cntdis")}if(r0x>=this.gS2x-1){a9j.w0x(this.RZ4d,"z-cntdis")}else{a9j.x0x(this.RZ4d,"z-cntdis")}if(r0x<0||r0x>=this.jO3x.length)return;var dl1x=this.jO3x[r0x];this.Tv5A.href=dl1x+"?param=9999y9999";if(this.rh5m&&this.rh5m[r0x]){a9j.w0x(this.no4s,"f-hide");this.ei1x.src=dl1x}else{this.ei1x.src="";a9j.x0x(this.no4s,"f-hide");a9j.x0x(this.no4s,"fail-loading")}this.cu0x=r0x};cx0x.imageView=function(pl5q,r0x){y0x.Gd9U.B0x({parent:document.body,urls:pl5q,index:r0x})};b0x.cFa8S=function(d0x){h0x.bh0x(d0x);switch(d0x.keyCode){case 37:this.mY4c(this.cu0x-1);break;case 39:this.mY4c(this.cu0x+1);break;case 27:this.V0x();break;case 38:this.Vh5m.scrollTop-=20;break;case 40:this.Vh5m.scrollTop+=20;break}};b0x.cFb8T=function(){var buI9z=a9j.dt1x("input");this.o0x.appendChild(buI9z);buI9z.focus();a9j.cS1x(buI9z)}})();
(function(){var c0x=NEJ.P,a9j=c0x("nej.e"),h0x=c0x("nej.v"),j0x=c0x("nej.u"),dq1x=c0x("nej.p"),u0x=c0x("nej.j"),gJ2x=c0x("nm.ut"),y0x=c0x("nm.w"),n0x=c0x("nm.l"),l0x=c0x("nm.x"),b0x,L0x;n0x.bAl9c=NEJ.C();b0x=n0x.bAl9c.M0x(n0x.ef1x);L0x=n0x.bAl9c.ct0x;b0x.cy0x=function(e0x){e0x.title="转发动态";this.cC1x(e0x)};b0x.bo0x=function(e0x){l0x.rx5C(function(){if(e0x.onclose===undefined)e0x.onclose=function(){this.br0x()}.f0x(this);this.bp0x(e0x);this.jk3x=e0x.rid;this.nS4W=e0x.uid;this.cjd5i=e0x.text;this.gM2x.value=this.cjd5i;this.hW2x=y0x.Uk5p.B0x({parent:document.body,target:this.gM2x})}.f0x(this),true);u0x.be0x("/api/middle/clientcfg/config/list",{type:"json",method:"get",query:{moduleName:"preload"},onload:function(res){var status=res.data["preload#security"].emojiStatus[0].status;if(status===5){a9j.w0x(this.bAs9j,"f-hide")}else{a9j.x0x(this.bAs9j,"f-hide")}}.f0x(this)})};b0x.ce0x=function(){this.cd0x="m-wgt-forward"};b0x.bW0x=function(){this.cg0x();var bR0x=a9j.C0x(this.o0x,"j-flag");this.CR8J=bR0x[0];this.gM2x=bR0x[1];this.bAx9o=bR0x[2];this.bAs9j=bR0x[3];this.Ul5q=bR0x[4];this.jY3x=bR0x[5];this.bUa2x=bR0x[6];this.cjw5B=bR0x[7];this.BG8y=bR0x[8];h0x.s0x(this.gM2x,"input",this.fc1x.f0x(this));h0x.s0x(this.gM2x,"keyup",this.bjr7k.f0x(this));h0x.s0x(this.gM2x,"click",this.mL4P.f0x(this));h0x.s0x(this.Ul5q,"click",this.bAC9t.f0x(this));h0x.s0x(this.bAs9j,"click",this.bAF9w.f0x(this));h0x.s0x(this.bUa2x,"click",this.LW3x.f0x(this));h0x.s0x(this.cjw5B,"click",this.zM7F.f0x(this));l0x.ke3x()};b0x.bC0x=function(){this.bH0x();if(this.hP2x){this.hP2x.V0x();delete this.hP2x}if(this.hW2x){this.hW2x.V0x();delete this.hW2x}};b0x.fc1x=function(d0x){dq1x.dB1x.browser=="ie"&&dq1x.dB1x.version<"7.0"?setTimeout(this.gx2x.f0x(this),0):this.gx2x()};b0x.bjr7k=function(d0x){this.mL4P();this.fc1x()};b0x.gx2x=function(){var bt0x=this.gM2x.value.trim().length;this.jY3x.innerHTML=!bt0x?"140":140-bt0x;bt0x>140?a9j.w0x(this.jY3x,"s-fc6"):a9j.x0x(this.jY3x,"s-fc6");if(!bt0x||bt0x==0)a9j.bc0x(this.CR8J,"display","block");else a9j.bc0x(this.CR8J,"display","none")};b0x.bAC9t=function(d0x){h0x.bh0x(d0x);!!this.hP2x&&this.hP2x.br0x();this.hW2x.Ui5n();this.gx2x()};b0x.bAF9w=function(d0x){h0x.bh0x(d0x);if(!this.hP2x){this.hP2x=n0x.LM3x.B0x({parent:this.bAx9o});this.hP2x.s0x("onselect",this.Bj8b.f0x(this))}this.hP2x.I0x()};b0x.Bj8b=function(d0x){var bq0x="["+d0x.text+"]";gJ2x.LF3x(this.gM2x,this.pG5L,bq0x);this.gx2x();h0x.z0x(this.gM2x,"keyup")};b0x.mL4P=function(){this.pG5L=gJ2x.wc6W(this.gM2x)};b0x.LW3x=function(d0x){h0x.bh0x(d0x);if(this.eb1x())return;if(this.gM2x.value.trim().length>140){this.dY1x("字数超过140个字符");return}l0x.kI3x(this.cjz5E.f0x(this))};b0x.cjz5E=function(co0x){var baq7j=this.gM2x.value.trim();var hR2x=window.GUser.userId;var E0x=this.jk3x;var Y0x="/api/event/forward";var i0x={forwards:baq7j,id:this.jk3x,eventUserId:this.nS4W,checkToken:co0x||""};i0x=j0x.cr0x(i0x);this.eb1x(!0);var gC2x=u0x.be0x(Y0x,{sync:false,type:"json",data:i0x,method:"POST",onload:this.Dh8Z.f0x(this),onerror:this.ea1x.f0x(this)})};b0x.Dh8Z=function(m0x){this.eb1x(!1);if(m0x.code!=200){var bB0x="转发失败";switch(m0x.code){case 250:bB0x=m0x.message||m0x.msg||"分享异常";break;case 404:bB0x=m0x.message||"该动态已被删除";break;case 407:bB0x="输入内容包含有关键字";break;case 408:bB0x="转发太快了，过会再分享吧";break;case 315:bB0x="根据对方设置，你没有该操作权限";break}this.dY1x(bB0x);return}gJ2x.bXW3x(this.gM2x.value);this.br0x();n0x.bb0x.I0x({tip:"转发成功！",autoclose:true});this.z0x("onforward",{id:this.jk3x,eventUserId:this.nS4W})};b0x.ea1x=function(i0x){this.eb1x(!1);this.dY1x(bB0x)};b0x.eb1x=function(de1x){return L0x.eb1x(this.bUa2x,de1x,"转发","转发中 ...")};b0x.dY1x=function(bB0x){return L0x.dY1x(this.BG8y,bB0x)};b0x.zM7F=function(d0x){h0x.cn0x(d0x);this.br0x()};b0x.nt4x=function(){this.gM2x.focus();if(dq1x.dB1x.browser=="ie"&&parseInt(dq1x.dB1x.version)<10)return;gJ2x.bds7l(this.gM2x,{start:0,end:0});this.mL4P()};b0x.br0x=function(){L0x.br0x.call(this);if(this.hP2x){this.hP2x.V0x();delete this.hP2x}if(this.hW2x){this.hW2x.V0x();delete this.hW2x}};b0x.I0x=function(e0x){L0x.I0x.call(this);this.dY1x();this.eb1x(!1);this.gx2x();this.nt4x();this.pG5L=gJ2x.wc6W(this.gM2x)};l0x.bAL9C=function(e0x){if(!GUser||!GUser.userId||GUser.userId<=0){n0x.sr6l.I0x({title:"登录"});return}if(e0x.title===undefined)e0x.title="转发动态";n0x.bAl9c.I0x(e0x)}})();
(function(){var c0x=NEJ.P,bd0x=NEJ.O,bs0x=NEJ.F,a9j=c0x("nej.e"),h0x=c0x("nej.v"),j0x=c0x("nej.u"),G0x=c0x("nej.ut"),u0x=c0x("nej.j"),l0x=c0x("nm.x"),p0x=c0x("nm.d"),gJ2x=c0x("nm.ut"),n0x=c0x("nm.l"),b0x,L0x;n0x.bcg7Z=NEJ.C();b0x=n0x.bcg7Z.M0x(n0x.ef1x);L0x=n0x.bcg7Z.ct0x;b0x.cy0x=function(){this.cC1x()};b0x.bW0x=function(){this.cg0x();var k0x=a9j.C0x(this.o0x,"j-flag");this.eY1x=k0x[0];this.Vt5y=k0x[1];this.cD1x=k0x[2];this.bZv3x=k0x[3];this.ed1x=k0x[4];h0x.s0x(this.o0x,"click",this.eI1x.f0x(this));h0x.s0x(this.eY1x,"input",this.fc1x.f0x(this));h0x.s0x(this.eY1x,"keyup",this.wv7o.f0x(this))};b0x.ce0x=function(){this.cd0x="m-sharesingle-layer"};b0x.bo0x=function(e0x){e0x.parent=e0x.parent||document.body;e0x.title=e0x.title||"分享";e0x.draggable=!0;e0x.mask=!0;e0x.clazz="m-layer m-layer-w2";this.bp0x(e0x);this.eY1x.value=e0x.mesg||"";this.bj0x={id:e0x.rid,type:e0x.type,picUrl:e0x.purl,snsType:e0x.snsType,resourceUrl:e0x.rurl};if(!this.bj0x.resourceUrl)delete this.bj0x.resourceUrl;this.HK2x();this.dY1x(null);this.eb1x(false)};b0x.eI1x=function(d0x){var g0x=h0x.ba0x(d0x,"d:action"),U0x=a9j.v0x(g0x,"action");h0x.cn0x(d0x);switch(U0x){case"txt":this.mL4P();break;case"emt":h0x.uk6e(d0x);!!this.hW2x&&this.hW2x.Gr9i();if(!this.hP2x){this.hP2x=n0x.LM3x.B0x({parent:this.Vt5y});this.hP2x.s0x("onselect",this.Bj8b.f0x(this))}this.hP2x.I0x();break;case"ok":this.dY1x(null);if(this.pp5u)return;if(this.eY1x.value.trim().length>140){this.dY1x("字数超过140个字符");return}this.eb1x(true);this.bj0x.msg=this.eY1x.value;if(!this.bj0x.resourceUrl){delete this.bj0x.resourceUrl}u0x.be0x("/api/sns/share/resource",{type:"json",method:"post",data:j0x.cr0x(this.bj0x),onload:this.we6Y.f0x(this),onerror:this.we6Y.f0x(this)});break;case"cc":this.br0x();break}};b0x.Bj8b=function(d0x){var bq0x="["+d0x.text+"]";gJ2x.LF3x(this.eY1x,this.pG5L,bq0x);this.HK2x()};b0x.fc1x=function(){this.HK2x();this.mL4P()};b0x.wv7o=function(){this.HK2x();this.mL4P()};b0x.HK2x=function(){var bt0x=this.eY1x.value.trim().length;this.cD1x.innerText=140-bt0x;bt0x>140?a9j.fm2x(this.cD1x,"s-fc4","s-fc6"):a9j.fm2x(this.cD1x,"s-fc6","s-fc4")};b0x.mL4P=function(){this.pG5L=gJ2x.wc6W(this.eY1x)};b0x.we6Y=function(d0x){var jB3x={407:"输入内容包含有关键字",404:"分享的资源不存在",408:"分享太快了，过会再分享吧"};if(d0x.code==200){this.z0x("onsuccess",d0x);if(!d0x.stopped){n0x.bb0x.I0x({tip:"分享成功！",autoclose:true})}this.br0x()}else{this.dY1x(jB3x[d0x.code]||"分享失败")}this.eb1x(false)};b0x.dY1x=function(bZx3x){if(bZx3x){this.ed1x.innerHTML='<i class="u-icn u-icn-25"></i>'+bZx3x;a9j.x0x(this.ed1x,"f-hide")}else{a9j.w0x(this.ed1x,"f-hide")}};b0x.eb1x=function(bcd7W){this.pp5u=bcd7W;if(bcd7W){this.bZv3x.innerHTML="<i>分享中...</i>"}else{this.bZv3x.innerHTML="<i>分享</i>"}};b0x.I0x=function(){L0x.I0x.call(this);var dC1x=this.eY1x.value.length;gJ2x.bds7l(this.eY1x,{start:dC1x,end:dC1x,text:""});this.mL4P()}})();
(function(){var c0x=NEJ.P,bd0x=NEJ.O,bs0x=NEJ.F,a9j=c0x("nej.e"),h0x=c0x("nej.v"),j0x=c0x("nej.u"),G0x=c0x("nej.ut"),u0x=c0x("nej.j"),l0x=c0x("nm.x"),p0x=c0x("nm.d"),cx0x=c0x("api"),n0x=c0x("nm.l"),b0x,L0x;n0x.bId1x=NEJ.C();b0x=n0x.bId1x.M0x(n0x.ef1x);b0x.bW0x=function(){this.cg0x();var k0x=a9j.C0x(this.o0x,"j-flag");h0x.s0x(this.o0x,"click",this.bN0x.f0x(this))};b0x.ce0x=function(){this.cd0x="m-simple-share-layer"};b0x.bo0x=function(e0x){e0x.clazz="m-layer-w6";if(!e0x.shareType)e0x.parent=e0x.parent||document.body;e0x.title=e0x.title||"分享";e0x.draggable=!0;e0x.mask=e0x.mask||true;this.bp0x(e0x);this.bj0x={id:e0x.id||0,type:e0x.type||"activity",picUrl:e0x.picUrl,msg:e0x.text,resourceUrl:e0x.resourceUrl,summary:e0x.summary};this.bY0x([[window,"snsbind",this.VK5P.f0x(this)],[window,"snsbinderror",this.br0x.f0x(this)]]);this.vZ6T={rid:this.bj0x.id,rurl:this.bj0x.resourceUrl,purl:this.bj0x.picUrl,mesg:this.bj0x.msg,type:this.bj0x.type,onsuccess:e0x.onsuccess};if(e0x.shareType){this.bIe1x(e0x.shareType)}};b0x.bN0x=function(d0x){var g0x=h0x.ba0x(d0x,"d:type"),t0x=a9j.v0x(g0x,"type");this.bIe1x(t0x)};b0x.bIe1x=function(t0x){switch(t0x){case"xlwb":case"rr":case"db":var xL7E={xlwb:2,rr:4,db:3},Sq4u=xL7E[t0x],vb6V=localCache.bcX7Q("user.bindings")||[],r0x=j0x.dx1x(vb6V,function(q0x){return q0x.type==Sq4u&&!q0x.expired});if(r0x>=0){this.Ac8U(Sq4u)}else{var hA2x={snsType:Sq4u,callbackType:"Binding",clientType:"web2",forcelogin:true,csrf_token:u0x.gV2x("__csrf")};top.window.open("/api/sns/authorize?"+j0x.cr0x(hA2x))}break;case"wx":case"yx":var hA2x={resourceUrl:this.bj0x.resourceUrl,type:t0x};top.open("/share/QRCode?"+j0x.cr0x(hA2x));this.br0x();break;case"qzone":var cq0x={url:this.bj0x.resourceUrl,title:this.bj0x.msg||"",pics:this.bj0x.picUrl,summary:this.bj0x.summary};top.open("http://sns.qzone.qq.com/cgi-bin/qzshare/cgi_qzshare_onekey?"+j0x.cr0x(cq0x));this.br0x();break;case"lofter":var cq0x={from:"cloudmusic",image:this.bj0x.picUrl,source:"网易云音乐",sourceurl:this.bj0x.resourceUrl,content:this.bj0x.msg};top.open("http://www.lofter.com/sharephoto/?"+j0x.cr0x(cq0x));this.br0x();break}};b0x.VK5P=function(d0x){this.Ac8U(d0x.result.type)};b0x.Ac8U=function(t0x){this.br0x();if(this.zU7N){this.zU7N.V0x();delete this.zU7N}this.vZ6T.snsType=t0x;this.zU7N=n0x.bcg7Z.B0x(this.vZ6T);this.zU7N.I0x()};var cK1x=null;cx0x.simpleShare=function(e0x){if(cK1x)cK1x.V0x();cK1x=n0x.bId1x.B0x(e0x).I0x()}})();
(function(){var c0x=NEJ.P,bd0x=NEJ.O,a9j=c0x("nej.e"),h0x=c0x("nej.v"),j0x=c0x("nej.u"),u0x=c0x("nej.j"),G0x=c0x("nej.ut"),p0x=c0x("nm.d"),l0x=c0x("nm.x"),F0x=c0x("nm.m"),n0x=c0x("nm.l"),N0x=c0x("nm.m.f"),cx0x=c0x("api"),Eb9S=/#(.*?)$/,b0x,L0x,Hl9c={pubEventWithPics:false,pubEventWithoutResource:false,pubEventWithPictureForbiddenNotice:"等级达到Lv.4，即可添加图片"};N0x.bIg1x=NEJ.C();b0x=N0x.bIg1x.M0x(G0x.dr1x);b0x.bK0x=function(){this.bT0x();window.onHashChange=this.bdF8x.f0x(this);window.log=this.hG2x.f0x(this);window.share=this.Ac8U.f0x(this);window.shareForStore=this.cET8L.f0x(this);window.subscribe=this.bfG8y.f0x(this);window.onIframeClick=this.cER8J.f0x(this);h0x.s0x(window,"playchange",this.hN2x.f0x(this));h0x.s0x(window,"playstatechange",this.cEN8F.f0x(this));this.mc4g=F0x.ML3x.fU2x();this.mc4g.s0x("loginsuccess",this.cEK8C.f0x(this));this.mc4g.s0x("logoutbefore",this.buC8u.f0x(this));this.mc4g.s0x("logoutsuccess",this.buB8t.f0x(this));this.bvm9d();this.by0x=N0x.Yh6b.B0x();this.by0x.z0x("onshow",{});if(window.GUser&&window.GUser.userId){u0x.be0x("/api/login/token/refresh",{type:"json",method:"post"})}this.bdF8x(l0x.NP3x());this.Gp9g=F0x.Xq6k.B0x();cx0x.refreshUserInfo=this.Gp9g.OK4O.f0x(this.Gp9g);this.cEG8y();cx0x.cbDonate=this.cEF8x;var referrer=document.referrer;if(referrer.indexOf(location.hostname)===-1){var conf={is_organic:referrer?0:1,url:location.href};if(!conf.is_organic){conf.source=referrer}this.hG2x("activeweb",conf)}};b0x.bvm9d=function(){this.kV3x=p0x.hQ2x.B0x()};b0x.bdF8x=function(cT1x){var d0x=location.parse(cT1x);this.rt5y(d0x)};b0x.rt5y=function(d0x,t0x){var eV1x=a9j.A0x("g_iframe"),kq3x=d0x.path,bv0x=d0x.query,jZ3x=eV1x.contentWindow.location;this.xv7o=eV1x;if(/^\/(mv|video)/.test(kq3x)){if(this.by0x)this.by0x.br0x();this.lV3x=document.title}else{if(this.by0x)this.by0x.I0x();document.title=this.lV3x||l0x.rO5T()}if(bv0x.play=="true"&&/^\/(m\/)?song/.test(kq3x)){if(this.by0x)this.by0x.Qg4k(18,bv0x.id,true)}if(/^\/my\/m\/music\/playlist/.test(kq3x)){var bxr9i=l0x.bgs6m();if(!bxr9i&&!!bv0x.id)return location.dispatch2("/playlist?id="+bv0x.id)}if(/^\/login\b/.test(kq3x)&&GUser&&GUser.userId){var dZ1x=/targetUrl=(.+?)(&|$)/.exec(d0x.href),rm5r=dZ1x?decodeURIComponent(dZ1x[1]):"/discover",dn1x=/163\.com\/m\/at\//i;cEC8u=/163\.com\/show\/m\//i;cEB8t=/163\.com\/prime\/m\//i;cEz8r=/^(https?:\/\/?[\w-.]*(igame|music|iplay)\.163\.com\/)?([\/\w-.]*)?([\?#].*)?$/g;if(!cEz8r.test(rm5r)){rm5r=""}if(dn1x.test(rm5r)||cEC8u.test(rm5r)||cEB8t.test(rm5r)){window.location.href=rm5r}else{rm5r=rm5r.replace("/m/","/#/")}rm5r=rm5r.replace(/^\s+|\s+$/g,"");var dn1x=/^https?:\/\//i,GN9E=/^\/\//,bna7T=/^\//;if(!dn1x.test(rm5r)&&!GN9E.test(rm5r)&&!bna7T.test(rm5r)){rm5r="/discover"}return location.href=encodeURI(rm5r)}if(t0x!==undefined){if(bv0x&&bv0x.targetUrl){var pf4j=location.parse(bv0x.targetUrl);if(pf4j.path.indexOf("/store/")==0||pf4j.path.indexOf("/nmusician/")==0){return location.href=d0x.href}}return GDispatcher.refreshIFrame(d0x.href)}};b0x.cEK8C=function(){var cT1x=Eb9S.test(location.href)?RegExp.$1:"",d0x=location.parse(cT1x),Mh3x=this.Gp9g;Mh3x.OK4O();u0x.be0x("/api/topic/user/info",{type:"json",onload:function(bP0x){top.GUserAcc=NEJ.X(top.GUserAcc||{},{topic:bP0x.status});Mh3x.OK4O()}});u0x.be0x("/api/reward/user/showicon",{type:"json",onload:function(bP0x){top.GUserAcc=NEJ.X(top.GUserAcc||{},{reward:bP0x.showIcon});Mh3x.OK4O()}});if(!cx0x.sharePermission){cx0x.sharePermission=Hl9c}u0x.be0x("/api/event/user/permission",{type:"json",onload:function(d0x){if(d0x.code==200){cx0x.sharePermission=NEJ.EX(Hl9c,d0x)}}});this.rt5y(d0x,"urlchange")};b0x.buC8u=function(){n0x.pP5U.br0x();this.Gp9g.OK4O()};b0x.buB8t=function(){if(!location.hash||location.hash=="#"){var cT1x=Eb9S.test(location.href)?RegExp.$1:"",d0x=location.parse(cT1x);this.rt5y(d0x,"urlchange");return}location.hash="#"};b0x.hN2x=function(d0x){if(this.xv7o){var bM0x=this.xv7o.contentWindow;try{if(bM0x.nej&&bM0x.nej.v){bM0x.nej.v.z0x?bM0x.nej.v.z0x(bM0x,"playchange",d0x):bM0x.nej.v.dispatchEventalias?bM0x.nej.v.dispatchEventalias(bM0x,"playchange",d0x):""}}catch(e){}}};b0x.cEN8F=function(d0x){if(!this.xv7o)return;var bM0x=this.xv7o.contentWindow;try{if(bM0x.nej&&bM0x.nej.v){bM0x.nej.v.z0x?bM0x.nej.v.z0x(bM0x,"playstatechange",d0x):bM0x.nej.v.dispatchEventalias?bM0x.nej.v.dispatchEventalias(bM0x,"playstatechange",d0x):""}}catch(e){}};b0x.hG2x=function(U0x,bf0x){if(U0x.indexOf("new|")==0){return this.kV3x.eL1x(U0x.slice(4),bf0x)}switch(U0x){case"play":this.kV3x.ey1x(bf0x);break;case"search":this.kV3x.bKu1x(bf0x);break;default:this.kV3x.eL1x(U0x,bf0x)}};b0x.Ac8U=function(){if(this.xv7o.contentWindow.share){this.xv7o.contentWindow.share.apply(this.xv7o.contentWindow,arguments)}};b0x.cET8L=function(){var bpd8V=function(d0x){h0x.z0x(window,"share",d0x)};return function(da1x,t0x,Aa8S,Z0x,Im2x,In2x){l0x.lB3x({rid:da1x,type:t0x,purl:Aa8S,name:Z0x,author:Im2x,authors:In2x,onshare:bpd8V.f0x(this)})}}();b0x.bfG8y=function(bS0x,cEx8p){var bM0x=this.xv7o.contentWindow;if(bM0x.nm&&bM0x.nm.x){if(!bM0x.nm.x.om4q){bM0x=top.window}if(cEx8p&&bM0x.nm.x.bLl1x){bM0x.nm.x.bLl1x({data:bS0x.program})}else if(bM0x.nm.x.om4q){var k0x=j0x.ec1x(bS0x)?bS0x:[bS0x];bM0x.nm.x.om4q({tracks:k0x})}}};b0x.cER8J=function(d0x){h0x.z0x(window,"iframeclick")};b0x.cEG8y=function(){u0x.be0x("/api/copyright/pay_fee_message/config",{type:"json",onload:function(d0x){if(d0x.code==200){cx0x.feeMessage=d0x.config}}});cx0x.sharePermission=Hl9c;u0x.be0x("/api/event/user/permission",{type:"json",onload:function(d0x){if(d0x.code==200){cx0x.sharePermission=NEJ.EX(Hl9c,d0x)}}});u0x.be0x("/api/privilege/message/mv",{type:"json",onload:function(d0x){if(d0x.code===200){cx0x.mvFeeMessage=d0x.data}}})};b0x.cEF8x=function(){var cB1x={jst:"m-wgt-redeem-tip",clazz:"n-redeem"};cB1x.data={title:"成功送出",sub:"请你的好友去查看私信",ok:"知道了",type:"success"};cB1x.onaction=function(){location.dispatch2("/member")};l0x.kp3x(cB1x)};window.doMsgToServiceAction=b0x.cLG9x=function(){var bdA8s=null;return function(U0x){if(U0x=="kf"){bdA8s&&bdA8s.V0x();bdA8s=n0x.ur6l.B0x({title:"发新私信",draggable:true,clazz:"m-layer m-layer-w2",receiver:{userId:l0x.bNI1x()?117863002:253335632,nickname:l0x.bNI1x()?"测试库客服":"云音乐客服"}});bdA8s.I0x()}}}();G0x.fP2x.B0x({element:window,event:["playchange","iframeclick","playstatechange"]});a9j.cX1x("template-box");new N0x.bIg1x})()