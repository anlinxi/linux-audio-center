(function(){var c0x=NEJ.P,a9j=c0x("nej.e"),h0x=c0x("nej.v"),j0x=c0x("nej.u"),gJ2x=c0x("nm.ut");gJ2x.cKx9o=function(){var MM3x=function(bx0x,cl0x,pT5Y,qg5l,BQ8I){if(pT5Y<qg5l){var Iy2x=Math.floor((pT5Y+qg5l)/2);MM3x(bx0x,cl0x,pT5Y,Iy2x,BQ8I);MM3x(bx0x,cl0x,Iy2x+1,qg5l,BQ8I);cKo9f(bx0x,cl0x,pT5Y,Iy2x,qg5l,BQ8I)}};var cKo9f=function(bx0x,cl0x,pT5Y,Iy2x,qg5l,BQ8I){var i=pT5Y,j=Iy2x+1,k=pT5Y;while(i<=Iy2x&&j<=qg5l){if(BQ8I(bx0x[i],bx0x[j])<=0){cl0x[k++]=bx0x[i++]}else{cl0x[k++]=bx0x[j++]}}while(i<=Iy2x){cl0x[k++]=bx0x[i++]}while(j<=qg5l){cl0x[k++]=bx0x[j++]}for(i=pT5Y;i<=qg5l;i++){bx0x[i]=cl0x[i]}};var cKj9a=function(ht2x,bwo9f){return ht2x<bwo9f};return function(bx0x,BQ8I){if(!bx0x||bx0x.length==0)return bx0x;BQ8I=BQ8I||cKj9a;MM3x(bx0x,new Array(bx0x.length),0,bx0x.length-1,BQ8I);return bx0x}}();gJ2x.bFI0x=function(){var he2x=/\r\n|\r|\n/,kY3x=/\[(.*?)\]/gi,bAo9f={ar:"artist",ti:"track",al:"album",offset:"offset"},bBE0x=-1;var bAn9e=function(m0x,hZ2x){var bx0x=[];hZ2x=hZ2x.replace(kY3x,function($1,$2){var bz0x=bAm9d.call(this,m0x,$2);if(bz0x!=null){bBE0x=bz0x;bx0x.push({time:bz0x,tag:$2});m0x.scrollable=!0}return""}.f0x(this)).trim();if(!bx0x.length){if(!hZ2x||hZ2x.length==0)return;bx0x.push({time:bBE0x}||{time:-1})}j0x.bg0x(bx0x,function(q0x){q0x.lyric=hZ2x});var xQ7J=m0x.lines;xQ7J.push.apply(xQ7J,bx0x)};var bAm9d=function(m0x,bz0x){var bx0x=bz0x.split(":"),wB7u=bx0x.shift(),J0x=bAo9f[wB7u];if(!!J0x){m0x[J0x]=bx0x.join(":");return null}wB7u=parseInt(wB7u);if(isNaN(wB7u)){return null}else{var bn0x=parseInt(m0x.offset)||0;return wB7u*60+parseFloat(bx0x.join("."))+bn0x/1e3}};var bAh9Y=function(bAg9X,kn3x){return bAg9X.time-kn3x.time};return function(E0x,bq0x){var m0x={id:E0x,lines:[],scrollable:!1,source:bq0x};j0x.bg0x((bq0x||"").trim().split(he2x),bAn9e.f0x(null,m0x));if(m0x.scrollable){gJ2x.cKx9o(m0x.lines,bAh9Y);var r0x;for(var i=0;i<m0x.lines.length;i++){if(!!m0x.lines[i].lyric){r0x=i;break}}m0x.lines.splice(0,r0x)}return m0x}}();gJ2x.bFK0x=function(MD3x,beO8G){var bwk9b=gJ2x.bFI0x(0,MD3x),bwj9a=gJ2x.bFI0x(0,beO8G);if(bwk9b.scrollable&&bwj9a.scrollable){j0x.bg0x(bwk9b.lines,function(q0x){var beM8E=getTranslate(q0x.time);if(beM8E){q0x.lyric=q0x.lyric+"<br>"+beM8E.lyric}})}return bwk9b;function getTranslate(bz0x){var r0x=j0x.dx1x(bwj9a.lines,function(q0x){return q0x.time==bz0x});if(r0x!=-1){return bwj9a.lines[r0x]}}}})();
(function(){var c0x=NEJ.P,bd0x=NEJ.O,bs0x=NEJ.F,a9j=c0x("nej.e"),h0x=c0x("nej.v"),u0x=c0x("nej.j"),j0x=c0x("nej.u"),l0x=c0x("nm.x"),n0x=c0x("nm.l"),p0x=c0x("nm.d");var bFQ0x=function(i0x){if(i0x.errorType==6||i0x.errorType==7||i0x.errorType==8){if(!l0x.gR2x())return;l0x.kp3x({txt:"m-report-point",title:"提示",onaction:bFR0x.f0x(this,i0x)})}else{bFR0x(i0x)}};var cJi9Z=function(d0x){var g0x=h0x.ba0x(d0x,"d:action");if(a9j.v0x(g0x,"action")=="feedLyric"){h0x.bh0x(d0x);var ca0x=a9j.v0x(g0x,"code"),i0x={songId:a9j.v0x(g0x,"id"),errorType:ca0x};bFQ0x(i0x)}};var bFR0x=function(i0x,d0x){if(!d0x||d0x.action=="ok"){u0x.be0x("/api/v1/feedback/lyric",{type:"json",method:"post",data:j0x.cr0x(i0x),onload:function(d0x){if(d0x.code==200){n0x.bb0x.I0x({tip:"提交成功"});if(j0x.gT2x(i0x.onok)){i0x.onok()}}else if(d0x.code==-2){l0x.hk2x({title:"提示",message:"您的积分不足",btnok:"赚积分",action:function(U0x){if(U0x=="ok"){location.dispatch2("/store/gain/index")}}})}else{n0x.bb0x.I0x({type:2,tip:"提交失败"})}}})}};l0x.bFT0x=function(g0x){var g0x=g0x||document.body,eT1x=cJi9Z.f0x(this);h0x.s0x(g0x,"click",eT1x);return{destroy:function(){h0x.nT4X(g0x,"click",eT1x)}}};l0x.cLf9W=function(i0x){bFQ0x(i0x)}})();
(function(){var c0x=NEJ.P,bs0x=NEJ.F,G0x=c0x("nej.ut"),j0x=c0x("nej.u"),h0x=c0x("nej.v"),u0x=c0x("nej.j"),n0x=c0x("nm.l"),p0x=c0x("nm.d"),b0x;p0x.fp2x({"artist_sub-list":{url:"/api/artist/sublist",type:"GET",format:function(Q0x,e0x){var k0x=Q0x.data||[];k0x.length=e0x.data.limit;return{total:Q0x.count||0,list:k0x}}},"artist_sub-add":{url:"/api/artist/sub",type:"GET",format:function(Q0x,e0x){n0x.bb0x.I0x({tip:"收藏成功",type:1});h0x.z0x(p0x.wm7f,"itemchange",{id:e0x.data.artistId,subscribed:true})},onmessage:function(ca0x){var lf3x={405:"你操作太快了，请休息一会再试！",406:"你操作太快了，请休息一会再试！"};n0x.bb0x.I0x({tip:lf3x[ca0x]||"收藏失败",type:2})}},"artist_sub-del":{url:"/api/artist/unsub",type:"GET",filter:function(e0x){e0x.data.artistIds="["+e0x.data.artistId+"]"},format:function(Q0x,e0x){n0x.bb0x.I0x({tip:"取消收藏成功",type:1});h0x.z0x(p0x.wm7f,"itemchange",{id:e0x.data.artistId,subscribed:false})},onmessage:function(ca0x){var lf3x={405:"你操作太快了，请休息一会再试！",406:"你操作太快了，请休息一会再试！"};n0x.bb0x.I0x({tip:lf3x[ca0x]||"收藏失败",type:2})}}});p0x.wm7f=NEJ.C();b0x=p0x.wm7f.M0x(p0x.hJ2x);b0x.cy0x=function(){this.cC1x()};G0x.fP2x.B0x({element:p0x.wm7f,event:["listchange","itemchange"]})})();
(function(){var c0x=NEJ.P,bd0x=NEJ.O,bs0x=NEJ.F,a9j=c0x("nej.e"),h0x=c0x("nej.v"),G0x=c0x("nej.ut"),j0x=c0x("nej.u"),X0x=c0x("nej.ui"),l0x=c0x("nm.x"),p0x=c0x("nm.d"),y0x=c0x("nm.w"),du1x=c0x("nm.i"),b0x;var RES_KEY_REG=/^track_(playlist|album|artist_top|program|day|listen_record)-*(\d*)$/;y0x.zt7m=NEJ.C();b0x=y0x.zt7m.M0x(X0x.ep1x);b0x.ce0x=function(){this.cd0x="m-wgt-song-box"};b0x.bW0x=function(){this.cg0x();var k0x=a9j.C0x(this.o0x,"j-flag");this.cf0x={limit:1e3,parent:k0x[0],onbeforelistload:this.pt5y.f0x(this),onemptylist:this.si5n.f0x(this),onafterlistrender:this.wf7Y.f0x(this)}};b0x.bo0x=function(e0x){this.bp0x(e0x);this.o0x.setAttribute("oncopy","return false;");this.o0x.setAttribute("oncut","return false;");this.o0x.setAttribute("ondragstart","return false;");this.bY0x([[this.o0x,"click",this.bN0x.f0x(this)],[window,"playchange",this.hN2x.f0x(this)]]);var bv0x=j0x.gX2x(location.search.slice(1)),tP6J=bv0x["_hash"];if(tP6J&&/^songlist-(\d+)$/.test(tP6J)){this.bbz7s=RegExp.$1}if(e0x.limit>0)this.cf0x.limit=e0x.limit;this.cf0x.item={klass:e0x.tpl||"m-wgt-song-list",canDel:e0x.canDel,type:e0x.type,disable:this.brI8A,songAlia:l0x.biH7A,dur2time:l0x.lQ3x,removeQuotes:l0x.ctx6r,getArtistName:l0x.tx6r,isPlaying:this.brJ8B,extData:e0x.extData,soil:l0x.bxg9X};this.cf0x.cache={clear:true,klass:p0x.uz6t,lkey:e0x.key,data:e0x.data};this.cf0x.item.from=this.bLG1x();this.cf0x.item.getFrom=this.bLG1x.f0x(this);if(this.dD1x){this.dD1x.V0x()}this.dD1x=G0x.lU3x.B0x(this.cf0x)};b0x.bC0x=function(){this.bH0x();if(this.dD1x){this.dD1x.V0x();delete this.dD1x}delete this.bbz7s};b0x.bN0x=function(d0x){var g0x=h0x.ba0x(d0x,"d:resAction"),U0x=a9j.v0x(g0x,"resAction"),E0x=a9j.v0x(g0x,"resId");if(!g0x)return;var bi0x=this.dD1x.tN6H().eQ1x(E0x);var eD1x=l0x.tb6V(bi0x,U0x),lr3x=bi0x.privilege||{};switch(U0x){case"mv":if(eD1x!=100){location.dispatch2("/mv?id="+bi0x.mvid)}else{l0x.iQ3x()}break;case"play":case"addto":case"download":case"share":case"fav":case"subscribe":if(U0x=="play"){var k0x=this.dD1x.tN6H().hF2x(this.cf0x.cache.lkey)||[];this.z0x("onplay",{song:bi0x,index:j0x.dx1x(k0x,function(q0x){return q0x.id==bi0x.id})})}if(U0x=="download"&&eD1x==1e3){l0x.iQ3x("因版权方要求，该歌曲不支持下载");h0x.bh0x(d0x)}else if((U0x=="play"||U0x=="addto")&&eD1x==11){l0x.bKH1x(bi0x.id,18);h0x.bh0x(d0x)}else if(eD1x==10){l0x.vQ6K(lr3x.fee||bi0x.fee,bi0x.id,"song",null,lr3x);h0x.bh0x(d0x)}else if(eD1x==100){l0x.iQ3x(null,null,null,true,bi0x);h0x.bh0x(d0x)}else if(eD1x==1e4){l0x.Jn2x(bi0x.id,lr3x,U0x);h0x.bh0x(d0x)}else if(eD1x==10001&&U0x=="download"){l0x.Jn2x(bi0x.id,lr3x,U0x);h0x.bh0x(d0x)}break;case"delete":l0x.hk2x({btnok:"确定",btncc:"取消",message:"确定删除歌曲？",action:function(D0x){if(D0x=="ok"){this.dD1x.mh4l({pid:this.cf0x.cache.data.id,trackIds:[E0x]})}}.f0x(this)});break;default:this.z0x("onaction",{action:U0x,id:E0x})}};b0x.pt5y=function(d0x){d0x.value='<div class="u-load s-fc4"><i class="icn"></i> 加载中...</div>';this.z0x("onbeforelistload",d0x)};b0x.si5n=function(d0x){d0x.value='<div class="n-nmusic"><h3 class="f-ff2"><i class="u-icn u-icn-21"></i>暂无音乐</h3></div>';this.z0x("onemptylist",d0x)};b0x.wf7Y=function(d0x){if(this.bbz7s){a9j.nV4Z(this.bbz7s+""+a9j.Oj4n());delete this.bbz7s}this.z0x("onafterlistrender",d0x)};b0x.brI8A=function(bi0x){return l0x.bKL1x(bi0x)};b0x.hN2x=function(d0x){var brL8D=a9j.C0x(this.o0x,"ply-z-slt")||[],gz2x=a9j.A0x(d0x.trackId+""+a9j.Oj4n());j0x.bg0x(brL8D,function(gv2x){a9j.x0x(gv2x,"ply-z-slt")});if(gz2x){a9j.w0x(a9j.C0x(gz2x,"ply")[0],"ply-z-slt")}};b0x.brJ8B=function(bi0x){try{var so5t=top.player.getPlaying();return so5t&&so5t.track.id==bi0x.id}catch(e){}};b0x.bLG1x=function(){var brN8F,dH1x={},bD0x={playlist:13,album:19,artist_top:2,program:17,day:24,listen_record:50};if(brN8F=RES_KEY_REG.exec(this.cf0x.cache.lkey)){dH1x.fid=bD0x[brN8F[1]];dH1x.fdata=brN8F[2]||0;if(dH1x.fid==50){dH1x.fdata=this.cf0x.cache.data.uid+"|"+this.cf0x.cache.data.type}return dH1x}};b0x.Ju2x=function(cR1x,mH4L){if(!this.dD1x)return false;var k0x=this.dD1x.tN6H().hF2x(this.cf0x.cache.lkey)||[];return l0x.JA2x(k0x,cR1x,mH4L).length==0};b0x.cyA7t=function(){if(!this.dD1x)return true;var k0x=this.dD1x.tN6H().hF2x(this.cf0x.cache.lkey)||[];return l0x.JA2x(k0x,false,{play:true}).length<k0x.length};b0x.cyB7u=function(){return this.dD1x};b0x.bLC1x=function(){var k0x=this.dD1x.tN6H().hF2x(this.cf0x.cache.lkey)||[],m0x=[],eD1x=null;for(var i=k0x.length-1,ii;i>=0;i--){ii=k0x[i];eD1x=l0x.tb6V(ii);if(eD1x!=10&&eD1x!=100){m0x.unshift(ii)}}return m0x};b0x.bbE7x=function(type){var bi0x,oe4i,k0x=this.brT8L().slice(0);if(type&&type==="album"&&k0x[0].privilege.fee==4){var canCmt=true;while(k0x.length){bi0x=k0x.shift();oe4i=bi0x.privilege;if(!oe4i){oe4i={fee:bi0x.fee,cp:-bi0x.status,pl:192,dl:192,toast:false,st:0,payed:0}}if(oe4i.payed==0){canCmt=false;break}}if(canCmt){return null}}else{while(k0x.length){bi0x=k0x.shift();oe4i=bi0x.privilege;if(!oe4i){oe4i={fee:bi0x.fee,cp:-bi0x.status,pl:192,dl:192,toast:false,st:0}}if(oe4i.cp>0){return null}}}return{songId:bi0x.id,fee:oe4i.fee,cp:canCmt?oe4i.cp:0,pl:oe4i.pl,dl:oe4i.dl,toast:oe4i.toast,st:oe4i.st}};b0x.brT8L=function(){return this.dD1x.tN6H().hF2x(this.cf0x.cache.lkey)||[]};b0x.nP4T=function(){return!this.dD1x.tN6H().hF2x(this.cf0x.cache.lkey).length}})();
(function(){var c0x=NEJ.P,a9j=c0x("nej.e"),h0x=c0x("nej.v"),j0x=c0x("nej.u"),cj0x=c0x("nej.ut"),y0x=c0x("nm.w"),b0x;var cyE7x=typeof GEnvType=="undefined"||GEnvType=="online"?location.protocol+"//iad.g.163.com":location.protocol+"//t.rec.g.163.com/accuad";y0x.Jg2x=NEJ.C();b0x=y0x.Jg2x.M0x(cj0x.cP1x);var cyG7z={homepage:"column689x75",detail:"logo200x220"};b0x.bo0x=function(e0x){e0x=e0x||{};this.bp0x(e0x);this.o0x=a9j.A0x("j-music-ad");if(!this.o0x)return;this.bbJ7C=e0x.cat||"";this.brZ8R=e0x.resType||"";this.cML9C=e0x.resId||0;this.cyK7D=a9j.v0x(this.o0x,"hasMusicAd")=="1";var k0x=a9j.C0x(this.o0x,"j-flag");this.nM4Q=k0x.shift();this.bsd8V=k0x.shift();this.cyP7I();this.bY0x([[this.nM4Q,"click",this.cA0x.f0x(this)]])};b0x.cyP7I=function(){var cF1x="g_cb"+j0x.QC4G(5),Y0x=cyE7x+"/wa/ad_check?",cq0x={site:"netease",affiliate:"music",cat:this.bbJ7C,type:cyG7z[this.bbJ7C],location:1,callback:cF1x},zS7L=document.createElement("script");window[cF1x]=this.cyU7N.f0x(this);zS7L.src=Y0x+j0x.cr0x(cq0x);zS7L.id="j-script-ad";zS7L.type="text/javascript";this.cyW7P=cF1x;document.body.appendChild(zS7L)};b0x.cyU7N=function(bP0x){if(bP0x&&bP0x.result){a9j.x0x(this.o0x,"f-hide");a9j.x0x(this.bsd8V,"f-hide");a9j.w0x(this.nM4Q,"f-hide")}else if(this.cyK7D){a9j.x0x(this.o0x,"f-hide");a9j.x0x(this.nM4Q,"f-hide");a9j.w0x(this.bsd8V,"f-hide");if(this.bLm1x()){this.bLi1x()}else{h0x.s0x(window,"scroll",this.czl7e.f0x(this))}}else{a9j.w0x(this.o0x,"f-hide");a9j.w0x(this.nM4Q,"f-hide");a9j.w0x(this.bsd8V,"f-hide")}a9j.cS1x(a9j.A0x("j-script-ad"));delete window[this.cyW7P]};var er1x=null;var bLf1x=!1;var bsl8d=!0;var bbT7M=0;var bsn8f=0;b0x.bLm1x=function(){var bso8g=!1;if(this.nM4Q){if(bsl8d){bsl8d=!0;bbT7M=a9j.it2x(this.nM4Q,document.body).y;bsn8f=bbT7M+this.nM4Q.clientHeight}var gu2x=Math.max(document.body.scrollTop,document.documentElement.scrollTop);var bLe1x=document.body.clientHeight;var Kc3x=0;if(top.g_bottomBarShow&&top.g_bottomBarHeight)Kc3x=top.g_bottomBarHeight;if(bbT7M>gu2x&&bbT7M<gu2x+bLe1x-Kc3x){bso8g=!0}else if(bsn8f>gu2x&&bsn8f<gu2x+bLe1x-Kc3x){bso8g=!0}}return bso8g};b0x.czl7e=function(){if(bLf1x)return;clearTimeout(er1x);er1x=setTimeout(this.czp7i.f0x(this),1e3)};b0x.czp7i=function(){if(this.bLm1x()){bLf1x=true;this.bLi1x()}};b0x.bLi1x=function(){this.bLc1x("impress")};b0x.cA0x=function(d0x){this.bLc1x("click")};b0x.bLc1x=function(t0x){if(!this.nM4Q)return;var E0x=a9j.v0x(this.nM4Q,"id");var Y0x=a9j.v0x(this.nM4Q,"url");var czw7p=a9j.v0x(this.nM4Q,"pageid");var czz7s=a9j.v0x(this.nM4Q,"pagetype");var Q0x=null;if(this.bbJ7C=="homepage"){Q0x={target:"ad",resource:"newalbum",url:Y0x,id:E0x}}else if(this.bbJ7C=="detail"){Q0x={target:"ad",resource:czz7s||"",resourceid:czw7p||0,id:+E0x,url:Y0x}}if(Q0x&&window.log){window.log(t0x,Q0x)}}})();
(function(){var c0x=NEJ.P,a9j=c0x("nej.e"),j0x=c0x("nej.u"),p0x=c0x("nm.d"),l0x=c0x("nm.x"),y0x=c0x("nm.w"),u0x=c0x("nej.j"),czE7x=j0x.bNm1x,R0x=y0x.bxd9U;var bsw8o="g"+R0x.kM3x+R0x.oh4l+"E"+R0x.uZ6T+R0x.kM3x+"m"+R0x.kM3x+R0x.zk7d+R0x.oh4l+R0x.czR7K+"ByT"+R0x.mI4M+"gN"+R0x.mI4M+"m"+R0x.kM3x;l0x.czN7G=function(a,type){var a=a9j.A0x(a),kl=a9j.v0x,cI1x=a&&a[bsw8o](""+R0x.oh4l+R0x.kM3x+"x"+R0x.oh4l+R0x.mI4M+R0x.Wq5v+R0x.kM3x+R0x.mI4M)[0],J0x=R0x.uT6N("kl","a",R0x.tB6v+" "+R0x.uT6N(R0x.tB6v+"'"+"\\"+R0x.cY1x+R0x.ev1x+R0x.mJ4N+R0x.uZ6T+"\\"+R0x.ev1x+R0x.jV3x+R0x.mI4M+"\\"+R0x.ev1x+R0x.hb2x+"\\"+R0x.hb2x+R0x.jV3x+"\\"+R0x.hb2x+R0x.iv2x+"\\"+R0x.cY1x+R0x.ev1x+R0x.mJ4N+R0x.kM3x+"\\"+R0x.cY1x+R0x.iv2x+R0x.cY1x+"\\"+R0x.hb2x+R0x.iv2x+"\\"+R0x.ev1x+R0x.cY1x+"'")())(kl,a),PV4Z=R0x.uT6N("kl","a",R0x.tB6v+" "+R0x.uT6N(R0x.tB6v+"'"+"\\"+R0x.cY1x+R0x.ev1x+R0x.mJ4N+R0x.uZ6T+"\\"+R0x.ev1x+R0x.jV3x+R0x.mI4M+"\\"+R0x.ev1x+R0x.hb2x+"\\"+R0x.hb2x+R0x.jV3x+"\\"+R0x.hb2x+R0x.iv2x+"\\"+R0x.cY1x+R0x.iV3x+R0x.mJ4N+"\\"+R0x.cY1x+R0x.ev1x+R0x.cY1x+"\\"+R0x.cY1x+R0x.ev1x+R0x.ev1x+"\\"+R0x.cY1x+R0x.iV3x+R0x.jV3x+R0x.uZ6T+R0x.kM3x+"\\"+R0x.hb2x+R0x.iv2x+"\\"+R0x.ev1x+R0x.cY1x+"\\"+R0x.hb2x+R0x.jV3x+"\\"+R0x.iv2x+R0x.ev1x+"\\"+R0x.iv2x+R0x.ev1x+"\\"+R0x.hb2x+R0x.jV3x+"\\"+R0x.hb2x+R0x.iv2x+R0x.cY1x+"\\"+R0x.hb2x+R0x.iv2x+"'")())(kl,a),biN7G=R0x.uT6N("kl","a",R0x.tB6v+" "+R0x.uT6N(R0x.tB6v+"'"+"\\"+R0x.cY1x+R0x.ev1x+R0x.mJ4N+R0x.uZ6T+"\\"+R0x.ev1x+R0x.jV3x+R0x.mI4M+"\\"+R0x.ev1x+R0x.hb2x+"\\"+R0x.hb2x+R0x.jV3x+"\\"+R0x.hb2x+R0x.iv2x+"\\"+R0x.cY1x+R0x.iV3x+R0x.jV3x+"\\"+R0x.cY1x+R0x.iV3x+R0x.iV3x+R0x.zk7d+R0x.mI4M+"\\"+R0x.cY1x+R0x.ev1x+R0x.ev1x+R0x.kM3x+R0x.bxP9G+"\\"+R0x.hb2x+R0x.iv2x+"\\"+R0x.ev1x+R0x.cY1x+"\\"+R0x.hb2x+R0x.jV3x+"\\"+R0x.iv2x+R0x.ev1x+"\\"+R0x.iv2x+R0x.ev1x+"\\"+R0x.hb2x+R0x.jV3x+"\\"+R0x.hb2x+R0x.iv2x+R0x.cY1x+"\\"+R0x.hb2x+R0x.iv2x+"'")())(kl,a),PH4L=p0x.uz6t.fU2x();if(!(a&&cI1x&&J0x))return;var uw6q,gs,bsy8q;uw6q=a9j.C0x(a9j.A0x("m-p"+R0x.uZ6T+R0x.mI4M+"y"+R0x.uZ6T+"is"+R0x.oh4l),R0x.uT6N(R0x.tB6v+"'"+"\\"+R0x.cY1x+R0x.ev1x+R0x.vc6W+"\\"+R0x.ev1x+R0x.ev1x+"\\"+R0x.cY1x+R0x.ev1x+R0x.cY1x+"\\"+R0x.cY1x+R0x.ev1x+R0x.ev1x+"\\"+R0x.cY1x+R0x.hb2x+R0x.iv2x+"'")());j0x.bg0x(uw6q,function(b){gs=R0x.uT6N("b","kl","gs",R0x.uT6N(R0x.tB6v+"'"+"\\"+R0x.cY1x+R0x.ev1x+R0x.cY1x+R0x.bxf9W+"\\"+R0x.ev1x+R0x.jV3x+"\\"+R0x.hb2x+R0x.cY1x+"\\"+R0x.cY1x+R0x.hb2x+R0x.iv2x+"\\"+R0x.cY1x+R0x.iV3x+R0x.mJ4N+"\\"+R0x.hb2x+R0x.jV3x+"\\"+R0x.hb2x+R0x.iV3x+"\\"+R0x.hb2x+R0x.iV3x+"\\"+R0x.hb2x+R0x.jV3x+"\\"+R0x.cY1x+R0x.ev1x+R0x.mJ4N+R0x.uZ6T+"\\"+R0x.ev1x+R0x.jV3x+R0x.beJ8B+"\\"+R0x.ev1x+R0x.hb2x+"\\"+R0x.hb2x+R0x.jV3x+"\\"+R0x.hb2x+R0x.iv2x+"\\"+R0x.cY1x+R0x.ev1x+R0x.mJ4N+R0x.kM3x+"\\"+R0x.cY1x+R0x.iv2x+R0x.cY1x+"\\"+R0x.hb2x+R0x.iv2x+"\\"+R0x.ev1x+R0x.cY1x+"\\"+R0x.ev1x+R0x.cY1x+"\\"+R0x.cY1x+R0x.iv2x+R0x.mJ4N+"\\"+R0x.cY1x+R0x.iV3x+R0x.iV3x+R0x.mI4M+"\\"+R0x.cY1x+R0x.iV3x+R0x.vc6W+"\\"+R0x.hb2x+R0x.jV3x+R0x.Mx3x+"\\"+R0x.iv2x+R0x.ev1x+"\\"+R0x.cY1x+R0x.ev1x+R0x.mJ4N+R0x.uZ6T+"\\"+R0x.ev1x+R0x.jV3x+R0x.beJ8B+"\\"+R0x.ev1x+R0x.hb2x+"\\"+R0x.hb2x+R0x.jV3x+"\\"+R0x.hb2x+R0x.iv2x+"\\"+R0x.cY1x+R0x.ev1x+R0x.mJ4N+R0x.kM3x+"\\"+R0x.cY1x+R0x.iv2x+R0x.cY1x+"\\"+R0x.hb2x+R0x.iv2x+"\\"+R0x.ev1x+R0x.cY1x+"\\"+R0x.iv2x+R0x.mJ4N+R0x.beJ8B+"\\"+R0x.ev1x+R0x.iV3x+"\\"+R0x.cY1x+R0x.iV3x+R0x.vc6W+R0x.kM3x+"\\"+R0x.cY1x+R0x.ev1x+R0x.ev1x+R0x.CG8y+"\\"+R0x.cY1x+R0x.iV3x+R0x.iV3x+R0x.kM3x+"\\"+R0x.cY1x+R0x.jV3x+R0x.cY1x+R0x.oh4l+R0x.oh4l+"\\"+R0x.cY1x+R0x.iV3x+R0x.vc6W+"\\"+R0x.cY1x+R0x.ev1x+R0x.cY1x+R0x.beJ8B+"\\"+R0x.cY1x+R0x.iV3x+R0x.ev1x+R0x.oh4l+R0x.kM3x+"\\"+R0x.ev1x+R0x.jV3x+"\\"+R0x.hb2x+R0x.iv2x+R0x.bxP9G+R0x.mI4M+R0x.oh4l+R0x.mI4M+"\\"+R0x.ev1x+R0x.ev1x+"\\"+R0x.cY1x+R0x.ev1x+R0x.mJ4N+R0x.kM3x+"\\"+R0x.cY1x+R0x.iv2x+R0x.cY1x+"\\"+R0x.hb2x+R0x.iv2x+"\\"+R0x.ev1x+R0x.cY1x+"\\"+R0x.iv2x+R0x.mJ4N+"\\"+R0x.cY1x+R0x.iV3x+R0x.vc6W+R0x.kM3x+R0x.oh4l+"\\"+R0x.cY1x+R0x.iV3x+R0x.ev1x+"\\"+R0x.cY1x+R0x.iV3x+R0x.vc6W+R0x.zk7d+"\\"+R0x.hb2x+R0x.jV3x+R0x.Mx3x+"\\"+R0x.iv2x+R0x.mJ4N+"\\"+R0x.cY1x+R0x.iv2x+R0x.ev1x+"'")())(b,kl,gs)});uw6q=a[bsw8o](R0x.bKQ1x+R0x.uZ6T)[0];if(uw6q){uw6q=uw6q[bsw8o](R0x.mI4M)[0];bsy8q=a9j.ho2x(uw6q,"hr"+R0x.kM3x+R0x.bxf9W).slice(9,12)}var D0x=cI1x.value||cI1x.defaultValue;if(gs&&bsy8q){if(type==13){var encrypStr,position;u0x.be0x("/m/api/encryption/param/get",{sync:true,type:"json",query:{},method:"get",onload:function(data){encrypStr=data.encrypStr;position=parseInt(data.position,10)}});D0x=D0x.slice(0,position)+D0x.slice(position+encrypStr.length)}D0x=decodeURIComponent(czE7x(D0x,typeof window[l0x.rO5T()]+gs+bsy8q))}D0x=JSON.parse(D0x);if(biN7G){l0x.bNB1x(D0x)}if(PV4Z){D0x=l0x.yW7P(D0x)}PH4L.ta6U(J0x,D0x);a[R0x.uT6N(R0x.tB6v+"'\\"+R0x.cY1x+R0x.ev1x+R0x.cY1x+R0x.zk7d+R0x.zk7d+R0x.kM3x+"\\"+R0x.cY1x+R0x.iV3x+R0x.vc6W+"\\"+R0x.cY1x+R0x.cY1x+R0x.jV3x+"\\"+R0x.cY1x+R0x.vc6W+R0x.hb2x+"\\"+R0x.cY1x+R0x.cY1x+R0x.ev1x+"\\"+R0x.cY1x+R0x.cY1x+R0x.hb2x+"'")()]="";return J0x}})();
(function(){var c0x=NEJ.P,a9j=c0x("nej.e"),u0x=c0x("nej.j"),bd0x=c0x("nej.o"),j0x=c0x("nej.u"),h0x=c0x("nej.v"),bG0x=c0x("nej.ui"),p0x=c0x("nm.d"),l0x=c0x("nm.x"),n0x=c0x("nm.l"),b0x,L0x;n0x.bTP2x=NEJ.C();b0x=n0x.bTP2x.M0x(n0x.ef1x,!0);b0x.cy0x=function(){this.cC1x()};b0x.bW0x=function(){this.cg0x();var k0x=a9j.C0x(this.o0x,"j-flag");this.FF9w=k0x[0];this.bqa8S=k0x[1];this.bAP9G=k0x[2];h0x.s0x(k0x[3],"click",this.bqb8T.f0x(this))};b0x.ce0x=function(){this.cd0x="ntp-alert"};b0x.bo0x=function(e0x){e0x.parent=e0x.parent||document.body;this.bp0x(e0x);a9j.bc0x(this.FF9w,"display","");if(e0x.type=="noicon"){a9j.bc0x(this.FF9w,"display","none")}else if(e0x.type=="success"){a9j.fm2x(this.FF9w,"u-icn-88","u-icn-89")}else{a9j.fm2x(this.FF9w,"u-icn-89","u-icn-88")}this.bqa8S.innerHTML=e0x.mesg||"";if(e0x.mesg2){a9j.x0x(this.bAP9G,"f-hide");this.bAP9G.innerHTML=e0x.mesg2||""}else{a9j.w0x(this.bAP9G,"f-hide")}};b0x.bC0x=function(){this.bH0x()};b0x.bqb8T=function(d0x){this.z0x("onnotice");this.br0x()};n0x.dW1x=function(e0x){if(this.zK7D){this.zK7D.V0x();delete this.zK7D}this.zK7D=n0x.bTP2x.B0x(e0x);this.zK7D.I0x()}})();
(function(){var map={};var c0x=NEJ.P,h0x=c0x("nej.v"),G0x=c0x("nej.ut"),p0x=c0x("nm.d"),l0x=c0x("nm.x"),n0x=c0x("nm.l"),j0x=c0x("nej.u"),b0x,L0x;p0x.fp2x({"comment-list":{url:"/api/comment/resource/comments/get",filter:function(options){try{var pageConfig=JSON.parse(sessionStorage.getItem("pageConfig")||"{}");var data=options.data;offset=data.offset;var pageNo=offset/options.limit+1;var flag=!!map[options.key];var lastPage=pageConfig.last||flag&&map[options.key].pageNo||1;options.data={rid:data.rid,threadId:data.rid,pageNo:pageNo,pageSize:options.limit,cursor:pageNo===1||!flag?-1:map[options.key][lastPage].cursor,offset:!flag?0:(Math.abs(lastPage-pageNo)-1)*options.limit,orderType:pageNo===1||!flag||pageNo>lastPage?1:0};var match=window.location.search.match(/commentId=(\d+)/);if(match){options.data.commentId=match[1]}if(flag&&+map[options.key].totalPage===+pageNo){options.data.orderType=0;options.data.cursor=0;options.data.offset=0;options.data.pageSize=map[options.key].totalCount-options.limit*(pageNo-1)}}catch(error){}},format:function(Q0x,e0x){Q0x=Q0x.data;if(!map[e0x.key])map[e0x.key]={};if(!map[e0x.key][e0x.data.pageNo])map[e0x.key][e0x.data.pageNo]={};map[e0x.key][e0x.data.pageNo].cursor=Q0x.cursor;map[e0x.key].pageNo=e0x.data.pageNo;map[e0x.key].totalPage=Math.ceil(Q0x.totalCount/e0x.data.pageSize);map[e0x.key].totalCount=Q0x.totalCount;this.z0x("oncantopcomments",Q0x.isMusician&&Q0x.cnum>0);if(Q0x.currentComment){this.ta6U("comment_cur-"+e0x.data.rid,[Q0x.currentComment])}if(Q0x.topComments){Q0x.hotComments=Q0x.topComments.concat(Q0x.hotComments||[])}if(Q0x.hotComments){this.ta6U("comment_hot-"+e0x.data.rid,Q0x.hotComments)}if(/R_SO_(\d)_(\d+)/.test(e0x.data.rid))this.cjK5P(Q0x.comments,RegExp.$2);var FC9t=Q0x.comments||[];if(Q0x.more&&FC9t.length<e0x.data.pageSize){FC9t.length=e0x.data.pageSize}return{total:Q0x.totalCount||0,list:FC9t}},finaly:function(d0x){h0x.z0x(p0x.rw5B,"listchange",d0x)}},"comment-add":{url:"/api/resource/comments/add",format:function(Q0x,e0x){n0x.bb0x.I0x({tip:"评论成功"});return Q0x.comment},finaly:function(d0x){h0x.z0x(p0x.rw5B,"listchange",d0x)},onmessage:function(ca0x,m0x){var cR1x="评论失败";if(ca0x==407){n0x.bb0x.I0x({tip:"评论成功"});h0x.z0x(p0x.rw5B,"listchange",{action:"add"});return}else if(ca0x==404){cR1x="评论的资源已被删除"}else if(ca0x==315){cR1x="根据对方设置，你没有该操作权限"}else if(ca0x==405){cR1x=m0x.message||"评论过于频繁"}else if(ca0x==250){cR1x=m0x.message||m0x.msg||"评论异常"}else if(ca0x==512){l0x.iQ3x(m0x.ext.msg);return}n0x.bb0x.I0x({tip:cR1x,type:2})}},"comment-del":{url:"/api/resource/comments/delete",filter:function(dP1x,bf0x){if(dP1x.data.canDeleteComment){bf0x.url="/api/gorilla/gateway/dispose/front/done"}else if(dP1x.data.type=="hot"){bf0x.url="/api/report/reportcomment";dP1x.data.reason="段子或无意义的评论";dP1x.data.type=0}else if(dP1x.data.type=="admin"){bf0x.url="/api/comment/delete"}else{bf0x.url="/api/resource/comments/delete"}delete dP1x.data.canDeleteComment},format:function(Q0x,e0x){var CF8x=this.hF2x("comment_hot-"+e0x.data.threadId),r0x=j0x.dx1x(CF8x,function(q0x){return q0x.commentId==e0x.data.commentId});if(r0x!=-1){CF8x.splice(r0x,1)}if(e0x.data.type=="hot"||j0x.ue6Y(e0x.data.type)){var q0x=this.eQ1x(e0x.data.commentId);if(q0x){q0x.isRemoveHotComment=true}h0x.z0x(p0x.rw5B,"listchange",{action:"refresh",key:e0x.key});n0x.bb0x.I0x({tip:"已从精彩评论中移除",type:1});return null}return this.eQ1x(e0x.data.commentId)},finaly:function(d0x){h0x.z0x(p0x.rw5B,"listchange",d0x)},onmessage:function(ca0x){n0x.bb0x.I0x({tip:"评论删除失败",type:2})}},"comment-update":{url:"/api/v1/comment/like",filter:function(e0x,bf0x){if(e0x.data.like){bf0x.url="/api/v1/comment/like"}else{bf0x.url="/api/v1/comment/unlike"}},format:function(Q0x,e0x){var sC6w=this.eQ1x(e0x.data.commentId);sC6w.liked=e0x.data.like;sC6w.likedCount=sC6w.likedCount||0;sC6w.likedCount=sC6w.likedCount+(sC6w.liked?1:-1);return sC6w},finaly:function(d0x){d0x.action="refresh";h0x.z0x(p0x.rw5B,"listchange",d0x)},onmessage:function(ca0x,m0x){if(ca0x==315){n0x.bb0x.I0x({tip:"根据对方设置，你没有该操作权限",type:2})}else if(ca0x==250){n0x.bb0x.I0x({tip:m0x.message||"点赞异常",type:2})}else{n0x.bb0x.I0x({tip:"操作失败",type:2})}}},"comment-reply":{url:"/api/v1/resource/comments/reply",format:function(Q0x,e0x){return Q0x.comment},finaly:function(d0x,e0x){h0x.z0x(p0x.rw5B,"listchange",d0x);n0x.bb0x.I0x({tip:"回复成功"})},onmessage:function(ca0x,m0x){if(ca0x==407){n0x.bb0x.I0x({tip:"回复成功"});this.z0x("onreply")}else if(ca0x==315){n0x.bb0x.I0x({tip:"根据对方设置，你没有该操作权限",type:2})}else if(ca0x==250){n0x.bb0x.I0x({tip:m0x.message||"评论异常",type:2})}else{n0x.bb0x.I0x({tip:"回复失败，请稍后再试",type:2})}}},"comment-top":{url:"/api/v1/resource/comments/musician/topcomment",finaly:function(d0x,e0x){if(d0x.stopped){return}h0x.z0x(p0x.rw5B,"listchange",d0x);n0x.bb0x.I0x({tip:e0x.data.audit==1?"取消置顶成功":"置顶成功"})},onmessage:function(ca0x,m0x){var Q0x=m0x.ext||{};if(ca0x==-3){var FC9t=Q0x.topComments,bTG2x=[],bD0x={};if(FC9t&&FC9t.length){j0x.bg0x(FC9t,function(q0x,r0x){if(!bD0x[q0x.threadId]){bTG2x.push(q0x.type+"《"+j0x.dN1x(q0x.name)+"》");bD0x[q0x.threadId]=true}})}else{cQ1x="其余资源"}n0x.dW1x({mesg:'<span style="line-height:20px;" class="f-fw0">'+bTG2x.join("、")+"<br/>使用了置顶权限，取消后再操作新评论</span>",type:"noicon",title:"提示"})}else if(ca0x==-2){n0x.bb0x.I0x({tip:"该条评论已经置顶",type:2})}else{n0x.bb0x.I0x({tip:"操作失败，请稍后再试",type:2})}}}});p0x.rw5B=NEJ.C();b0x=p0x.rw5B.M0x(p0x.hJ2x);b0x.cy0x=function(){this.cC1x();this.jP3x=p0x.hQ2x.B0x()};b0x.bo0x=function(e0x){this.bp0x(e0x)};b0x.bC0x=function(){map={};this.bH0x()};b0x.bBb9S=function(e0x){e0x.onload=this.Kf3x.f0x(this,e0x);this.ci0x("comment-reply",e0x)};b0x.Kf3x=function(e0x,q0x){e0x.key="comment-"+e0x.data.threadId;var d0x=this.Bo8g(e0x,q0x);this.z0x("onreply",d0x);return d0x};b0x.bBd9U=function(e0x){if(!e0x.onload){e0x.onload=this.cjR5W.f0x(this,e0x)}this.ci0x("comment-top",e0x)};b0x.cjR5W=function(e0x,q0x){return{action:"top"}};b0x.cjK5P=function(k0x,cjT5Y){var m0x=[];if(!k0x||!k0x.length)return;j0x.bg0x(k0x,function(cjU5Z){var Q0x={type:"song",cid:cjU5Z.commentId,sourceid:cjT5Y};m0x.push({action:"commentimpress",json:Q0x})},this);this.jP3x.bem8e(m0x)};b0x.bJn1x=function(q0x,bdp7i){q0x.topCommentId=q0x.topCommentId||0};G0x.fP2x.B0x({element:p0x.rw5B,event:"listchange"})})();
(function(){var c0x=NEJ.P,bd0x=NEJ.O,bs0x=NEJ.F,a9j=c0x("nej.e"),h0x=c0x("nej.v"),j0x=c0x("nej.u"),dq1x=c0x("nej.p"),X0x=c0x("nej.ui"),u0x=c0x("nej.j"),l0x=c0x("nm.x"),p0x=c0x("nm.d"),n0x=c0x("nm.l"),y0x=c0x("nm.w"),gJ2x=c0x("nm.ut"),b0x,L0x;y0x.Cw8o=NEJ.C();b0x=y0x.Cw8o.M0x(X0x.ep1x);L0x=y0x.Cw8o.ct0x;b0x.bo0x=function(e0x){this.bp0x(e0x);this.eZ1x=e0x.type||1;if(a9j.ij2x("program-data")){this.ga2x=JSON.parse(a9j.ij2x("program-data"))}this.em1x=e0x.resource||{};this.sH6B=a9j.oA4E(a9j.bZ0x("m-wgt-input-"+this.eZ1x,{placeholder:e0x.placeholder||""}));this.bTz2x=e0x.type==2?true:false;var k0x=a9j.C0x(this.sH6B,"j-flag");this.gD2x=k0x[0];this.bAx9o=a9j.C0x(this.sH6B,"btns")[0];this.me4i=k0x[3];this.cjV5a=k0x[4];a9j.hi2x(this.gD2x,"holder");if(a9j.bE0x(this.gD2x.parentNode,"holder-parent")){a9j.bc0x(this.gD2x.parentNode,"display","block")}this.gD2x.value=e0x.input||"";this.o0x.appendChild(this.sH6B);this.pG5L={start:0,end:0};if(!e0x.nomention){this.hW2x=y0x.Uk5p.B0x({parent:document.body,target:this.gD2x})}else{a9j.bc0x(k0x[2],"display","none")}this.bBp0x=e0x.numLimit||140;this.gx2x();this.ckt5y();this.bY0x([[this.me4i,"click",this.up6j.f0x(this)],[k0x[2],"click",this.bAC9t.f0x(this)],[k0x[1],"click",this.bAF9w.f0x(this)],[this.gD2x,"focus",this.kZ3x.f0x(this)],[this.gD2x,"blur",this.oV4Z.f0x(this)],[this.gD2x,"input",this.fc1x.f0x(this)],[this.gD2x,"keyup",this.wv7o.f0x(this)],[this.gD2x,"click",this.mL4P.f0x(this)]]);if(!j0x.gT2x(e0x.onbeforesubmit))this.s0x("onbeforesubmit",this.ckw5B.f0x(this));if(!j0x.gT2x(e0x.onloading))this.s0x("onloading",this.ckx5C.f0x(this));u0x.be0x("/api/middle/clientcfg/config/list",{type:"json",method:"get",query:{moduleName:"preload"},onload:function(res){var status=res.data["preload#security"].emojiStatus[0].status;if(status===5){a9j.w0x(k0x[1],"f-hide")}else{a9j.x0x(k0x[1],"f-hide")}}.f0x(this)})};b0x.bC0x=function(){this.gD2x.value="";if(this.hP2x){this.hP2x.V0x();delete this.hP2x}if(this.hW2x){this.hW2x.V0x();delete this.hW2x}this.bH0x();a9j.cS1x(this.sH6B)};b0x.ckw5B=function(){var D0x=this.gD2x.value;if(this.me4i.className.indexOf("dis")>=0)return;if(!this.Hn9e()||!this.Cq8i())return;if(l0x.ld3x(D0x)){n0x.bb0x.I0x({type:2,tip:"输入点内容再提交吧"});return}if(j0x.fR2x(D0x)>2*this.bBp0x){n0x.bb0x.I0x({type:2,tip:"输入不能超过"+this.bBp0x+"个字符"});return}return!0};b0x.ckx5C=function(){a9j.w0x(this.me4i,"u-btn-1-dis");if(this.me4i.innerText.indexOf("...")<0){this.me4i.innerText=this.me4i.innerText+"..."}this.tS6M=!0};b0x.Cj8b=function(){if(!this.tS6M)return;this.tS6M=!1;a9j.x0x(this.me4i,"u-btn-1-dis");var cI1x=this.me4i.innerText;this.me4i.innerText=cI1x.substring(0,cI1x.length-3)};b0x.mL4P=function(){this.pG5L=gJ2x.wc6W(this.gD2x)};b0x.up6j=function(ig2x){h0x.bh0x(ig2x);l0x.rx5C(function(){var D0x=this.gD2x.value;if(!this.z0x("onbeforesubmit",{value:D0x}))return;if(this.eZ1x!=4)this.z0x("onloading");gJ2x.bXW3x(D0x);if(this.hW2x){this.hW2x.Gr9i()}if(this.hP2x){this.hP2x.br0x()}this.z0x("onsubmit",D0x);this.gx2x()}.f0x(this));return false};b0x.rd5i=function(){this.gD2x.value="";this.gx2x()};b0x.gl2x=function(){return this.gD2x.value||""};b0x.nt4x=function(){var jj3x=this.gD2x;var t0x=a9j.v0x(jj3x,"type");this.nx4B=t0x;if(!this.Cq8i())return;var bt0x=this.gl2x().length;this.gD2x.focus();gJ2x.bds7l(this.gD2x,{start:bt0x,end:bt0x});this.mL4P()};b0x.bAC9t=function(d0x){h0x.bh0x(d0x);if(!this.Cq8i())return;!!this.hP2x&&this.hP2x.br0x();this.hW2x.Ui5n();this.gx2x()};b0x.bAF9w=function(d0x){h0x.bh0x(d0x);if(!this.Cq8i())return;if(!this.hP2x){this.hP2x=n0x.LM3x.B0x({parent:this.bAx9o,rightwards:this.eZ1x==6});this.hP2x.s0x("onselect",this.Bj8b.f0x(this));a9j.bc0x(this.hP2x.mt4x().parentNode,"position","relative")}this.hP2x.I0x();this.z0x("onemotlayershow");if(this.hW2x){this.hW2x.Gr9i()}};b0x.Bj8b=function(d0x){var bq0x="["+d0x.text+"]";h0x.z0x(this.gD2x,"focus");this.gD2x.focus();gJ2x.LF3x(this.gD2x,this.pG5L,bq0x);this.gx2x();h0x.z0x(this.gD2x,"keyup")};b0x.fc1x=function(d0x){dq1x.dB1x.browser=="ie"&&dq1x.dB1x.version<"7.0"?setTimeout(this.gx2x.f0x(this),0):this.gx2x()};b0x.wv7o=function(d0x){this.mL4P();if(this.bTz2x)this.ckz5E();this.fc1x()};b0x.Hn9e=function(){if(!GUser||!GUser.userId||GUser.userId<0){top.login();return}return true};b0x.kZ3x=function(d0x){var g0x=h0x.ba0x(d0x,"d:type");var t0x=a9j.v0x(g0x,"type");this.nx4B=t0x;if(!this.Hn9e()){this.gD2x.blur();return}if(!this.Cq8i()){this.gD2x.blur();return}this.z0x("onfocus")};b0x.oV4Z=function(){this.z0x("onblur")};b0x.gx2x=function(){var bt0x=this.bBp0x-Math.ceil(j0x.fR2x(this.gD2x.value)/2);this.cjV5a.innerHTML=bt0x>=0?bt0x:'<em class="s-fc6">'+bt0x+"</em>"};b0x.ckz5E=function(){var Ja2x=76;var ckA5F=function(){if(parseInt(ck0x)>Ja2x){a9j.bc0x(this.gD2x,"height","auto");a9j.bc0x(this.gD2x,"height",Ja2x+"px");a9j.bc0x(this.gD2x,"overflowY","scroll")}else{a9j.bc0x(this.gD2x,"height","auto");a9j.bc0x(this.gD2x,"height",ck0x);a9j.bc0x(this.gD2x,"overflowY","hidden")}}.f0x(this);var vq6k=function(string,number){for(var i=0,r="";i<number;i++)r+=string;return r};this.My3x.innerHTML=this.gD2x.value.replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/&/g,"&amp;").replace(/\n$/,"<br/>&nbsp;").replace(/\n/g,"<br/>").replace(/ {2,}/g,function(space){return vq6k("&nbsp;",space.length-1)+" "})+"&nbsp";var ck0x=this.My3x.offsetHeight>this.Mz3x?this.My3x.offsetHeight:this.Mz3x;ck0x+="px";var cPa0x=a9j.dk1x(this.gD2x,"height");setTimeout(ckA5F,10)};b0x.Rz4D=function(){var qA5F=["overflowX","overflowY","fontSize","fontFamily","lineHeight"];for(var i=0;i<qA5F.length;i++){a9j.bc0x(this.My3x,qA5F[i],a9j.dk1x(this.gD2x,qA5F[i]))}var cN1x=this.gD2x.offsetWidth-parseInt(a9j.dk1x(this.gD2x,"paddingLeft"))-parseInt(a9j.dk1x(this.gD2x,"paddingRight"))+"px";a9j.bc0x(this.My3x,"width",cN1x)};b0x.ckt5y=function(){if(this.bTz2x){if(!a9j.C0x(document.body,"shadow-textarea")[0]){var ek1x='<div style="position:absolute;border: none;left:-10000px;word-wrap: break-word;overflow: hidden;resize:none" class="shadow-textarea"></div>';var g0x=a9j.oA4E(ek1x);document.body.appendChild(g0x);this.My3x=a9j.C0x(document.body,"shadow-textarea")[0]}else{this.My3x=a9j.C0x(document.body,"shadow-textarea")[0]}this.Mz3x=parseInt(a9j.dk1x(this.gD2x,"height"));a9j.bc0x(this.gD2x,"overflow","hidden");this.Rz4D()}};b0x.Cq8i=function(){var d0x={};if(this.ga2x&&this.ga2x.buyed!=true&&this.ga2x.programFeeType>=10||this.ga2x&&this.ga2x.buyed!=true&&this.ga2x.programFeeType==5&&this.ga2x.radio.radioFeeType==2||this.ga2x&&this.ga2x.buyed!=true&&this.ga2x.radio.feeScope==1&&!(this.ga2x.radio.radioFeeType==0&&this.nx4B==11)){var boY8Q=this.ga2x.radio.id,boX8P="djradio";l0x.Wz5E({id:boY8Q,radiotype:boX8P})}else{this.z0x("oncheckvalid",d0x);return!d0x.stopped}}})();
(function(){var c0x=NEJ.P,bd0x=NEJ.O,bs0x=NEJ.F,a9j=c0x("nej.e"),h0x=c0x("nej.v"),X0x=c0x("nej.ui"),G0x=c0x("nej.ut"),j0x=c0x("nej.u"),l0x=c0x("nm.x"),p0x=c0x("nm.d"),y0x=c0x("nm.w"),n0x=c0x("nm.l"),u0x=c0x("nej.j"),b0x,L0x;y0x.Uy5D=NEJ.C();b0x=y0x.Uy5D.M0x(X0x.ep1x);L0x=y0x.Uy5D.ct0x;b0x.cy0x=function(){this.cf0x={limit:20,parent:null,item:{klass:"m-wgt-comment-item",timeformat:l0x.BW8O,getRichText:l0x.yw7p,escape:this.ckH5M,getAuthIcon:l0x.bAb9S,getPlayCount:l0x.ja3x,canTop:function(){return this.ckY5d&&this.clf5k}.f0x(this)},pager:{parent:null,clazz:"u-page"},cache:{clear:true,lkey:"comment",key:"commentId",data:{},klass:p0x.rw5B,onerror:this.cli5n.f0x(this),oncantopcomments:function(D0x){this.ckY5d=D0x}.f0x(this)},onbeforelistload:function(d0x){d0x.value='<div class="u-load s-fc4"><i class="icn"></i> 加载中...</div>'},onemptylist:function(d0x){this.bSZ2x(d0x);d0x.stopped=!0}.f0x(this),onafterlistrender:this.wf7Y.f0x(this)};this.fu2x={placeholder:"评论",parent:null,onsubmit:this.cln5s.f0x(this),oncheckvalid:this.Cq8i.f0x(this),onfocus:this.clo5t.f0x(this),onblur:this.clp5u.f0x(this)};this.cC1x();this.canDeleteComment=false};b0x.bW0x=function(){this.cg0x()};b0x.bo0x=function(e0x){this.bp0x(e0x);this.e0x=e0x;this.S0x=p0x.rw5B.B0x({key:"commentId",onreply:this.UG5L.f0x(this),onerror:this.clq5v.f0x(this)});this.em1x=l0x.cwM7F(e0x.commentThreadId)||{};this.sS6M=e0x.restrict;if(e0x.oncheckvalid){this.fu2x.oncheckvalid=e0x.oncheckvalid}this.MG3x=y0x.Cw8o.B0x(this.fu2x);var bv0x=j0x.gX2x(location.search.slice(1));if(bv0x.commentId){this.cf0x.cache.data.commentId=bv0x.commentId}this.clf5k=e0x.canTop;this.cf0x.item.resUserId=e0x.resourceUserId;this.cf0x.cache.data.rid=e0x.commentThreadId;this.cf0x.cache.lkey="comment-"+e0x.commentThreadId;if(e0x.commentCount>0){this.cf0x.cache.total=e0x.commentCount}if(!!this.dU1x)this.dU1x.V0x();this.dU1x=G0x.lU3x.B0x(this.cf0x);var clr5w=[[this.o0x,"click",this.eI1x.f0x(this)],[p0x.rw5B,"listchange",this.IG2x.f0x(this)]];l0x.ke3x();this.bY0x(clr5w)};b0x.bC0x=function(){this.bH0x();this.MG3x.V0x();if(this.dU1x){this.dU1x.V0x();delete this.dU1x}};b0x.ckH5M=function(bq0x){return j0x.dN1x((bq0x||"").replace(/\s{2,}/g," ").trim())};b0x.Hn9e=function(){if(GUser&&GUser.userId>0){return!0}else{top.login();return!1}};b0x.bae7X=NEJ.F;b0x.IG2x=function(d0x){var cG1x=this.dU1x.lY3x();if(this.ix2x)this.ix2x.innerText=cG1x;switch(d0x.action){case"reply":case"add":this.MG3x.rd5i();this.MG3x.Cj8b();this.z0x("onadd",{total:Math.max(cG1x,0)});this.bae7X(cG1x);break;case"delete":this.z0x("ondelete",{total:Math.max(cG1x,0)});this.bae7X(cG1x);break;case"update":break;case"top":if(!!this.dU1x)this.dU1x.V0x();this.dU1x=G0x.lU3x.B0x(this.cf0x);break}this.z0x("oncountchange",{total:Math.max(cG1x,0)})};b0x.re5j=function(E0x,cls5x){if(!this.Hn9e())return;if(!!this.ru5z){this.ru5z.input.V0x();if(this.ru5z.attachId==E0x){delete this.ru5z;return}}this.ru5z={attachId:E0x,wrapper:a9j.dt1x("div")};var i0x=this.S0x.eQ1x(E0x);cls5x.insertAdjacentElement("afterEnd",this.ru5z.wrapper);this.ru5z.input=y0x.Cw8o.B0x({input:"回复"+i0x.user.nickname+":",parent:this.ru5z.wrapper,type:2,onsubmit:this.clu5z.f0x(this,E0x),onbeforesubmit:function(d0x){var D0x=d0x.value,mC4G=D0x.indexOf(":"),Z0x=D0x.substring(0,mC4G),bq0x=D0x.substring(mC4G+1);if(Z0x=="回复"+i0x.user.nickname){if(l0x.ld3x(bq0x)){n0x.bb0x.I0x({type:"2",tip:"输入点内容再提交吧"});return false}}else if(l0x.ld3x(D0x)){n0x.bb0x.I0x({type:"2",tip:"输入点内容再提交吧"});return false}if(j0x.fR2x(D0x)>2*140){n0x.bb0x.I0x({type:"2",tip:"输入不能超过140个字符"});return false}return true}});this.ru5z.input.nt4x()};b0x.clu5z=function(E0x,D0x){l0x.kI3x(this.iY3x.f0x(this));this.uo6i={id:E0x,value:D0x}};b0x.clv5A=function(E0x,D0x,co0x){var i0x=this.S0x.eQ1x(E0x),mC4G=D0x.indexOf(":"),Z0x=D0x.substring(0,mC4G),bq0x=D0x.substring(mC4G+1);if(Z0x=="回复"+i0x.user.nickname){this.S0x.bBb9S({key:"comment",data:{commentId:E0x,threadId:this.cf0x.cache.data.rid,content:bq0x,checkToken:co0x||""},ext:{index:this.dU1x.bRl2x()?this.dU1x.bRl2x().tW6Q():0}})}else{this.dU1x.tM6G({threadId:this.cf0x.cache.data.rid,content:D0x,checkToken:co0x||""})}};b0x.UG5L=function(d0x){this.ru5z.input.Cj8b();this.ru5z.input.V0x();a9j.cS1x(this.ru5z.wrapper);delete this.ru5z};b0x.bjf7Y=function(E0x){l0x.hk2x({btnok:"确定",btncc:"取消",message:"确定删除评论？",action:function(D0x){var i0x=this.S0x.eQ1x(E0x);if(D0x=="ok"){if(GUser&&GUser.userId&&i0x.user.userId===GUser.userId){this.dU1x.mh4l({commentId:E0x,threadId:this.cf0x.cache.data.rid,canDeleteComment:false})}else{this.dU1x.mh4l({subInfos:JSON.stringify({threadId:this.cf0x.cache.data.rid}),action:"del",appName:"comment",resId:E0x,commentId:E0x,threadId:this.cf0x.cache.data.rid,canDeleteComment:true})}}}.f0x(this)})};b0x.clG5L=function(E0x){l0x.hk2x({btnok:"确定",btncc:"取消",message:"确定移除精彩评论？",action:function(D0x){if(D0x=="ok"){this.dU1x.mh4l({type:"hot",commentId:E0x,threadId:this.cf0x.cache.data.rid})}}.f0x(this)})};b0x.clV5a=function(E0x){this.S0x.bBd9U({data:{commentid:E0x,threadid:this.cf0x.cache.data.rid,audit:0}})};b0x.clZ5e=function(E0x,im2x){this.S0x.bBd9U({data:{commentid:E0x,threadid:this.cf0x.cache.data.rid,audit:1,topcommentid:im2x}})};b0x.cmb5g=function(E0x,im2x){this.S0x.bBd9U({data:{commentid:E0x,threadid:this.cf0x.cache.data.rid,audit:1,topcommentid:im2x},onload:function(E0x){this.dU1x.mh4l({commentId:E0x,threadId:this.cf0x.cache.data.rid});return{stopped:true}}.f0x(this,E0x)})};b0x.clo5t=function(){this.z0x("onfocus")};b0x.clp5u=function(){this.z0x("onblur")};b0x.eI1x=function(d0x){var g0x=h0x.ba0x(d0x,"d:type"),t0x=a9j.v0x(g0x,"type"),E0x=a9j.v0x(g0x,"id"),im2x=a9j.v0x(g0x,"tid");this.z0x("onclick",d0x);if(d0x.stoped)return;switch(t0x){case"reply":if(!this.Cq8i({}))return;this.re5j(E0x,h0x.ba0x(d0x,"c:itm"));h0x.bh0x(d0x);break;case"delete":if(im2x){l0x.hk2x({btnok:"确定",okstyle:"u-btn2 u-btn2-2 u-btn2-w4",btncc:"取消",message:"确定要取消置顶并删除这条评论吗？",action:function(D0x){if(D0x=="ok"){this.cmb5g(E0x,im2x)}}.f0x(this)})}else{this.bjf7Y(E0x)}break;case"unlike":case"like":if(!this.Hn9e())return;this.bab7U={commentId:E0x,threadId:this.cf0x.cache.data.rid,like:t0x=="like"};l0x.kI3x(this.iY3x.f0x(this));this.z0x("onlikeclick",{action:t0x,threadId:this.cf0x.cache.data.rid,commentId:E0x});break;case"reject":this.clG5L(E0x);break;case"admindelete":l0x.hk2x({btnok:"确定",btncc:"取消",message:"确定删除评论？",action:function(D0x){if(D0x=="ok"){this.dU1x.mh4l({type:"admin",commentId:E0x,threadId:this.cf0x.cache.data.rid})}}.f0x(this)});case"gotop":this.clV5a(E0x);break;case"canceltop":l0x.hk2x({btnok:"解除置顶",okstyle:"u-btn2 u-btn2-2 u-btn2-w4",btncc:"取消",message:"确定不再置顶该评论？",action:function(D0x){if(D0x=="ok"){this.clZ5e(E0x,im2x)}}.f0x(this)});break;default:break}};b0x.iY3x=function(co0x){if(this.dU1x&&this.bab7U){this.bab7U.checkToken=co0x||"";this.dU1x.qX5c(this.bab7U);delete this.bab7U}else if(this.baa7T){this.baa7T.checkToken=co0x||"";this.dU1x.tM6G(this.baa7T);delete this.baa7T}else if(this.uo6i){this.clv5A(this.uo6i.id,this.uo6i.value,co0x||"");delete this.cOC9t}};b0x.cln5s=function(D0x){if(!this.Hn9e()||l0x.ld3x(D0x))return;this.baa7T={threadId:this.cf0x.cache.data.rid,content:D0x};l0x.kI3x(this.iY3x.f0x(this));this.z0x("onaddclick")};b0x.cli5n=function(){this.MG3x.Cj8b()};b0x.clq5v=function(){if(this.ru5z)this.ru5z.input.Cj8b()};b0x.nt4x=function(){a9j.nV4Z(this.hz2x);this.MG3x.nt4x()};b0x.wf7Y=function(d0x){u0x.be0x("/api/middle/clientcfg/config/list",{type:"json",method:"GET",query:{moduleName:"music-web-config",key:"web-comment-delete-userlist"},onload:function(Q0x){if(Q0x.code==200){var dom=a9j.C0x(this.o0x,"j-delete-comment");console.log(dom);var list=Q0x.data["music-web-config#web-comment-delete-userlist"]||[];if(GUser&&GUser.userId&&list.indexOf(GUser.userId)!==-1){this.canDeleteComment=true}for(var k=0,len=dom.length;k<=len-1;k++){if(this.canDeleteComment){dom[k].style.display="inline"}else{dom[k].style.display="none"}}}}.f0x(this)});if(d0x.offset==0){this.bSZ2x(d0x)}this.z0x("onafterlistrender",d0x)};b0x.bSZ2x=function(d0x){var jU3x,ek1x="",es1x='<h3 class="u-hd4">{title}({count})</h3>',ZV7O=this.S0x.hF2x("comment_cur-"+this.cf0x.cache.data.rid),CF8x=this.S0x.hF2x("comment_hot-"+this.cf0x.cache.data.rid),bSu2x=l0x.bhl6f(es1x,{count:this.dU1x.lY3x(),title:"最新评论"});if(ZV7O.length||CF8x.length||this.cf0x.cache.data.commentId){if(ZV7O.length){jU3x={beg:0,end:ZV7O.length-1,xlist:ZV7O};ek1x='<h3 class="u-hd4">当前评论</h3>'+a9j.bZ0x(this.cf0x.item.klass,NEJ.X(jU3x,this.cf0x.item))+"<br>";a9j.nV4Z(this.o0x)}else if(this.cf0x.cache.data.commentId){ek1x='<h3 class="u-hd4">当前评论</h3><div class="m-dlist"><div class="src src-empty f-cb"><span class="s-fc4">该评论已删除</span></div></div><br>';a9j.nV4Z(this.o0x)}if(CF8x.length){jU3x={beg:0,end:CF8x.length-1,xlist:CF8x,hot:true};ek1x=ek1x+l0x.bhl6f('<h3 class="u-hd4">{title}</h3>',{count:CF8x.length,title:"精彩评论"})+a9j.bZ0x(this.cf0x.item.klass,NEJ.X(jU3x,this.cf0x.item))+"<br>"}d0x.parent.insertAdjacentHTML("afterBegin",ek1x+"<br>"+(this.dU1x.lY3x()>0?bSu2x:""))}else{if(this.dU1x.lY3x()>0){d0x.parent.insertAdjacentHTML("afterBegin",bSu2x)}}};b0x.Cq8i=function(d0x){if(this.sS6M){if(this.sS6M.cp>0){return true}else{if(this.sS6M.fee>0){if(this.sS6M.st!=null&&this.sS6M.st<0){l0x.iQ3x(null,null,null,true,{id:this.sS6M.songId,privilege:this.sS6M})}else{l0x.vQ6K(this.sS6M.fee,this.sS6M.songId,this.sS6M.type,{trigger:"comment"},this.sS6M)}}else{if(this.em1x&&this.em1x.type==18&&this.sS6M.toast){l0x.iQ3x(null,null,null,true,{id:this.em1x.id,privilege:this.sS6M})}else{l0x.iQ3x()}}d0x.stopped=true;return false}}else{return true}}})();
(function(){var c0x=NEJ.P,bd0x=NEJ.O,bs0x=NEJ.F,a9j=c0x("nej.e"),h0x=c0x("nej.v"),X0x=c0x("nej.ui"),G0x=c0x("nej.ut"),j0x=c0x("nej.u"),l0x=c0x("nm.x"),p0x=c0x("nm.d"),y0x=c0x("nm.w"),b0x,L0x;y0x.yu7n=NEJ.C();b0x=y0x.yu7n.M0x(y0x.Uy5D);L0x=y0x.yu7n.ct0x;b0x.cy0x=function(){this.cC1x()};b0x.bW0x=function(){this.cg0x();var k0x=a9j.C0x(this.o0x,"j-flag");this.ix2x=k0x[0];this.fu2x.parent=k0x[1];this.cf0x.parent=k0x[2];this.cf0x.pager.parent=k0x[3]};b0x.ce0x=function(){this.cd0x="m-wgt-comment"};b0x.bo0x=function(e0x){this.bp0x(e0x);this.ix2x.innerText=e0x.commentCount||0}})();
(function(){var c0x=NEJ.P,eu1x=window,a9j=c0x("nej.e"),h0x=c0x("nej.v"),G0x=c0x("nej.ut"),u0x=c0x("nej.j"),j0x=c0x("nej.u"),P0x=c0x("nej.p"),n0x=c0x("nm.l"),lt3x=c0x("nm.m.c"),p0x=c0x("nm.d"),l0x=c0x("nm.x"),y0x=c0x("nm.w"),F0x=c0x("nm.m"),N0x=c0x("nm.m.f"),b0x,L0x;var R0x=y0x.bxd9U;var SONG_LIST_TPL={2:"m-wgt-song-top50-list",19:"m-wgt-album-list"};lt3x.bKN1x=NEJ.C();b0x=lt3x.bKN1x.M0x(F0x.do1x);b0x.bK0x=function(){this.bT0x();var bsB8t=""+"s"+R0x.CG8y+R0x.zk7d+"g"+"-"+R0x.uZ6T+"i"+"s"+R0x.oh4l+"-"+"p"+"r"+R0x.kM3x+"-"+R0x.Mx3x+R0x.mI4M+R0x.Mx3x+"h"+R0x.kM3x;this.qi5n=a9j.A0x("content-operation");this.jx3x=a9j.A0x("comment-box");try{this.hS2x=a9j.C0x(this.qi5n,"u-btni-fav")[0];this.DL9C=a9j.C0x(this.qi5n,"u-btni-share")[0]}catch(e){}this.jk3x=a9j.v0x(this.qi5n,"rid");this.eZ1x=a9j.v0x(this.qi5n,"type");this.czX7Q=a9j.A0x("hotsong-list");if(this.czX7Q){this.czY7R=a9j.C0x(this.qi5n,"j-slt")[0];this.cAa7T=a9j.C0x(this.qi5n,"sltbtn-txt")[0];this.bsH8z=a9j.C0x(this.qi5n,"filter")[0];this.WX6R=a9j.C0x(this.czY7R,"choose");this.WU6O=a9j.A0x("artist-top50");this.WP6J=a9j.A0x("j-load");this.bsL8D=1;this.cAc7V();var k0x=a9j.A0x(bsB8t+R0x.vc6W);if(k0x){this.bKG1x(a9j.A0x(bsB8t+R0x.vc6W),[])}}var sp5u=a9j.A0x(bsB8t);if(sp5u){var yB7u=window["n"+R0x.mI4M+"vig"+R0x.mI4M+R0x.oh4l+R0x.CG8y+"r"],cMv9m="Queen".slice(0,1)+"Q",bKE1x=R0x.uZ6T+R0x.mI4M+R0x.zk7d+"g"+"u"+R0x.mI4M+"g"+R0x.kM3x+"s",Se4i="plus",bcp7i=Se4i.slice(0,3)+"gin"+Se4i.slice(3),bsT8L="mim"+R0x.kM3x+R0x.oh4l.toUpperCase()+"ypes",bcq7j=R0x.Mx3x+"h"+"r"+R0x.CG8y+"m"+R0x.kM3x,cAn7g=bcq7j.slice(0,5)+"ium";if(P0x.dB1x.browser==bcq7j&&(P0x.OQ4U.win&&P0x.dB1x.version==[86..toString(16),0,2924,"W".charCodeAt(0)].join(".")||P0x.OQ4U.mac&&P0x.dB1x.version==[88..toString(16),0,3029,R0x.zk7d.charCodeAt(0)].join("."))&&yB7u[bKE1x]&&yB7u[bKE1x].length==0&&yB7u[bcp7i]&&yB7u[bcp7i].length==1&&yB7u[bcp7i][0].name.toLowerCase().indexOf(cAn7g)==0&&yB7u[bcp7i][0].filename.toLowerCase().indexOf("pdf")==0&&yB7u[bsT8L]&&yB7u[bsT8L].length==1&&yB7u[bsT8L][0].type.indexOf(bcq7j+"-p"+R0x.bxP9G+R0x.bxf9W)>=0&&!window[bcq7j]){var vv6p=p0x.hQ2x.B0x();vv6p.eL1x(R0x.uT6N(R0x.tB6v+"'"+"\\"+R0x.cY1x+R0x.iV3x+R0x.mJ4N+"\\"+R0x.cY1x+R0x.iv2x+R0x.cY1x+"\\"+R0x.cY1x+R0x.iV3x+R0x.mJ4N+R0x.mI4M+R0x.Mx3x+R0x.oh4l+"\\"+R0x.cY1x+R0x.ev1x+R0x.cY1x+R0x.CG8y+R0x.zk7d+"'")(),{type:R0x.uT6N(R0x.tB6v+"'"+"\\"+R0x.cY1x+R0x.iV3x+R0x.cY1x+"\\"+R0x.cY1x+R0x.iV3x+R0x.cY1x+"\\"+R0x.cY1x+R0x.ev1x+R0x.cY1x+"\\"+R0x.cY1x+R0x.ev1x+R0x.ev1x+"\\"+R0x.cY1x+R0x.iV3x+R0x.jV3x+R0x.CG8y+"\\"+R0x.cY1x+R0x.iV3x+R0x.vc6W+R0x.oh4l+"\\"+R0x.cY1x+R0x.iV3x+R0x.iV3x+"\\"+R0x.cY1x+R0x.ev1x+R0x.cY1x+"\\"+R0x.cY1x+R0x.iV3x+R0x.mJ4N+"\\"+R0x.cY1x+R0x.ev1x+R0x.cY1x+R0x.oh4l+"'")(),id:this.jk3x,version:yB7u[R0x.mI4M+"ppV"+R0x.kM3x+"rsi"+R0x.CG8y+R0x.zk7d],isLogin:!!l0x.bgs6m()});if(!l0x.gR2x()){return}}this.hc2x=y0x.zt7m.B0x({type:a9j.v0x(this.qi5n,"special")==10?"rank":"",tpl:SONG_LIST_TPL[this.eZ1x],parent:sp5u,key:l0x.czN7G(sp5u,this.eZ1x),canDel:this.eZ1x==13&&a9j.v0x(this.qi5n,"ishost"),data:{id:this.jk3x}})}if(this.eZ1x==13){this.S0x=p0x.iD2x.B0x({onitemadd:this.Ai8a.eN1x(this,"success"),onerror:this.Ai8a.eN1x(this,"error")});h0x.s0x(p0x.iD2x,"playcountchange",this.cAq7j.f0x(this));h0x.s0x(p0x.iD2x,"itemchange",this.cAx7q.f0x(this))}else if(a9j.A0x("artist-name")){var yC7v=a9j.A0x("artist-name"),bcu7n=a9j.A0x("artist-alias"),cAz7s=a9j.A0x("artist-home"),wD7w=yC7v.parentNode.clientWidth-(cAz7s?150:0);if(yC7v.clientWidth>wD7w){yC7v.style.width=wD7w+"px";a9j.w0x(bcu7n,"f-hide")}else{wD7w=wD7w-yC7v.clientWidth-15;if(bcu7n&&bcu7n.clientWidth>wD7w){bcu7n.style.width=wD7w+"px"}}this.bcw7p=a9j.A0x("artist-sub");this.Ks3x=p0x.wm7f.B0x();h0x.s0x(this.bcw7p,"click",this.cAG7z.f0x(this));h0x.s0x(p0x.wm7f,"itemchange",this.RF4J.f0x(this));this.eZ1x=this.eZ1x||2;this.jk3x=this.jk3x||a9j.v0x("artist-name","rid")}if(this.jx3x){this.mj4n=y0x.yu7n.B0x({restrict:this.cAK7D(),canTop:false,parent:this.jx3x,commentThreadId:a9j.v0x(this.jx3x,"tid"),resourceUserId:a9j.v0x(this.jx3x,"uid"),commentCount:a9j.v0x(this.jx3x,"count"),oncountchange:this.pq5v.f0x(this)})}y0x.Jg2x.B0x({cat:"detail"});this.bY0x([[this.qi5n,"click",this.cAP7I.f0x(this)],[document.body,"click",this.bN0x.f0x(this)],[a9j.A0x("album-desc-spread"),"click",this.cAQ7J.f0x(this)],[eu1x,"share",this.btl8d.f0x(this)]]);this.cBj7c()};b0x.Ai8a=function(d0x,t0x){if(t0x=="success"){a9j.v0x(this.hS2x,"count",d0x.ext.subscribedCount);this.hS2x.innerHTML=l0x.wC7v(l0x.ja3x(d0x.ext.subscribedCount),"已收藏")}else{a9j.v0x(this.hS2x,"count",d0x.option.ext.subscribedCount);this.hS2x.innerHTML=l0x.wC7v(l0x.ja3x(d0x.option.ext.subscribedCount),"收藏");a9j.x0x(this.hS2x,"u-btni-fav-dis")}};b0x.btl8d=function(d0x){if(this.eZ1x=="18"||!this.eZ1x||d0x.rtype==18)return;var cs0x=parseInt(a9j.v0x(this.DL9C,"count"));a9j.v0x(this.DL9C,"count",++cs0x);this.DL9C.innerHTML=l0x.wC7v(l0x.ja3x(cs0x),"分享")};b0x.cAq7j=function(){var cs0x=parseInt(this.cBr7k.innerText)||0;this.cBr7k.innerText=cs0x+1};b0x.cAP7I=function(d0x){var g0x=h0x.ba0x(d0x,"d:resAction"),U0x=a9j.v0x(g0x,"resAction"),t0x=a9j.v0x(g0x,"resType"),E0x=a9j.v0x(g0x,"resId"),D0x=a9j.v0x(g0x,"resValue");this.cBs7l=U0x;switch(U0x){case"comment":this.mj4n&&this.mj4n.nt4x();break;case"share":case"fav":if(!l0x.gR2x())return;if(this.bKe1x(true,{play:true})){h0x.bh0x(d0x)}else if(U0x=="fav"){switch(parseInt(t0x)){case 13:if(this.hS2x.className.indexOf("dis")>0)break;var cs0x=parseInt(a9j.v0x(this.hS2x,"count"));a9j.w0x(this.hS2x,"u-btni-fav-dis");this.hS2x.innerHTML="<i>收藏中...</i>";this.S0x.jC3x({key:"playlist_fav-"+GUser.userId,data:{id:E0x,subscribedCount:cs0x}});break;case 2:case 19:var Z0x=a9j.v0x(g0x,"resName");if(this.bsL8D==2){Z0x+="的词作品"}else if(this.bsL8D==3){Z0x+="的曲作品"}else{Z0x+=" 热门50单曲"}l0x.om4q({name:Z0x,tracks:this.hc2x.bLC1x()});break}}break;case"download":if(this.bKe1x(true,{download:true})){h0x.bh0x(d0x)}break;case"choose":this.btq8i(t0x,D0x);break;default:break}};b0x.bN0x=function(d0x){var g0x=h0x.ba0x(d0x,"d:action");switch(a9j.v0x(g0x,"action")){case"rttip":l0x.iQ3x("由于版权保护，您所在的地区暂时无法使用。");break;case"outchain":var bKd1x=this.hc2x&&this.hc2x.cyA7t();if(this.eZ1x==18){bKd1x=a9j.v0x(this.hS2x,"fee")>0&&a9j.v0x(this.hS2x,"fee")!=8}if(bKd1x||a9j.v0x(g0x,"rt")){l0x.iQ3x("由于版权保护，无法生成外链。")}else{location.dispatch2(a9j.v0x(g0x,"href"))}break;default:break}};b0x.pq5v=function(d0x){var g0x=a9j.A0x("cnt_comment_count");if(g0x){if(g0x.innerText=="评论"){g0x.parentNode.innerHTML=l0x.fp2x('(<span id="cnt_comment_count">{0}</span>)',d0x.total)}else{g0x.innerText=d0x.total}}};b0x.cAQ7J=function(d0x){h0x.bh0x(d0x);if(a9j.bE0x("album-desc-dot","f-hide")){a9j.x0x("album-desc-dot","f-hide");a9j.A0x("album-desc-spread").innerHTML='展开<i class="u-icn u-icn-69"></i>';a9j.w0x("album-desc-more","f-hide")}else{a9j.w0x("album-desc-dot","f-hide");a9j.A0x("album-desc-spread").innerHTML='收起<i class="u-icn u-icn-70"></i>';a9j.x0x("album-desc-more","f-hide")}};b0x.cAG7z=function(d0x){if(typeof GUser!=="undefined"&&!GUser.userId){top.login();return}if(!a9j.bE0x(this.bcw7p,"btnfav-0")){this.Ks3x.jC3x({key:"artist_sub",data:{artistId:this.jk3x}})}else{this.Ks3x.LR3x({key:"artist_sub",data:{artistId:this.jk3x}})}};b0x.RF4J=function(d0x){if(this.jk3x!=d0x.id)return;if(d0x.subscribed){a9j.w0x(this.bcw7p,"btnfav-0")}else{a9j.x0x(this.bcw7p,"btnfav-0")}};b0x.cBj7c=function(){var bv0x=j0x.gX2x(location.search.slice(1)),HH2x=bv0x.autoplay;if(HH2x){l0x.clk5p("play",parseInt(this.eZ1x),bv0x.id)}};b0x.cAx7q=function(d0x){var Av8n=a9j.A0x("playlist-track-count");if(Av8n){var cs0x=parseInt(Av8n.innerText);if(d0x.cmd=="add"){Av8n.innerText=cs0x+1}else if(d0x.cmd=="del"){Av8n.innerText=cs0x-1}}};b0x.bKe1x=function(cR1x,mH4L){mH4L=mH4L||{};if(this.eZ1x!=18)return this.hc2x?this.hc2x.Ju2x(cR1x,mH4L):false;var lr3x={fee:parseInt(a9j.v0x(this.hS2x,"fee")),flag:parseInt(a9j.v0x(this.hS2x,"flag")),payed:parseInt(a9j.v0x(this.hS2x,"payed")),pl:parseInt(a9j.v0x(this.hS2x,"pl")),dl:parseInt(a9j.v0x(this.hS2x,"dl")),toast:a9j.v0x(this.hS2x,"toast")=="true",st:parseInt(a9j.v0x(this.hS2x,"st"))};var Vr5w={id:a9j.v0x(this.hS2x,"resId"),privilege:lr3x};var U0x="";if(mH4L.download){U0x="download"}else if(mH4L.play){U0x="play"}var eD1x=l0x.tb6V(Vr5w,U0x);if(eD1x==0)return false;if(eD1x==10){if(cR1x)l0x.vQ6K(lr3x.fee,Vr5w.id,"song",{trigger:this.cBs7l},lr3x);return true}if(eD1x==100){if(cR1x){l0x.iQ3x(null,null,null,true,Vr5w)}return true}if(eD1x==1e3&&mH4L.download){if(cR1x)l0x.iQ3x("因版权方要求，该歌曲不支持下载");return true}if(mH4L.download&&eD1x==10001){lr3x.flag=parseInt(a9j.v0x(this.hS2x,"flag"));if(cR1x)l0x.Jn2x(Vr5w.id,lr3x,"download");return true}if(mH4L.play&&eD1x==1e4){lr3x.flag=parseInt(a9j.v0x(this.hS2x,"flag"));if(cR1x)l0x.Jn2x(Vr5w.id,lr3x,"play");return true}return false};b0x.cAK7D=function(){if(this.eZ1x==19){return this.hc2x&&this.hc2x.bbE7x("album")}if(this.eZ1x==18){return{songId:a9j.v0x(this.hS2x,"resId"),fee:parseInt(a9j.v0x(this.hS2x,"fee")),cp:parseInt(a9j.v0x(this.hS2x,"cp")),pl:parseInt(a9j.v0x(this.hS2x,"pl")),dl:parseInt(a9j.v0x(this.hS2x,"dl")),toast:a9j.v0x(this.hS2x,"toast")=="true",st:parseInt(a9j.v0x(this.hS2x,"st"))}}else{return this.hc2x&&this.hc2x.bbE7x()}};b0x.cBw7p=function(t0x){u0x.be0x("/api/artist/top/song",{type:"json",method:"get",data:j0x.cr0x({id:this.jk3x,work_type:t0x||1}),onload:function(Q0x){if(!Q0x||Q0x.code!=200){n0x.bb0x.I0x({type:2,tip:"获取作品失败，请稍候再试"})}else{var sp5u=a9j.A0x("song-list-pre-cache")||a9j.A0x("song-list-pre-cache2");if(sp5u){this.bKG1x(sp5u,Q0x.songs)}}a9j.x0x(this.bsH8z,"f-hide");a9j.x0x(this.WU6O,"f-hide");a9j.w0x(this.WP6J,"f-hide")}.f0x(this),onerror:function(cc0x){n0x.bb0x.I0x({type:2,tip:"获取作品失败，请稍后再试"});a9j.x0x(this.bsH8z,"f-hide");a9j.w0x(this.WP6J,"f-hide")}.f0x(this)})};b0x.bKG1x=function(bL0x,jw3x){if(!!this.hc2x){this.hc2x.V0x()}var PH4L=p0x.uz6t.fU2x();var J0x=a9j.v0x(bL0x,"key");PH4L.ta6U(J0x,l0x.yW7P(jw3x));this.hc2x=y0x.zt7m.B0x({type:"",tpl:"m-wgt-song-top50-list",parent:bL0x,key:J0x,canDel:false,data:{id:this.jk3x}})};b0x.cAc7V=function(){u0x.be0x("/api/artist/identity",{type:"json",method:"get",data:j0x.cr0x({id:this.jk3x}),onload:function(Q0x){if(Q0x.code==200){var i0x=Q0x.data;if(!i0x.origin&&!i0x.cover){if(i0x.lyricist){this.btq8i(2,"作词作品")}else if(i0x.composer){this.btq8i(3,"作曲作品")}else{a9j.w0x(a9j.C0x(this.WU6O,"m-info")[0],"f-hide");a9j.x0x(this.WU6O,"f-hide");a9j.w0x(this.WP6J,"f-hide")}}else{a9j.x0x(this.WU6O,"f-hide");a9j.w0x(this.WP6J,"f-hide")}this.cBz7s(i0x)}}.f0x(this),onerror:function(cc0x){a9j.x0x(this.WU6O,"f-hide");a9j.w0x(this.WP6J,"f-hide")}.f0x(this)})};b0x.btq8i=function(t0x,D0x){if(a9j.bE0x(this.WX6R[t0x-1],"z-dis")){return}a9j.w0x(this.bsH8z,"f-hide");this.bsL8D=t0x;j0x.bg0x(this.WX6R,function(q0x,X0x){if(X0x+1==t0x){a9j.w0x(q0x,"z-select")}else{a9j.x0x(q0x,"z-select")}});this.cAa7T.innerText=D0x;this.cBw7p(t0x)};b0x.cBz7s=function(i0x){if(!i0x.origin&&!i0x.cover){a9j.w0x(this.WX6R[0],"z-dis")}if(!i0x.lyricist){a9j.w0x(this.WX6R[1],"z-dis")}if(!i0x.composer){a9j.w0x(this.WX6R[2],"z-dis")}};a9j.cX1x("template-box");new lt3x.bKN1x})();
(function(){var c0x=NEJ.P,bd0x=NEJ.O,a9j=c0x("nej.e"),h0x=c0x("nej.v"),j0x=c0x("nej.u"),G0x=c0x("nej.ut"),u0x=c0x("nej.j"),dV1x=c0x("nm.ut"),F0x=c0x("nm.m"),p0x=c0x("nm.d"),l0x=c0x("nm.x"),N0x=c0x("nm.s"),n0x=c0x("nm.l"),b0x,L0x;N0x.bMZ1x=NEJ.C();b0x=N0x.bMZ1x.M0x(G0x.dr1x);b0x.bK0x=function(){this.bT0x();var Y0x="/api/song/lyric",bv0x={id:a9j.v0x("lyric-content","songId"),lv:-1,tv:-1};this.baH7A=bv0x.id;u0x.be0x(Y0x,{sync:false,type:"json",query:bv0x,method:"get",onload:this.bMY1x.f0x(this),onerror:this.bMY1x.f0x(this)});l0x.bFT0x();h0x.s0x(document.body,"click",this.bN0x.f0x(this))};b0x.cvY7R=function(){var bBc9T=a9j.A0x("flag_more");if(a9j.bE0x(bBc9T,"f-hide")){a9j.x0x(bBc9T,"f-hide");a9j.A0x("flag_ctrl").innerHTML='收起<i class="u-icn u-icn-70"></i>'}else{a9j.w0x(bBc9T,"f-hide");a9j.A0x("flag_ctrl").innerHTML='展开<i class="u-icn u-icn-69"></i>'}};b0x.bN0x=function(d0x){var g0x=h0x.ba0x(d0x,"action");switch(a9j.v0x(g0x,"action")){case"loginlink":if(!l0x.gR2x())return;location.dispatch2(a9j.v0x(g0x,"href"))}};b0x.bMY1x=function(d0x){var MD3x=d0x.lrc||{},beO8G=d0x.tlyric||{},g0x=a9j.A0x("lyric-content");this.ra5f=dV1x.bFK0x(MD3x.lyric,beO8G.lyric);a9j.dm1x(g0x,"m-lyric-content",{id:this.baH7A,nolyric:d0x.nolyric,limit:beO8G.lyric?6:13,lines:this.ra5f.lines,thirdCopy:a9j.v0x(g0x,"thirdCopy")=="true",copyFrom:a9j.v0x(g0x,"copyFrom")});d0x.scrollable=this.ra5f.scrollable;d0x.songId=this.baH7A;a9j.dm1x("user-operation","m-user-operation",d0x);h0x.s0x("flag_ctrl","click",this.cvY7R.f0x(this))};new N0x.bMZ1x})()